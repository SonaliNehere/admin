import{a as Vf}from"./chunk-ISQDK2EA.js";import{a as lw}from"./chunk-SU6HBHHX.js";import{A as Wd,D as fo,G as Kd,H as aw,I as Gi,J as Re,a as ow,d as Ff,e as $d,f as bc,l as Nf,m as Hd,p as Gd,q as sw,s as Lf,x as Ft,y as Hi,z as sn}from"./chunk-JV6BBNXC.js";import{$ as X,$a as Pd,$b as jd,A as $t,Aa as gt,Ab as bt,Ac as Di,B as Ef,Ba as Xt,Bb as ke,Bc as Jy,C as en,Ca as xy,Cb as Lt,Cc as qd,D as nr,Da as fs,Db as lo,Dc as tw,E as no,Ea as Ey,Eb as $i,Ec as on,F as uc,Fa as Le,Fb as ci,Fc as ew,G as De,Ga as ae,Gb as ce,Gc as iw,H as _y,Ha as gc,Hb as le,Hc as mo,I as hc,Ia as ps,Ib as Od,Ic as nw,J as Rn,Ja as gs,Jb as V,Jc as rw,K as nn,Ka as Iy,Kb as li,L as If,La as ky,Lb as de,M as by,Ma as Cy,Mb as Zt,Mc as cw,N as mc,Na as Ty,Nb as Jt,Nc as jf,O as ds,Oa as Sy,Ob as te,P as vy,Pa as Dy,Pb as Ce,Pc as Qd,Q as us,Qa as Ay,Qb as St,Qc as Bf,R as Dd,Ra as _i,Rb as di,Rc as zf,S as gi,Sa as Ry,Sb as ys,T as Mt,Ta as ai,Tb as Vy,U as hs,Ua as _c,Ub as Fd,V as qi,Va as z,Vb as Nd,W as Wt,Wa as E,Wb as ws,X as zt,Xa as oo,Xb as jy,Y as rr,Ya as ar,Yb as Ld,Z as or,Za as My,Zb as By,_ as q,_a as Md,_b as Vd,a as Ui,aa as yy,ab as _s,ac as Rf,b as fy,ba as $,bb as Py,bc as Bd,c as Se,ca as kf,cb as J,cc as Mf,d as bf,da as w,db as Df,dc as zy,e as vf,ea as H,eb as so,ec as uo,f as _t,fa as ms,fb as Ot,fc as zd,g as si,ga as Cf,gb as Ie,gc as Uy,h as Td,ha as fc,hb as Oy,hc as Pf,i as py,ia as ht,ib as Af,ic as ti,j as Si,ja as st,jb as Fy,jc as qy,k as Ne,ka as Z,kb as Ct,kc as $y,l as Ye,la as rt,lb as Tt,lc as be,m as jt,ma as Tf,mb as ct,mc as xs,n as Y,na as Ad,nb as ao,nc as Hy,o as eo,oa as wy,ob as xt,oc as Gy,p as yf,pa as Mn,pb as rn,pc as ho,q as gy,qa as sr,qb as co,qc as Wy,r as tt,ra as Ze,rb as T,rc as Ky,s as cs,sa as oe,sb as A,sc as mt,t as Xe,ta as se,tb as ot,tc as Qy,u as wf,ua as Rd,ub as bs,uc as Of,v as ls,va as Sf,vb as Ae,vc as Yy,w as io,wa as Je,wb as vs,wc as Xy,x as Sd,xa as pc,xb as Ny,xc as Pn,y as xf,ya as _e,yb as dt,yc as Zy,z as ir,za as ro,zb as Ly,zc as Ud}from"./chunk-NDSCLNDP.js";import"./chunk-APDNC44F.js";import{a as B,b as Nt,e as _f,f as R}from"./chunk-FO65GQC2.js";var qf=class{};var Es=class n{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(i=>{let e=i.indexOf(":");if(e>0){let r=i.slice(0,e),o=r.toLowerCase(),s=i.slice(e+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((i,e)=>{this.setHeaderEntries(e,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([i,e])=>{this.setHeaderEntries(i,e)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let i=this.headers.get(t.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,i){return this.clone({name:t,value:i,op:"a"})}set(t,i){return this.clone({name:t,value:i,op:"s"})}delete(t,i){return this.clone({name:t,value:i,op:"d"})}maybeSetNormalizedName(t,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(i=>{this.headers.set(i,t.headers.get(i)),this.normalizedNames.set(i,t.normalizedNames.get(i))})}clone(t){let i=new n;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([t]),i}applyUpdate(t){let i=t.name.toLowerCase();switch(t.op){case"a":case"s":let e=t.value;if(typeof e=="string"&&(e=[e]),e.length===0)return;this.maybeSetNormalizedName(t.name,i);let r=(t.op==="a"?this.headers.get(i):void 0)||[];r.push(...e),this.headers.set(i,r);break;case"d":let o=t.value;if(!o)this.headers.delete(i),this.normalizedNames.delete(i);else{let s=this.headers.get(i);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,s)}break}}setHeaderEntries(t,i){let e=(Array.isArray(i)?i:[i]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,e),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>t(this.normalizedNames.get(i),this.headers.get(i)))}};var $f=class{encodeKey(t){return dw(t)}encodeValue(t){return dw(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function nD(n,t){let i=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=i.get(s)||[];l.push(a),i.set(s,l)}),i}var rD=/%(\d[a-f0-9])/gi,oD={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function dw(n){return encodeURIComponent(n).replace(rD,(t,i)=>oD[i]??t)}function Yd(n){return`${n}`}var cr=class n{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new $f,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=nD(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(i=>{let e=t.fromObject[i],r=Array.isArray(e)?e.map(Yd):[Yd(e)];this.map.set(i,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let i=this.map.get(t);return i?i[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,i){return this.clone({param:t,value:i,op:"a"})}appendAll(t){let i=[];return Object.keys(t).forEach(e=>{let r=t[e];Array.isArray(r)?r.forEach(o=>{i.push({param:e,value:o,op:"a"})}):i.push({param:e,value:r,op:"a"})}),this.clone(i)}set(t,i){return this.clone({param:t,value:i,op:"s"})}delete(t,i){return this.clone({param:t,value:i,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let i=this.encoder.encodeKey(t);return this.map.get(t).map(e=>i+"="+this.encoder.encodeValue(e)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let i=new n({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(t),i}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let i=(t.op==="a"?this.map.get(t.param):void 0)||[];i.push(Yd(t.value)),this.map.set(t.param,i);break;case"d":if(t.value!==void 0){let e=this.map.get(t.param)||[],r=e.indexOf(Yd(t.value));r!==-1&&e.splice(r,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Hf=class{constructor(){this.map=new Map}set(t,i){return this.map.set(t,i),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function sD(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function uw(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function hw(n){return typeof Blob<"u"&&n instanceof Blob}function mw(n){return typeof FormData<"u"&&n instanceof FormData}function aD(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var vc=class n{constructor(t,i,e,r){this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let o;if(sD(this.method)||r?(this.body=e!==void 0?e:null,o=r):o=e,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Es,this.context??=new Hf,!this.params)this.params=new cr,this.urlWithParams=i;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=i;else{let a=i.indexOf("?"),l=a===-1?"?":a<i.length-1?"&":"";this.urlWithParams=i+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||uw(this.body)||hw(this.body)||mw(this.body)||aD(this.body)?this.body:this.body instanceof cr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||mw(this.body)?null:hw(this.body)?this.body.type||null:uw(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof cr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let i=t.method||this.method,e=t.url||this.url,r=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,d=t.headers||this.headers,h=t.params||this.params,f=t.context??this.context;return t.setHeaders!==void 0&&(d=Object.keys(t.setHeaders).reduce((g,_)=>g.set(_,t.setHeaders[_]),d)),t.setParams&&(h=Object.keys(t.setParams).reduce((g,_)=>g.set(_,t.setParams[_]),h)),new n(i,e,s,{params:h,headers:d,context:f,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}},fw=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(fw||{}),Gf=class{constructor(t,i=pw.Ok,e="OK"){this.headers=t.headers||new Es,this.status=t.status!==void 0?t.status:i,this.statusText=t.statusText||e,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}};var Wf=class n extends Gf{constructor(t={}){super(t),this.type=fw.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}};var pw=function(n){return n[n.Continue=100]="Continue",n[n.SwitchingProtocols=101]="SwitchingProtocols",n[n.Processing=102]="Processing",n[n.EarlyHints=103]="EarlyHints",n[n.Ok=200]="Ok",n[n.Created=201]="Created",n[n.Accepted=202]="Accepted",n[n.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",n[n.NoContent=204]="NoContent",n[n.ResetContent=205]="ResetContent",n[n.PartialContent=206]="PartialContent",n[n.MultiStatus=207]="MultiStatus",n[n.AlreadyReported=208]="AlreadyReported",n[n.ImUsed=226]="ImUsed",n[n.MultipleChoices=300]="MultipleChoices",n[n.MovedPermanently=301]="MovedPermanently",n[n.Found=302]="Found",n[n.SeeOther=303]="SeeOther",n[n.NotModified=304]="NotModified",n[n.UseProxy=305]="UseProxy",n[n.Unused=306]="Unused",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n[n.BadRequest=400]="BadRequest",n[n.Unauthorized=401]="Unauthorized",n[n.PaymentRequired=402]="PaymentRequired",n[n.Forbidden=403]="Forbidden",n[n.NotFound=404]="NotFound",n[n.MethodNotAllowed=405]="MethodNotAllowed",n[n.NotAcceptable=406]="NotAcceptable",n[n.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",n[n.RequestTimeout=408]="RequestTimeout",n[n.Conflict=409]="Conflict",n[n.Gone=410]="Gone",n[n.LengthRequired=411]="LengthRequired",n[n.PreconditionFailed=412]="PreconditionFailed",n[n.PayloadTooLarge=413]="PayloadTooLarge",n[n.UriTooLong=414]="UriTooLong",n[n.UnsupportedMediaType=415]="UnsupportedMediaType",n[n.RangeNotSatisfiable=416]="RangeNotSatisfiable",n[n.ExpectationFailed=417]="ExpectationFailed",n[n.ImATeapot=418]="ImATeapot",n[n.MisdirectedRequest=421]="MisdirectedRequest",n[n.UnprocessableEntity=422]="UnprocessableEntity",n[n.Locked=423]="Locked",n[n.FailedDependency=424]="FailedDependency",n[n.TooEarly=425]="TooEarly",n[n.UpgradeRequired=426]="UpgradeRequired",n[n.PreconditionRequired=428]="PreconditionRequired",n[n.TooManyRequests=429]="TooManyRequests",n[n.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",n[n.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",n[n.InternalServerError=500]="InternalServerError",n[n.NotImplemented=501]="NotImplemented",n[n.BadGateway=502]="BadGateway",n[n.ServiceUnavailable=503]="ServiceUnavailable",n[n.GatewayTimeout=504]="GatewayTimeout",n[n.HttpVersionNotSupported=505]="HttpVersionNotSupported",n[n.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",n[n.InsufficientStorage=507]="InsufficientStorage",n[n.LoopDetected=508]="LoopDetected",n[n.NotExtended=510]="NotExtended",n[n.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",n}(pw||{});function Uf(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var gw=(()=>{let t=class t{constructor(e){this.handler=e}request(e,r,o={}){let s;if(e instanceof vc)s=e;else{let d;o.headers instanceof Es?d=o.headers:d=new Es(o.headers);let h;o.params&&(o.params instanceof cr?h=o.params:h=new cr({fromObject:o.params})),s=new vc(e,r,o.body!==void 0?o.body:null,{headers:d,context:o.context,params:h,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=Y(s).pipe(nr(d=>this.handler.handle(d)));if(e instanceof vc||o.observe==="events")return a;let l=a.pipe($t(d=>d instanceof Wf));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(tt(d=>{if(d.body!==null&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return l.pipe(tt(d=>{if(d.body!==null&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return l.pipe(tt(d=>{if(d.body!==null&&typeof d.body!="string")throw new Error("Response is not a string.");return d.body}));case"json":default:return l.pipe(tt(d=>d.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:new cr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,o={}){return this.request("PATCH",e,Uf(o,r))}post(e,r,o={}){return this.request("POST",e,Uf(o,r))}put(e,r,o={}){return this.request("PUT",e,Uf(o,r))}};t.\u0275fac=function(r){return new(r||t)(w(qf))},t.\u0275prov=q({token:t,factory:t.\u0275fac});let n=t;return n})();var Yf=class extends Ky{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Xf=class n extends Yf{static makeCurrent(){Wy(new n)}onAndCancel(t,i,e){return t.addEventListener(i,e),()=>{t.removeEventListener(i,e)}}dispatchEvent(t,i){t.dispatchEvent(i)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,i){return i=i||this.getDefaultDocument(),i.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,i){return i==="window"?window:i==="document"?t:i==="body"?t.body:null}getBaseHref(t){let i=dD();return i==null?null:uD(i)}resetBaseElement(){yc=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Zy(document.cookie,t)}},yc=null;function dD(){return yc=yc||document.querySelector("base"),yc?yc.getAttribute("href"):null}function uD(n){return new URL(n,document.baseURI).pathname}var Zf=class{addToWindow(t){rr.getAngularTestability=(e,r=!0)=>{let o=t.findTestabilityInTree(e,r);if(o==null)throw new zt(5103,!1);return o},rr.getAllAngularTestabilities=()=>t.getAllTestabilities(),rr.getAllAngularRootElements=()=>t.getAllRootElements();let i=e=>{let r=rr.getAllAngularTestabilities(),o=r.length,s=function(){o--,o==0&&e()};r.forEach(a=>{a.whenStable(s)})};rr.frameworkStabilizers||(rr.frameworkStabilizers=[]),rr.frameworkStabilizers.push(i)}findTestabilityInTree(t,i,e){if(i==null)return null;let r=t.getTestability(i);return r??(e?ho().isShadowRoot(i)?this.findTestabilityInTree(t,i.host,!0):this.findTestabilityInTree(t,i.parentElement,!0):null)}},hD=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac});let n=t;return n})(),Jf=new $(""),vw=(()=>{let t=class t{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(o=>{o.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,o){return this._findPluginFor(r).addEventListener(e,r,o)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(s=>s.supports(e)),!r)throw new zt(5101,!1);return this._eventNameToPlugin.set(e,r),r}};t.\u0275fac=function(r){return new(r||t)(w(Jf),w(J))},t.\u0275prov=q({token:t,factory:t.\u0275fac});let n=t;return n})(),Xd=class{constructor(t){this._doc=t}},Kf="ng-app-id",yw=(()=>{let t=class t{constructor(e,r,o,s={}){this.doc=e,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=mo(s),this.resetHostNodes()}addStyles(e){for(let r of e)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(e){for(let r of e)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(r=>r.remove()),e.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){let r=this.styleRef;r.get(e)?.elements?.forEach(o=>o.remove()),r.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${Kf}="${this.appId}"]`);if(e?.length){let r=new Map;return e.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(e,r){let o=this.styleRef;if(o.has(e)){let s=o.get(e);return s.usage+=r,s.usage}return o.set(e,{usage:r,elements:[]}),r}getStyleElement(e,r){let o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===e)return o.delete(r),s.removeAttribute(Kf),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(Kf,this.appId),e.appendChild(a),a}}addStyleToHost(e,r){let o=this.getStyleElement(e,r),s=this.styleRef,a=s.get(r)?.elements;a?a.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}};t.\u0275fac=function(r){return new(r||t)(w(mt),w(fs),w(gc,8),w(Le))},t.\u0275prov=q({token:t,factory:t.\u0275fac});let n=t;return n})(),Qf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ep=/%COMP%/g,ww="%COMP%",mD=`_nghost-${ww}`,fD=`_ngcontent-${ww}`,pD=!0,gD=new $("",{providedIn:"root",factory:()=>pD});function _D(n){return fD.replace(ep,n)}function bD(n){return mD.replace(ep,n)}function xw(n,t){return t.map(i=>i.replace(ep,n))}var Zd=(()=>{let t=class t{constructor(e,r,o,s,a,l,d,h=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=d,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=mo(l),this.defaultRenderer=new wc(e,a,d,this.platformIsServer)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===fc.ShadowDom&&(r=Nt(B({},r),{encapsulation:fc.Emulated}));let o=this.getOrCreateRenderer(e,r);return o instanceof Jd?o.applyToHost(e):o instanceof xc&&o.applyStyles(),o}getOrCreateRenderer(e,r){let o=this.rendererByCompId,s=o.get(r.id);if(!s){let a=this.doc,l=this.ngZone,d=this.eventManager,h=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case fc.Emulated:s=new Jd(d,h,r,this.appId,f,a,l,g);break;case fc.ShadowDom:return new tp(d,h,e,r,a,l,this.nonce,g);default:s=new xc(d,h,r,f,a,l,g);break}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(r){return new(r||t)(w(vw),w(yw),w(fs),w(gD),w(mt),w(Le),w(J),w(gc))},t.\u0275prov=q({token:t,factory:t.\u0275fac});let n=t;return n})(),wc=class{constructor(t,i,e,r){this.eventManager=t,this.doc=i,this.ngZone=e,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,i){return i?this.doc.createElementNS(Qf[i]||i,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,i){(_w(t)?t.content:t).appendChild(i)}insertBefore(t,i,e){t&&(_w(t)?t.content:t).insertBefore(i,e)}removeChild(t,i){t&&t.removeChild(i)}selectRootElement(t,i){let e=typeof t=="string"?this.doc.querySelector(t):t;if(!e)throw new zt(-5104,!1);return i||(e.textContent=""),e}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,i,e,r){if(r){i=r+":"+i;let o=Qf[r];o?t.setAttributeNS(o,i,e):t.setAttribute(i,e)}else t.setAttribute(i,e)}removeAttribute(t,i,e){if(e){let r=Qf[e];r?t.removeAttributeNS(r,i):t.removeAttribute(`${e}:${i}`)}else t.removeAttribute(i)}addClass(t,i){t.classList.add(i)}removeClass(t,i){t.classList.remove(i)}setStyle(t,i,e,r){r&(_c.DashCase|_c.Important)?t.style.setProperty(i,e,r&_c.Important?"important":""):t.style[i]=e}removeStyle(t,i,e){e&_c.DashCase?t.style.removeProperty(i):t.style[i]=""}setProperty(t,i,e){t!=null&&(t[i]=e)}setValue(t,i){t.nodeValue=i}listen(t,i,e){if(typeof t=="string"&&(t=ho().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${i}`);return this.eventManager.addEventListener(t,i,this.decoratePreventDefault(e))}decoratePreventDefault(t){return i=>{if(i==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(i)):t(i))===!1&&i.preventDefault()}}};function _w(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var tp=class extends wc{constructor(t,i,e,r,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=i,this.hostEl=e,this.shadowRoot=e.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=xw(r.id,r.styles);for(let h of d){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,i){return super.appendChild(this.nodeOrShadowRoot(t),i)}insertBefore(t,i,e){return super.insertBefore(this.nodeOrShadowRoot(t),i,e)}removeChild(t,i){return super.removeChild(this.nodeOrShadowRoot(t),i)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},xc=class extends wc{constructor(t,i,e,r,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=r,this.styles=l?xw(l,e.styles):e.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Jd=class extends xc{constructor(t,i,e,r,o,s,a,l){let d=r+"-"+e.id;super(t,i,e,o,s,a,l,d),this.contentAttr=_D(d),this.hostAttr=bD(d)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,i){let e=super.createElement(t,i);return super.setAttribute(e,this.contentAttr,""),e}},vD=(()=>{let t=class t extends Xd{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,o){return e.addEventListener(r,o,!1),()=>this.removeEventListener(e,r,o)}removeEventListener(e,r,o){return e.removeEventListener(r,o)}};t.\u0275fac=function(r){return new(r||t)(w(mt))},t.\u0275prov=q({token:t,factory:t.\u0275fac});let n=t;return n})(),bw=["alt","control","meta","shift"],yD={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wD={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},xD=(()=>{let t=class t extends Xd{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,r,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ho().onAndCancel(e,s.domEventName,a))}static parseEventName(e){let r=e.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let s=t._normalizeKey(r.pop()),a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),bw.forEach(h=>{let f=r.indexOf(h);f>-1&&(r.splice(f,1),a+=h+".")}),a+=s,r.length!=0||s.length===0)return null;let d={};return d.domEventName=o,d.fullKey=a,d}static matchEventFullKeyCode(e,r){let o=yD[e.key]||e.key,s="";return r.indexOf("code.")>-1&&(o=e.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),bw.forEach(a=>{if(a!==o){let l=wD[a];l(e)&&(s+=a+".")}}),s+=o,s===r)}static eventCallback(e,r,o){return s=>{t.matchEventFullKeyCode(s,e)&&o.runGuarded(()=>r(s))}}static _normalizeKey(e){return e==="esc"?"escape":e}};t.\u0275fac=function(r){return new(r||t)(w(mt))},t.\u0275prov=q({token:t,factory:t.\u0275fac});let n=t;return n})();function ED(){Xf.makeCurrent()}function ID(){return new ro}function kD(){return xy(document),document}var CD=[{provide:Le,useValue:ew},{provide:Ey,useValue:ED,multi:!0},{provide:mt,useFactory:kD,deps:[]}],Ew=Uy(qy,"browser",CD),TD=new $(""),SD=[{provide:Vd,useClass:Zf,deps:[]},{provide:By,useClass:jd,deps:[J,Rf,Vd]},{provide:jd,useClass:jd,deps:[J,Rf,Vd]}],DD=[{provide:wy,useValue:"root"},{provide:ro,useFactory:ID,deps:[]},{provide:Jf,useClass:vD,multi:!0,deps:[mt,J,Le]},{provide:Jf,useClass:xD,multi:!0,deps:[mt]},Zd,yw,vw,{provide:Pd,useExisting:Zd},{provide:rw,useClass:hD,deps:[]},[]],Iw=(()=>{let t=class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:fs,useValue:e.appId}]}}};t.\u0275fac=function(r){return new(r||t)(w(TD,12))},t.\u0275mod=Z({type:t}),t.\u0275inj=X({providers:[...DD,...SD],imports:[on,$y]});let n=t;return n})();var kw=(()=>{let t=class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}};t.\u0275fac=function(r){return new(r||t)(w(mt))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var ip=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=q({token:t,factory:function(r){let o=null;return r?o=new(r||t):o=w(AD),o},providedIn:"root"});let n=t;return n})(),AD=(()=>{let t=class t extends ip{constructor(e){super(),this._doc=e}sanitize(e,r){if(r==null)return null;switch(e){case _i.NONE:return r;case _i.HTML:return gs(r,"HTML")?ps(r):Ay(this._doc,String(r)).toString();case _i.STYLE:return gs(r,"Style")?ps(r):r;case _i.SCRIPT:if(gs(r,"Script"))return ps(r);throw new zt(5200,!1);case _i.URL:return gs(r,"URL")?ps(r):Dy(String(r));case _i.RESOURCE_URL:if(gs(r,"ResourceURL"))return ps(r);throw new zt(5201,!1);default:throw new zt(5202,!1)}}bypassSecurityTrustHtml(e){return Iy(e)}bypassSecurityTrustStyle(e){return ky(e)}bypassSecurityTrustScript(e){return Cy(e)}bypassSecurityTrustUrl(e){return Ty(e)}bypassSecurityTrustResourceUrl(e){return Sy(e)}};t.\u0275fac=function(r){return new(r||t)(w(mt))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var wt="primary",Lc=Symbol("RouteTitle"),cp=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let i=this.params[t];return Array.isArray(i)?i[0]:i}return null}getAll(t){if(this.has(t)){let i=this.params[t];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};function Ss(n){return new cp(n)}function RD(n,t,i){let e=i.path.split("/");if(e.length>n.length||i.pathMatch==="full"&&(t.hasChildren()||e.length<n.length))return null;let r={};for(let o=0;o<e.length;o++){let s=e[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,e.length),posParams:r}}function MD(n,t){if(n.length!==t.length)return!1;for(let i=0;i<n.length;++i)if(!an(n[i],t[i]))return!1;return!0}function an(n,t){let i=n?lp(n):void 0,e=t?lp(t):void 0;if(!i||!e||i.length!=e.length)return!1;let r;for(let o=0;o<i.length;o++)if(r=i[o],!Ow(n[r],t[r]))return!1;return!0}function lp(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Ow(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let i=[...n].sort(),e=[...t].sort();return i.every((r,o)=>e[o]===r)}else return n===t}function Fw(n){return n.length>0?n[n.length-1]:null}function hr(n){return yf(n)?n:Bd(n)?jt(Promise.resolve(n)):Y(n)}var PD={exact:Lw,subset:Vw},Nw={exact:OD,subset:FD,ignored:()=>!0};function Cw(n,t,i){return PD[i.paths](n.root,t.root,i.matrixParams)&&Nw[i.queryParams](n.queryParams,t.queryParams)&&!(i.fragment==="exact"&&n.fragment!==t.fragment)}function OD(n,t){return an(n,t)}function Lw(n,t,i){if(!go(n.segments,t.segments)||!iu(n.segments,t.segments,i)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let e in t.children)if(!n.children[e]||!Lw(n.children[e],t.children[e],i))return!1;return!0}function FD(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(i=>Ow(n[i],t[i]))}function Vw(n,t,i){return jw(n,t,t.segments,i)}function jw(n,t,i,e){if(n.segments.length>i.length){let r=n.segments.slice(0,i.length);return!(!go(r,i)||t.hasChildren()||!iu(r,i,e))}else if(n.segments.length===i.length){if(!go(n.segments,i)||!iu(n.segments,i,e))return!1;for(let r in t.children)if(!n.children[r]||!Vw(n.children[r],t.children[r],e))return!1;return!0}else{let r=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!go(n.segments,r)||!iu(n.segments,r,e)||!n.children[wt]?!1:jw(n.children[wt],t,o,e)}}function iu(n,t,i){return t.every((e,r)=>Nw[i](n[r].parameters,e.parameters))}var lr=class{constructor(t=new Vt([],{}),i={},e=null){this.root=t,this.queryParams=i,this.fragment=e}get queryParamMap(){return this._queryParamMap??=Ss(this.queryParams),this._queryParamMap}toString(){return VD.serialize(this)}},Vt=class{constructor(t,i){this.segments=t,this.children=i,this.parent=null,Object.values(i).forEach(e=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return nu(this)}},po=class{constructor(t,i){this.path=t,this.parameters=i}get parameterMap(){return this._parameterMap??=Ss(this.parameters),this._parameterMap}toString(){return zw(this)}};function ND(n,t){return go(n,t)&&n.every((i,e)=>an(i.parameters,t[e].parameters))}function go(n,t){return n.length!==t.length?!1:n.every((i,e)=>i.path===t[e].path)}function LD(n,t){let i=[];return Object.entries(n.children).forEach(([e,r])=>{e===wt&&(i=i.concat(t(r,e)))}),Object.entries(n.children).forEach(([e,r])=>{e!==wt&&(i=i.concat(t(r,e)))}),i}var Vc=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=q({token:t,factory:()=>new Dc,providedIn:"root"});let n=t;return n})(),Dc=class{parse(t){let i=new up(t);return new lr(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(t){let i=`/${Ec(t.root,!0)}`,e=zD(t.queryParams),r=typeof t.fragment=="string"?`#${jD(t.fragment)}`:"";return`${i}${e}${r}`}},VD=new Dc;function nu(n){return n.segments.map(t=>zw(t)).join("/")}function Ec(n,t){if(!n.hasChildren())return nu(n);if(t){let i=n.children[wt]?Ec(n.children[wt],!1):"",e=[];return Object.entries(n.children).forEach(([r,o])=>{r!==wt&&e.push(`${r}:${Ec(o,!1)}`)}),e.length>0?`${i}(${e.join("//")})`:i}else{let i=LD(n,(e,r)=>r===wt?[Ec(n.children[wt],!1)]:[`${r}:${Ec(e,!1)}`]);return Object.keys(n.children).length===1&&n.children[wt]!=null?`${nu(n)}/${i[0]}`:`${nu(n)}/(${i.join("//")})`}}function Bw(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function tu(n){return Bw(n).replace(/%3B/gi,";")}function jD(n){return encodeURI(n)}function dp(n){return Bw(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ru(n){return decodeURIComponent(n)}function Tw(n){return ru(n.replace(/\+/g,"%20"))}function zw(n){return`${dp(n.path)}${BD(n.parameters)}`}function BD(n){return Object.entries(n).map(([t,i])=>`;${dp(t)}=${dp(i)}`).join("")}function zD(n){let t=Object.entries(n).map(([i,e])=>Array.isArray(e)?e.map(r=>`${tu(i)}=${tu(r)}`).join("&"):`${tu(i)}=${tu(e)}`).filter(i=>i);return t.length?`?${t.join("&")}`:""}var UD=/^[^\/()?;#]+/;function rp(n){let t=n.match(UD);return t?t[0]:""}var qD=/^[^\/()?;=#]+/;function $D(n){let t=n.match(qD);return t?t[0]:""}var HD=/^[^=?&#]+/;function GD(n){let t=n.match(HD);return t?t[0]:""}var WD=/^[^&#]+/;function KD(n){let t=n.match(WD);return t?t[0]:""}var up=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vt([],{}):new Vt([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let e={};return this.peekStartsWith("(")&&(e=this.parseParens(!1)),(t.length>0||Object.keys(i).length>0)&&(e[wt]=new Vt(t,i)),e}parseSegment(){let t=rp(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new zt(4009,!1);return this.capture(t),new po(ru(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let i=$D(this.remaining);if(!i)return;this.capture(i);let e="";if(this.consumeOptional("=")){let r=rp(this.remaining);r&&(e=r,this.capture(e))}t[ru(i)]=ru(e)}parseQueryParam(t){let i=GD(this.remaining);if(!i)return;this.capture(i);let e="";if(this.consumeOptional("=")){let s=KD(this.remaining);s&&(e=s,this.capture(e))}let r=Tw(i),o=Tw(e);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let e=rp(this.remaining),r=this.remaining[e.length];if(r!=="/"&&r!==")"&&r!==";")throw new zt(4010,!1);let o;e.indexOf(":")>-1?(o=e.slice(0,e.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=wt);let s=this.parseChildren();i[o]=Object.keys(s).length===1?s[wt]:new Vt([],s),this.consumeOptional("//")}return i}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new zt(4011,!1)}};function Uw(n){return n.segments.length>0?new Vt([],{[wt]:n}):n}function qw(n){let t={};for(let[e,r]of Object.entries(n.children)){let o=qw(r);if(e===wt&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[e]=o)}let i=new Vt(n.segments,t);return QD(i)}function QD(n){if(n.numberOfChildren===1&&n.children[wt]){let t=n.children[wt];return new Vt(n.segments.concat(t.segments),t.children)}return n}function Ds(n){return n instanceof lr}function YD(n,t,i=null,e=null){let r=$w(n);return Hw(r,t,i,e)}function $w(n){let t;function i(o){let s={};for(let l of o.children){let d=i(l);s[l.outlet]=d}let a=new Vt(o.url,s);return o===n&&(t=a),a}let e=i(n.root),r=Uw(e);return t??r}function Hw(n,t,i,e){let r=n;for(;r.parent;)r=r.parent;if(t.length===0)return op(r,r,r,i,e);let o=XD(t);if(o.toRoot())return op(r,r,new Vt([],{}),i,e);let s=ZD(o,r,n),a=s.processChildren?Cc(s.segmentGroup,s.index,o.commands):Ww(s.segmentGroup,s.index,o.commands);return op(r,s.segmentGroup,a,i,e)}function ou(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ac(n){return typeof n=="object"&&n!=null&&n.outlets}function op(n,t,i,e,r){let o={};e&&Object.entries(e).forEach(([l,d])=>{o[l]=Array.isArray(d)?d.map(h=>`${h}`):`${d}`});let s;n===t?s=i:s=Gw(n,t,i);let a=Uw(qw(s));return new lr(a,o,r)}function Gw(n,t,i){let e={};return Object.entries(n.children).forEach(([r,o])=>{o===t?e[r]=i:e[r]=Gw(o,t,i)}),new Vt(n.segments,e)}var su=class{constructor(t,i,e){if(this.isAbsolute=t,this.numberOfDoubleDots=i,this.commands=e,t&&e.length>0&&ou(e[0]))throw new zt(4003,!1);let r=e.find(Ac);if(r&&r!==Fw(e))throw new zt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function XD(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new su(!0,0,n);let t=0,i=!1,e=n.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,d])=>{a[l]=typeof d=="string"?d.split("/"):d}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?i=!0:a===".."?t++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new su(i,t,e)}var Cs=class{constructor(t,i,e){this.segmentGroup=t,this.processChildren=i,this.index=e}};function ZD(n,t,i){if(n.isAbsolute)return new Cs(t,!0,0);if(!i)return new Cs(t,!1,NaN);if(i.parent===null)return new Cs(i,!0,0);let e=ou(n.commands[0])?0:1,r=i.segments.length-1+e;return JD(i,r,n.numberOfDoubleDots)}function JD(n,t,i){let e=n,r=t,o=i;for(;o>r;){if(o-=r,e=e.parent,!e)throw new zt(4005,!1);r=e.segments.length}return new Cs(e,!1,r-o)}function tA(n){return Ac(n[0])?n[0].outlets:{[wt]:n}}function Ww(n,t,i){if(n??=new Vt([],{}),n.segments.length===0&&n.hasChildren())return Cc(n,t,i);let e=eA(n,t,i),r=i.slice(e.commandIndex);if(e.match&&e.pathIndex<n.segments.length){let o=new Vt(n.segments.slice(0,e.pathIndex),{});return o.children[wt]=new Vt(n.segments.slice(e.pathIndex),n.children),Cc(o,0,r)}else return e.match&&r.length===0?new Vt(n.segments,{}):e.match&&!n.hasChildren()?hp(n,t,i):e.match?Cc(n,0,r):hp(n,t,i)}function Cc(n,t,i){if(i.length===0)return new Vt(n.segments,{});{let e=tA(i),r={};if(Object.keys(e).some(o=>o!==wt)&&n.children[wt]&&n.numberOfChildren===1&&n.children[wt].segments.length===0){let o=Cc(n.children[wt],t,i);return new Vt(n.segments,o.children)}return Object.entries(e).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=Ww(n.children[o],t,s))}),Object.entries(n.children).forEach(([o,s])=>{e[o]===void 0&&(r[o]=s)}),new Vt(n.segments,r)}}function eA(n,t,i){let e=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(e>=i.length)return o;let s=n.segments[r],a=i[e];if(Ac(a))break;let l=`${a}`,d=e<i.length-1?i[e+1]:null;if(r>0&&l===void 0)break;if(l&&d&&typeof d=="object"&&d.outlets===void 0){if(!Dw(l,d,s))return o;e+=2}else{if(!Dw(l,{},s))return o;e++}r++}return{match:!0,pathIndex:r,commandIndex:e}}function hp(n,t,i){let e=n.segments.slice(0,t),r=0;for(;r<i.length;){let o=i[r];if(Ac(o)){let l=iA(o.outlets);return new Vt(e,l)}if(r===0&&ou(i[0])){let l=n.segments[t];e.push(new po(l.path,Sw(i[0]))),r++;continue}let s=Ac(o)?o.outlets[wt]:`${o}`,a=r<i.length-1?i[r+1]:null;s&&a&&ou(a)?(e.push(new po(s,Sw(a))),r+=2):(e.push(new po(s,{})),r++)}return new Vt(e,{})}function iA(n){let t={};return Object.entries(n).forEach(([i,e])=>{typeof e=="string"&&(e=[e]),e!==null&&(t[i]=hp(new Vt([],{}),0,e))}),t}function Sw(n){let t={};return Object.entries(n).forEach(([i,e])=>t[i]=`${e}`),t}function Dw(n,t,i){return n==i.path&&an(t,i.parameters)}var Tc="imperative",Me=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Me||{}),Ai=class{constructor(t,i){this.id=t,this.url=i}},As=class extends Ai{constructor(t,i,e="imperative",r=null){super(t,i),this.type=Me.NavigationStart,this.navigationTrigger=e,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},On=class extends Ai{constructor(t,i,e){super(t,i),this.urlAfterRedirects=e,this.type=Me.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},vi=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(vi||{}),au=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(au||{}),dr=class extends Ai{constructor(t,i,e,r){super(t,i),this.reason=e,this.code=r,this.type=Me.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ur=class extends Ai{constructor(t,i,e,r){super(t,i),this.reason=e,this.code=r,this.type=Me.NavigationSkipped}},Rc=class extends Ai{constructor(t,i,e,r){super(t,i),this.error=e,this.target=r,this.type=Me.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},cu=class extends Ai{constructor(t,i,e,r){super(t,i),this.urlAfterRedirects=e,this.state=r,this.type=Me.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mp=class extends Ai{constructor(t,i,e,r){super(t,i),this.urlAfterRedirects=e,this.state=r,this.type=Me.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fp=class extends Ai{constructor(t,i,e,r,o){super(t,i),this.urlAfterRedirects=e,this.state=r,this.shouldActivate=o,this.type=Me.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},pp=class extends Ai{constructor(t,i,e,r){super(t,i),this.urlAfterRedirects=e,this.state=r,this.type=Me.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gp=class extends Ai{constructor(t,i,e,r){super(t,i),this.urlAfterRedirects=e,this.state=r,this.type=Me.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_p=class{constructor(t){this.route=t,this.type=Me.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},bp=class{constructor(t){this.route=t,this.type=Me.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},vp=class{constructor(t){this.snapshot=t,this.type=Me.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yp=class{constructor(t){this.snapshot=t,this.type=Me.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wp=class{constructor(t){this.snapshot=t,this.type=Me.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xp=class{constructor(t){this.snapshot=t,this.type=Me.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lu=class{constructor(t,i,e){this.routerEvent=t,this.position=i,this.anchor=e,this.type=Me.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Mc=class{},Pc=class{constructor(t){this.url=t}};var Ep=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new jc,this.attachRef=null}},jc=(()=>{let t=class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,r){let o=this.getOrCreateContext(e);o.outlet=r,this.contexts.set(e,o)}onChildOutletDestroyed(e){let r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new Ep,this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),du=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let i=this.pathFromRoot(t);return i.length>1?i[i.length-2]:null}children(t){let i=Ip(t,this._root);return i?i.children.map(e=>e.value):[]}firstChild(t){let i=Ip(t,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(t){let i=kp(t,this._root);return i.length<2?[]:i[i.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return kp(t,this._root).map(i=>i.value)}};function Ip(n,t){if(n===t.value)return t;for(let i of t.children){let e=Ip(n,i);if(e)return e}return null}function kp(n,t){if(n===t.value)return[t];for(let i of t.children){let e=kp(n,i);if(e.length)return e.unshift(t),e}return[]}var bi=class{constructor(t,i){this.value=t,this.children=i}toString(){return`TreeNode(${this.value})`}};function ks(n){let t={};return n&&n.children.forEach(i=>t[i.value.outlet]=i),t}var uu=class extends du{constructor(t,i){super(t),this.snapshot=i,Fp(this,t)}toString(){return this.snapshot.toString()}};function Kw(n){let t=nA(n),i=new si([new po("",{})]),e=new si({}),r=new si({}),o=new si({}),s=new si(""),a=new Rs(i,e,o,s,r,wt,n,t.root);return a.snapshot=t.root,new uu(new bi(a,[]),t)}function nA(n){let t={},i={},e={},r="",o=new Oc([],t,e,r,i,wt,n,null,{});return new hu("",new bi(o,[]))}var Rs=class{constructor(t,i,e,r,o,s,a,l){this.urlSubject=t,this.paramsSubject=i,this.queryParamsSubject=e,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(tt(d=>d[Lc]))??Y(void 0),this.url=t,this.params=i,this.queryParams=e,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(tt(t=>Ss(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(tt(t=>Ss(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Op(n,t,i="emptyOnly"){let e,{routeConfig:r}=n;return t!==null&&(i==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?e={params:B(B({},t.params),n.params),data:B(B({},t.data),n.data),resolve:B(B(B(B({},n.data),t.data),r?.data),n._resolvedData)}:e={params:B({},n.params),data:B({},n.data),resolve:B(B({},n.data),n._resolvedData??{})},r&&Yw(r)&&(e.resolve[Lc]=r.title),e}var Oc=class{get title(){return this.data?.[Lc]}constructor(t,i,e,r,o,s,a,l,d){this.url=t,this.params=i,this.queryParams=e,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ss(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ss(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(e=>e.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${i}')`}},hu=class extends du{constructor(t,i){super(i),this.url=t,Fp(this,i)}toString(){return Qw(this._root)}};function Fp(n,t){t.value._routerState=n,t.children.forEach(i=>Fp(n,i))}function Qw(n){let t=n.children.length>0?` { ${n.children.map(Qw).join(", ")} } `:"";return`${n.value}${t}`}function sp(n){if(n.snapshot){let t=n.snapshot,i=n._futureSnapshot;n.snapshot=i,an(t.queryParams,i.queryParams)||n.queryParamsSubject.next(i.queryParams),t.fragment!==i.fragment&&n.fragmentSubject.next(i.fragment),an(t.params,i.params)||n.paramsSubject.next(i.params),MD(t.url,i.url)||n.urlSubject.next(i.url),an(t.data,i.data)||n.dataSubject.next(i.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Cp(n,t){let i=an(n.params,t.params)&&ND(n.url,t.url),e=!n.parent!=!t.parent;return i&&!e&&(!n.parent||Cp(n.parent,t.parent))}function Yw(n){return typeof n.title=="string"||n.title===null}var Bc=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=wt,this.activateEvents=new Xt,this.deactivateEvents=new Xt,this.attachEvents=new Xt,this.detachEvents=new Xt,this.parentContexts=H(jc),this.location=H(so),this.changeDetector=H(ti),this.environmentInjector=H(Mn),this.inputBinder=H(_u,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){let{firstChange:r,previousValue:o}=e.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new zt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new zt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new zt(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new zt(4013,!1);this._activatedRoute=e;let o=this.location,a=e.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,d=new Tp(e,l,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:d,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=rt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ze]});let n=t;return n})(),Tp=class n{__ngOutletInjector(t){return new n(this.route,this.childContexts,t)}constructor(t,i,e){this.route=t,this.childContexts=i,this.parent=e}get(t,i){return t===Rs?this.route:t===jc?this.childContexts:this.parent.get(t,i)}},_u=new $(""),Aw=(()=>{let t=class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:r}=e,o=cs([r.queryParams,r.params,r.data]).pipe(Mt(([s,a,l],d)=>(l=B(B(B({},s),a),l),d===0?Y(l):Promise.resolve(l)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(e);return}let a=Gy(r.component);if(!a){this.unsubscribeFromRouteData(e);return}for(let{templateName:l}of a.inputs)e.activatedComponentRef.setInput(l,s[l])});this.outletDataSubscriptions.set(e,o)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac});let n=t;return n})();function rA(n,t,i){let e=Fc(n,t._root,i?i._root:void 0);return new uu(e,t)}function Fc(n,t,i){if(i&&n.shouldReuseRoute(t.value,i.value.snapshot)){let e=i.value;e._futureSnapshot=t.value;let r=oA(n,t,i);return new bi(e,r)}else{if(n.shouldAttach(t.value)){let o=n.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Fc(n,a)),s}}let e=sA(t.value),r=t.children.map(o=>Fc(n,o));return new bi(e,r)}}function oA(n,t,i){return t.children.map(e=>{for(let r of i.children)if(n.shouldReuseRoute(e.value,r.value.snapshot))return Fc(n,e,r);return Fc(n,e)})}function sA(n){return new Rs(new si(n.url),new si(n.params),new si(n.queryParams),new si(n.fragment),new si(n.data),n.outlet,n.component,n)}var Xw="ngNavigationCancelingError";function Zw(n,t){let{redirectTo:i,navigationBehaviorOptions:e}=Ds(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Jw(!1,vi.Redirect);return r.url=i,r.navigationBehaviorOptions=e,r}function Jw(n,t){let i=new Error(`NavigationCancelingError: ${n||""}`);return i[Xw]=!0,i.cancellationCode=t,i}function aA(n){return tx(n)&&Ds(n.url)}function tx(n){return!!n&&n[Xw]}var cA=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=st({type:t,selectors:[["ng-component"]],standalone:!0,features:[St],decls:1,vars:0,template:function(r,o){r&1&&ot(0,"router-outlet")},dependencies:[Bc],encapsulation:2});let n=t;return n})();function lA(n,t){return n.providers&&!n._injector&&(n._injector=Af(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Np(n){let t=n.children&&n.children.map(Np),i=t?Nt(B({},n),{children:t}):B({},n);return!i.component&&!i.loadComponent&&(t||i.loadChildren)&&i.outlet&&i.outlet!==wt&&(i.component=cA),i}function cn(n){return n.outlet||wt}function dA(n,t){let i=n.filter(e=>cn(e)===t);return i.push(...n.filter(e=>cn(e)!==t)),i}function zc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let i=t.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}var uA=(n,t,i,e)=>tt(r=>(new Sp(t,r.targetRouterState,r.currentRouterState,i,e).activate(n),r)),Sp=class{constructor(t,i,e,r,o){this.routeReuseStrategy=t,this.futureState=i,this.currState=e,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let i=this.futureState._root,e=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,e,t),sp(this.futureState.root),this.activateChildRoutes(i,e,t)}deactivateChildRoutes(t,i,e){let r=ks(i);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],e),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,e)})}deactivateRoutes(t,i,e){let r=t.value,o=i?i.value:null;if(r===o)if(r.component){let s=e.getContext(r.outlet);s&&this.deactivateChildRoutes(t,i,s.children)}else this.deactivateChildRoutes(t,i,e);else o&&this.deactivateRouteAndItsChildren(i,e)}deactivateRouteAndItsChildren(t,i){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,i):this.deactivateRouteAndOutlet(t,i)}detachAndStoreRouteSubtree(t,i){let e=i.getContext(t.value.outlet),r=e&&t.value.component?e.children:i,o=ks(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(e&&e.outlet){let s=e.outlet.detach(),a=e.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,i){let e=i.getContext(t.value.outlet),r=e&&t.value.component?e.children:i,o=ks(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);e&&(e.outlet&&(e.outlet.deactivate(),e.children.onOutletDeactivated()),e.attachRef=null,e.route=null)}activateChildRoutes(t,i,e){let r=ks(i);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],e),this.forwardEvent(new xp(o.value.snapshot))}),t.children.length&&this.forwardEvent(new yp(t.value.snapshot))}activateRoutes(t,i,e){let r=t.value,o=i?i.value:null;if(sp(r),r===o)if(r.component){let s=e.getOrCreateContext(r.outlet);this.activateChildRoutes(t,i,s.children)}else this.activateChildRoutes(t,i,e);else if(r.component){let s=e.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),sp(a.route.value),this.activateChildRoutes(t,null,s.children)}else{let a=zc(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,e)}},mu=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Ts=class{constructor(t,i){this.component=t,this.route=i}};function hA(n,t,i){let e=n._root,r=t?t._root:null;return Ic(e,r,i,[e.value])}function mA(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function Ps(n,t){let i=Symbol(),e=t.get(n,i);return e===i?typeof n=="function"&&!yy(n)?n:t.get(n):e}function Ic(n,t,i,e,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=ks(t);return n.children.forEach(s=>{fA(s,o[s.value.outlet],i,e.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Sc(a,i.getContext(s),r)),r}function fA(n,t,i,e,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=t?t.value:null,a=i?i.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=pA(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new mu(e)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ic(n,t,a?a.children:null,e,r):Ic(n,t,i,e,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Ts(a.outlet.component,s))}else s&&Sc(t,a,r),r.canActivateChecks.push(new mu(e)),o.component?Ic(n,null,a?a.children:null,e,r):Ic(n,null,i,e,r);return r}function pA(n,t,i){if(typeof i=="function")return i(n,t);switch(i){case"pathParamsChange":return!go(n.url,t.url);case"pathParamsOrQueryParamsChange":return!go(n.url,t.url)||!an(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Cp(n,t)||!an(n.queryParams,t.queryParams);case"paramsChange":default:return!Cp(n,t)}}function Sc(n,t,i){let e=ks(n),r=n.value;Object.entries(e).forEach(([o,s])=>{r.component?t?Sc(s,t.children.getContext(o),i):Sc(s,null,i):Sc(s,t,i)}),r.component?t&&t.outlet&&t.outlet.isActivated?i.canDeactivateChecks.push(new Ts(t.outlet.component,r)):i.canDeactivateChecks.push(new Ts(null,r)):i.canDeactivateChecks.push(new Ts(null,r))}function Uc(n){return typeof n=="function"}function gA(n){return typeof n=="boolean"}function _A(n){return n&&Uc(n.canLoad)}function bA(n){return n&&Uc(n.canActivate)}function vA(n){return n&&Uc(n.canActivateChild)}function yA(n){return n&&Uc(n.canDeactivate)}function wA(n){return n&&Uc(n.canMatch)}function ex(n){return n instanceof gy||n?.name==="EmptyError"}var eu=Symbol("INITIAL_VALUE");function Ms(){return Mt(n=>cs(n.map(t=>t.pipe(De(1),gi(eu)))).pipe(tt(t=>{for(let i of t)if(i!==!0){if(i===eu)return eu;if(i===!1||i instanceof lr)return i}return!0}),$t(t=>t!==eu),De(1)))}function xA(n,t){return Xe(i=>{let{targetSnapshot:e,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=i;return s.length===0&&o.length===0?Y(Nt(B({},i),{guardsResult:!0})):EA(s,e,r,n).pipe(Xe(a=>a&&gA(a)?IA(e,o,n,t):Y(a)),tt(a=>Nt(B({},i),{guardsResult:a})))})}function EA(n,t,i,e){return jt(n).pipe(Xe(r=>DA(r.component,r.route,i,t,e)),nn(r=>r!==!0,!0))}function IA(n,t,i,e){return jt(t).pipe(nr(r=>ls(CA(r.route.parent,e),kA(r.route,e),SA(n,r.path,i),TA(n,r.route,i))),nn(r=>r!==!0,!0))}function kA(n,t){return n!==null&&t&&t(new wp(n)),Y(!0)}function CA(n,t){return n!==null&&t&&t(new vp(n)),Y(!0)}function TA(n,t,i){let e=t.routeConfig?t.routeConfig.canActivate:null;if(!e||e.length===0)return Y(!0);let r=e.map(o=>io(()=>{let s=zc(t)??i,a=Ps(o,s),l=bA(a)?a.canActivate(t,n):sr(s,()=>a(t,n));return hr(l).pipe(nn())}));return Y(r).pipe(Ms())}function SA(n,t,i){let e=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>mA(s)).filter(s=>s!==null).map(s=>io(()=>{let a=s.guards.map(l=>{let d=zc(s.node)??i,h=Ps(l,d),f=vA(h)?h.canActivateChild(e,n):sr(d,()=>h(e,n));return hr(f).pipe(nn())});return Y(a).pipe(Ms())}));return Y(o).pipe(Ms())}function DA(n,t,i,e,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return Y(!0);let s=o.map(a=>{let l=zc(t)??r,d=Ps(a,l),h=yA(d)?d.canDeactivate(n,t,i,e):sr(l,()=>d(n,t,i,e));return hr(h).pipe(nn())});return Y(s).pipe(Ms())}function AA(n,t,i,e){let r=t.canLoad;if(r===void 0||r.length===0)return Y(!0);let o=r.map(s=>{let a=Ps(s,n),l=_A(a)?a.canLoad(t,i):sr(n,()=>a(t,i));return hr(l)});return Y(o).pipe(Ms(),ix(e))}function ix(n){return fy(Wt(t=>{if(Ds(t))throw Zw(n,t)}),tt(t=>t===!0))}function RA(n,t,i,e){let r=t.canMatch;if(!r||r.length===0)return Y(!0);let o=r.map(s=>{let a=Ps(s,n),l=wA(a)?a.canMatch(t,i):sr(n,()=>a(t,i));return hr(l)});return Y(o).pipe(Ms(),ix(e))}var Nc=class{constructor(t){this.segmentGroup=t||null}},fu=class extends Error{constructor(t){super(),this.urlTree=t}};function Is(n){return eo(new Nc(n))}function MA(n){return eo(new zt(4e3,!1))}function PA(n){return eo(Jw(!1,vi.GuardRejected))}var Dp=class{constructor(t,i){this.urlSerializer=t,this.urlTree=i}lineralizeSegments(t,i){let e=[],r=i.root;for(;;){if(e=e.concat(r.segments),r.numberOfChildren===0)return Y(e);if(r.numberOfChildren>1||!r.children[wt])return MA(t.redirectTo);r=r.children[wt]}}applyRedirectCommands(t,i,e){let r=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),t,e);if(i.startsWith("/"))throw new fu(r);return r}applyRedirectCreateUrlTree(t,i,e,r){let o=this.createSegmentGroup(t,i.root,e,r);return new lr(o,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(t,i){let e={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);e[r]=i[a]}else e[r]=o}),e}createSegmentGroup(t,i,e,r){let o=this.createSegments(t,i.segments,e,r),s={};return Object.entries(i.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,e,r)}),new Vt(o,s)}createSegments(t,i,e,r){return i.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,e))}findPosParam(t,i,e){let r=e[i.path.substring(1)];if(!r)throw new zt(4001,!1);return r}findOrReturn(t,i){let e=0;for(let r of i){if(r.path===t.path)return i.splice(e),r;e++}return t}},Ap={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function OA(n,t,i,e,r){let o=Lp(n,t,i);return o.matched?(e=lA(t,e),RA(e,t,i,r).pipe(tt(s=>s===!0?o:B({},Ap)))):Y(o)}function Lp(n,t,i){if(t.path==="**")return FA(i);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||i.length>0)?B({},Ap):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let r=(t.matcher||RD)(i,n,t);if(!r)return B({},Ap);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?B(B({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:i.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function FA(n){return{matched:!0,parameters:n.length>0?Fw(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Rw(n,t,i,e){return i.length>0&&VA(n,i,e)?{segmentGroup:new Vt(t,LA(e,new Vt(i,n.children))),slicedSegments:[]}:i.length===0&&jA(n,i,e)?{segmentGroup:new Vt(n.segments,NA(n,i,e,n.children)),slicedSegments:i}:{segmentGroup:new Vt(n.segments,n.children),slicedSegments:i}}function NA(n,t,i,e){let r={};for(let o of i)if(bu(n,t,o)&&!e[cn(o)]){let s=new Vt([],{});r[cn(o)]=s}return B(B({},e),r)}function LA(n,t){let i={};i[wt]=t;for(let e of n)if(e.path===""&&cn(e)!==wt){let r=new Vt([],{});i[cn(e)]=r}return i}function VA(n,t,i){return i.some(e=>bu(n,t,e)&&cn(e)!==wt)}function jA(n,t,i){return i.some(e=>bu(n,t,e))}function bu(n,t,i){return(n.hasChildren()||t.length>0)&&i.pathMatch==="full"?!1:i.path===""}function BA(n,t,i,e){return cn(n)!==e&&(e===wt||!bu(t,i,n))?!1:Lp(t,n,i).matched}function zA(n,t,i){return t.length===0&&!n.children[i]}var Rp=class{};function UA(n,t,i,e,r,o,s="emptyOnly"){return new Mp(n,t,i,e,r,s,o).recognize()}var qA=31,Mp=class{constructor(t,i,e,r,o,s,a){this.injector=t,this.configLoader=i,this.rootComponentType=e,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Dp(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new zt(4002,`'${t.segmentGroup}'`)}recognize(){let t=Rw(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(tt(i=>{let e=new Oc([],Object.freeze({}),Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,{},wt,this.rootComponentType,null,{}),r=new bi(e,i),o=new hu("",r),s=YD(e,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,wt).pipe(en(e=>{if(e instanceof fu)return this.urlTree=e.urlTree,this.match(e.urlTree.root);throw e instanceof Nc?this.noMatchError(e):e}))}inheritParamsAndData(t,i){let e=t.value,r=Op(e,i,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(o=>this.inheritParamsAndData(o,e))}processSegmentGroup(t,i,e,r){return e.segments.length===0&&e.hasChildren()?this.processChildren(t,i,e):this.processSegment(t,i,e,e.segments,r,!0).pipe(tt(o=>o instanceof bi?[o]:[]))}processChildren(t,i,e){let r=[];for(let o of Object.keys(e.children))o==="primary"?r.unshift(o):r.push(o);return jt(r).pipe(nr(o=>{let s=e.children[o],a=dA(i,o);return this.processSegmentGroup(t,a,s,o)}),ds((o,s)=>(o.push(...s),o)),uc(null),by(),Xe(o=>{if(o===null)return Is(e);let s=nx(o);return $A(s),Y(s)}))}processSegment(t,i,e,r,o,s){return jt(i).pipe(nr(a=>this.processSegmentAgainstRoute(a._injector??t,i,a,e,r,o,s).pipe(en(l=>{if(l instanceof Nc)return Y(null);throw l}))),nn(a=>!!a),en(a=>{if(ex(a))return zA(e,r,o)?Y(new Rp):Is(e);throw a}))}processSegmentAgainstRoute(t,i,e,r,o,s,a){return BA(e,r,o,s)?e.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,e,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,i,e,o,s):Is(r):Is(r)}expandSegmentAgainstRouteUsingRedirect(t,i,e,r,o,s){let{matched:a,consumedSegments:l,positionalParamSegments:d,remainingSegments:h}=Lp(i,r,o);if(!a)return Is(i);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>qA&&(this.allowRedirects=!1));let f=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,d);return this.applyRedirects.lineralizeSegments(r,f).pipe(Xe(g=>this.processSegment(t,e,i,g.concat(h),s,!1)))}matchSegmentAgainstRoute(t,i,e,r,o){let s=OA(i,e,r,t,this.urlSerializer);return e.path==="**"&&(i.children={}),s.pipe(Mt(a=>a.matched?(t=e._injector??t,this.getChildConfig(t,e,r).pipe(Mt(({routes:l})=>{let d=e._loadedInjector??t,{consumedSegments:h,remainingSegments:f,parameters:g}=a,_=new Oc(h,g,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,GA(e),cn(e),e.component??e._loadedComponent??null,e,WA(e)),{segmentGroup:S,slicedSegments:O}=Rw(i,h,f,l);if(O.length===0&&S.hasChildren())return this.processChildren(d,l,S).pipe(tt(K=>K===null?null:new bi(_,K)));if(l.length===0&&O.length===0)return Y(new bi(_,[]));let M=cn(e)===o;return this.processSegment(d,l,S,O,M?wt:o,!0).pipe(tt(K=>new bi(_,K instanceof bi?[K]:[])))}))):Is(i)))}getChildConfig(t,i,e){return i.children?Y({routes:i.children,injector:t}):i.loadChildren?i._loadedRoutes!==void 0?Y({routes:i._loadedRoutes,injector:i._loadedInjector}):AA(t,i,e,this.urlSerializer).pipe(Xe(r=>r?this.configLoader.loadChildren(t,i).pipe(Wt(o=>{i._loadedRoutes=o.routes,i._loadedInjector=o.injector})):PA(i))):Y({routes:[],injector:t})}};function $A(n){n.sort((t,i)=>t.value.outlet===wt?-1:i.value.outlet===wt?1:t.value.outlet.localeCompare(i.value.outlet))}function HA(n){let t=n.value.routeConfig;return t&&t.path===""}function nx(n){let t=[],i=new Set;for(let e of n){if(!HA(e)){t.push(e);continue}let r=t.find(o=>e.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...e.children),i.add(r)):t.push(e)}for(let e of i){let r=nx(e.children);t.push(new bi(e.value,r))}return t.filter(e=>!i.has(e))}function GA(n){return n.data||{}}function WA(n){return n.resolve||{}}function KA(n,t,i,e,r,o){return Xe(s=>UA(n,t,i,e,s.extractedUrl,r,o).pipe(tt(({state:a,tree:l})=>Nt(B({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function QA(n,t){return Xe(i=>{let{targetSnapshot:e,guards:{canActivateChecks:r}}=i;if(!r.length)return Y(i);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let d of rx(l))s.add(d);let a=0;return jt(s).pipe(nr(l=>o.has(l)?YA(l,e,n,t):(l.data=Op(l,l.parent,n).resolve,Y(void 0))),Wt(()=>a++),If(1),Xe(l=>a===s.size?Y(i):Si))})}function rx(n){let t=n.children.map(i=>rx(i)).flat();return[n,...t]}function YA(n,t,i,e){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!Yw(r)&&(o[Lc]=r.title),XA(o,n,t,e).pipe(tt(s=>(n._resolvedData=s,n.data=Op(n,n.parent,i).resolve,null)))}function XA(n,t,i,e){let r=lp(n);if(r.length===0)return Y({});let o={};return jt(r).pipe(Xe(s=>ZA(n[s],t,i,e).pipe(nn(),Wt(a=>{o[s]=a}))),If(1),_y(o),en(s=>ex(s)?Si:eo(s)))}function ZA(n,t,i,e){let r=zc(t)??e,o=Ps(n,r),s=o.resolve?o.resolve(t,i):sr(r,()=>o(t,i));return hr(s)}function ap(n){return Mt(t=>{let i=n(t);return i?jt(i).pipe(tt(()=>t)):Y(t)})}var ox=(()=>{let t=class t{buildTitle(e){let r,o=e.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===wt);return r}getResolvedTitleForRoute(e){return e.data[Lc]}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=q({token:t,factory:()=>H(JA),providedIn:"root"});let n=t;return n})(),JA=(()=>{let t=class t extends ox{constructor(e){super(),this.title=e}updateTitle(e){let r=this.buildTitle(e);r!==void 0&&this.title.setTitle(r)}};t.\u0275fac=function(r){return new(r||t)(w(kw))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),qc=new $("",{providedIn:"root",factory:()=>({})}),pu=new $(""),Vp=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=H(zd)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Y(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let r=hr(e.loadComponent()).pipe(tt(sx),Wt(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),Rn(()=>{this.componentLoaders.delete(e)})),o=new vf(r,()=>new _t).pipe(bf());return this.componentLoaders.set(e,o),o}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Y({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=tR(r,this.compiler,e,this.onLoadEndListener).pipe(Rn(()=>{this.childrenLoaders.delete(r)})),a=new vf(s,()=>new _t).pipe(bf());return this.childrenLoaders.set(r,a),a}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function tR(n,t,i,e){return hr(n.loadChildren()).pipe(tt(sx),Xe(r=>r instanceof Oy||Array.isArray(r)?Y(r):jt(t.compileModuleAsync(r))),tt(r=>{e&&e(n);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(i).injector,s=o.get(pu,[],{optional:!0,self:!0}).flat()),{routes:s.map(Np),injector:o}}))}function eR(n){return n&&typeof n=="object"&&"default"in n}function sx(n){return eR(n)?n.default:n}var jp=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=q({token:t,factory:()=>H(iR),providedIn:"root"});let n=t;return n})(),iR=(()=>{let t=class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),ax=new $(""),cx=new $("");function nR(n,t,i){let e=n.get(cx),r=n.get(mt);return n.get(J).runOutsideAngular(()=>{if(!r.startViewTransition||e.skipNextTransition)return e.skipNextTransition=!1,new Promise(d=>setTimeout(d));let o,s=new Promise(d=>{o=d}),a=r.startViewTransition(()=>(o(),rR(n))),{onViewTransitionCreated:l}=e;return l&&sr(n,()=>l({transition:a,from:t,to:i})),s})}function rR(n){return new Promise(t=>{Df(t,{injector:n})})}var Bp=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new _t,this.transitionAbortSubject=new _t,this.configLoader=H(Vp),this.environmentInjector=H(Mn),this.urlSerializer=H(Vc),this.rootContexts=H(jc),this.location=H(Pn),this.inputBindingEnabled=H(_u,{optional:!0})!==null,this.titleStrategy=H(ox),this.options=H(qc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=H(jp),this.createViewTransition=H(ax,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Y(void 0),this.rootComponentType=null;let e=o=>this.events.next(new _p(o)),r=o=>this.events.next(new bp(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let r=++this.navigationId;this.transitions?.next(Nt(B(B({},this.transitions.value),e),{id:r}))}setupNavigations(e,r,o){return this.transitions=new si({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Tc,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe($t(s=>s.id!==0),tt(s=>Nt(B({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Mt(s=>{let a=!1,l=!1;return Y(s).pipe(Mt(d=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",vi.SupersededByNewNavigation),Si;this.currentTransition=s,this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?Nt(B({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=d.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!h&&f!=="reload"){let g="";return this.events.next(new ur(d.id,this.urlSerializer.serialize(d.rawUrl),g,au.IgnoredSameUrlNavigation)),d.resolve(null),Si}if(this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return Y(d).pipe(Mt(g=>{let _=this.transitions?.getValue();return this.events.next(new As(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),_!==this.transitions?.getValue()?Si:Promise.resolve(g)}),KA(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Wt(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=Nt(B({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let _=new cu(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){let{id:g,extractedUrl:_,source:S,restoredState:O,extras:M}=d,K=new As(g,this.urlSerializer.serialize(_),S,O);this.events.next(K);let it=Kw(this.rootComponentType).snapshot;return this.currentTransition=s=Nt(B({},d),{targetSnapshot:it,urlAfterRedirects:_,extras:Nt(B({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,Y(s)}else{let g="";return this.events.next(new ur(d.id,this.urlSerializer.serialize(d.extractedUrl),g,au.IgnoredByUrlHandlingStrategy)),d.resolve(null),Si}}),Wt(d=>{let h=new mp(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),tt(d=>(this.currentTransition=s=Nt(B({},d),{guards:hA(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),s)),xA(this.environmentInjector,d=>this.events.next(d)),Wt(d=>{if(s.guardsResult=d.guardsResult,Ds(d.guardsResult))throw Zw(this.urlSerializer,d.guardsResult);let h=new fp(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(h)}),$t(d=>d.guardsResult?!0:(this.cancelNavigationTransition(d,"",vi.GuardRejected),!1)),ap(d=>{if(d.guards.canActivateChecks.length)return Y(d).pipe(Wt(h=>{let f=new pp(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}),Mt(h=>{let f=!1;return Y(h).pipe(QA(this.paramsInheritanceStrategy,this.environmentInjector),Wt({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(h,"",vi.NoDataFromResolver)}}))}),Wt(h=>{let f=new gp(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}))}),ap(d=>{let h=f=>{let g=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(f.routeConfig).pipe(Wt(_=>{f.component=_}),tt(()=>{})));for(let _ of f.children)g.push(...h(_));return g};return cs(h(d.targetSnapshot.root)).pipe(uc(null),De(1))}),ap(()=>this.afterPreactivation()),Mt(()=>{let{currentSnapshot:d,targetSnapshot:h}=s,f=this.createViewTransition?.(this.environmentInjector,d.root,h.root);return f?jt(f).pipe(tt(()=>s)):Y(s)}),tt(d=>{let h=rA(e.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=s=Nt(B({},d),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,s}),Wt(()=>{this.events.next(new Mc)}),uA(this.rootContexts,e.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),De(1),Wt({next:d=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new On(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),this.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{a=!0}}),qi(this.transitionAbortSubject.pipe(Wt(d=>{throw d}))),Rn(()=>{!a&&!l&&this.cancelNavigationTransition(s,"",vi.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),en(d=>{if(l=!0,tx(d))this.events.next(new dr(s.id,this.urlSerializer.serialize(s.extractedUrl),d.message,d.cancellationCode)),aA(d)?this.events.next(new Pc(d.url)):s.resolve(!1);else{this.events.next(new Rc(s.id,this.urlSerializer.serialize(s.extractedUrl),d,s.targetSnapshot??void 0));try{s.resolve(e.errorHandler(d))}catch(h){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(h)}}return Si}))}))}cancelNavigationTransition(e,r,o){let s=new dr(e.id,this.urlSerializer.serialize(e.extractedUrl),r,o);this.events.next(s),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function oR(n){return n!==Tc}var sR=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=q({token:t,factory:()=>H(aR),providedIn:"root"});let n=t;return n})(),Pp=class{shouldDetach(t){return!1}store(t,i){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,i){return t.routeConfig===i.routeConfig}},aR=(()=>{let t=class t extends Pp{};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=Je(t)))(o||t)}})(),t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),lx=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=q({token:t,factory:()=>H(cR),providedIn:"root"});let n=t;return n})(),cR=(()=>{let t=class t extends lx{constructor(){super(...arguments),this.location=H(Pn),this.urlSerializer=H(Vc),this.options=H(qc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=H(jp),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new lr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Kw(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{r.type==="popstate"&&e(r.url,r.state)})}handleRouterEvent(e,r){if(e instanceof As)this.stateMemento=this.createStateMemento();else if(e instanceof ur)this.rawUrlTree=r.initialUrl;else if(e instanceof cu){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else e instanceof Mc?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):e instanceof dr&&(e.code===vi.GuardRejected||e.code===vi.NoDataFromResolver)?this.restoreHistory(r):e instanceof Rc?this.restoreHistory(r,!0):e instanceof On&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,r){let o=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let s=this.browserPageId,a=B(B({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(o,"",a)}else{let s=B(B({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(e,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===e.finalUrl&&s===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=Je(t)))(o||t)}})(),t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),kc=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(kc||{});function dx(n,t){n.events.pipe($t(i=>i instanceof On||i instanceof dr||i instanceof Rc||i instanceof ur),tt(i=>i instanceof On||i instanceof ur?kc.COMPLETE:(i instanceof dr?i.code===vi.Redirect||i.code===vi.SupersededByNewNavigation:!1)?kc.REDIRECTING:kc.FAILED),$t(i=>i!==kc.REDIRECTING),De(1)).subscribe(()=>{t()})}function lR(n){throw n}var dR={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},uR={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ee=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=H(Ld),this.stateManager=H(lx),this.options=H(qc,{optional:!0})||{},this.pendingTasks=H(Fy),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=H(Bp),this.urlSerializer=H(Vc),this.location=H(Pn),this.urlHandlingStrategy=H(jp),this._events=new _t,this.errorHandler=this.options.errorHandler||lR,this.navigated=!1,this.routeReuseStrategy=H(sR),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=H(pu,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!H(_u,{optional:!0}),this.eventsSubscription=new Ui,this.isNgZoneEnabled=H(J)instanceof J&&J.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof dr&&r.code!==vi.Redirect&&r.code!==vi.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof On)this.navigated=!0;else if(r instanceof Pc){let a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),l={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||oR(o.source)};this.scheduleNavigation(a,Tc,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}mR(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Tc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",r)},0)})}navigateToSyncWithBrowser(e,r,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let d=B({},o);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(s.state=d)}let l=this.parseUrl(e);this.scheduleNavigation(l,r,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Np),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:d}=r,h=d?this.currentUrlTree.fragment:a,f=null;switch(l){case"merge":f=B(B({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}f!==null&&(f=this.removeEmptyProps(f));let g;try{let _=o?o.snapshot:this.routerState.snapshot.root;g=$w(_)}catch{(typeof e[0]!="string"||!e[0].startsWith("/"))&&(e=[]),g=this.currentUrlTree.root}return Hw(g,e,f,h??null)}navigateByUrl(e,r={skipLocationChange:!1}){let o=Ds(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Tc,null,r)}navigate(e,r={skipLocationChange:!1}){return hR(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let o;if(r===!0?o=B({},dR):r===!1?o=B({},uR):o=r,Ds(e))return Cw(this.currentUrlTree,e,o);let s=this.parseUrl(e);return Cw(this.currentUrlTree,s,o)}removeEmptyProps(e){return Object.entries(e).reduce((r,[o,s])=>(s!=null&&(r[o]=s),r),{})}scheduleNavigation(e,r,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,d,h;a?(l=a.resolve,d=a.reject,h=a.promise):h=new Promise((g,_)=>{l=g,d=_});let f=this.pendingTasks.add();return dx(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:l,reject:d,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(g=>Promise.reject(g))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function hR(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new zt(4008,!1)}function mR(n){return!(n instanceof Mc)&&!(n instanceof Pc)}var gu=class{};var fR=(()=>{let t=class t{constructor(e,r,o,s,a){this.router=e,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe($t(e=>e instanceof On),nr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){let o=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Af(s.providers,e,`Route: ${s.path}`));let a=s._injector??e,l=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(l,s.children??s._loadedRoutes))}return jt(o).pipe(wf())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(e,r):o=Y(null);let s=o.pipe(Xe(a=>a===null?Y(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??e,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return jt([s,a]).pipe(wf())}else return s})}};t.\u0275fac=function(r){return new(r||t)(w(ee),w(zd),w(Mn),w(gu),w(Vp))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),ux=new $(""),pR=(()=>{let t=class t{constructor(e,r,o,s,a={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=H(Mn),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof As?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof On?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof ur&&e.code===au.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof lu&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.zone.runOutsideAngular(()=>R(this,null,function*(){yield new Promise(o=>{setTimeout(()=>{o()}),Df(()=>{o()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new lu(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};t.\u0275fac=function(r){oo()},t.\u0275prov=q({token:t,factory:t.\u0275fac});let n=t;return n})();function gR(n){return n.routerState.root}function $c(n,t){return{\u0275kind:n,\u0275providers:t}}function _R(){let n=H(_e);return t=>{let i=n.get(uo);if(t!==i.components[0])return;let e=n.get(ee),r=n.get(hx);n.get(zp)===1&&e.initialNavigation(),n.get(mx,null,kf.Optional)?.setUpPreloading(),n.get(ux,null,kf.Optional)?.init(),e.resetRootComponentType(i.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var hx=new $("",{factory:()=>new _t}),zp=new $("",{providedIn:"root",factory:()=>1});function bR(){return $c(2,[{provide:zp,useValue:0},{provide:Mf,multi:!0,deps:[_e],useFactory:t=>{let i=t.get(Qy,Promise.resolve());return()=>i.then(()=>new Promise(e=>{let r=t.get(ee),o=t.get(hx);dx(r,()=>{e(!0)}),t.get(Bp).afterPreactivation=()=>(e(!0),o.closed?Y(void 0):o),r.initialNavigation()}))}}])}function vR(){return $c(3,[{provide:Mf,multi:!0,useFactory:()=>{let t=H(ee);return()=>{t.setUpLocationChangeListener()}}},{provide:zp,useValue:2}])}var mx=new $("");function yR(n){return $c(0,[{provide:mx,useExisting:fR},{provide:gu,useExisting:n}])}function wR(){return $c(8,[Aw,{provide:_u,useExisting:Aw}])}function xR(n){let t=[{provide:ax,useValue:nR},{provide:cx,useValue:B({skipNextTransition:!!n?.skipInitialTransition},n)}];return $c(9,t)}var Mw=new $("ROUTER_FORROOT_GUARD"),ER=[Pn,{provide:Vc,useClass:Dc},ee,jc,{provide:Rs,useFactory:gR,deps:[ee]},Vp,[]],Up=(()=>{let t=class t{constructor(e){}static forRoot(e,r){return{ngModule:t,providers:[ER,[],{provide:pu,multi:!0,useValue:e},{provide:Mw,useFactory:TR,deps:[[ee,new ms,new Cf]]},{provide:qc,useValue:r||{}},r?.useHash?kR():CR(),IR(),r?.preloadingStrategy?yR(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?SR(r):[],r?.bindToComponentInputs?wR().\u0275providers:[],r?.enableViewTransitions?xR().\u0275providers:[],DR()]}}static forChild(e){return{ngModule:t,providers:[{provide:pu,multi:!0,useValue:e}]}}};t.\u0275fac=function(r){return new(r||t)(w(Mw,8))},t.\u0275mod=Z({type:t}),t.\u0275inj=X({});let n=t;return n})();function IR(){return{provide:ux,useFactory:()=>{let n=H(nw),t=H(J),i=H(qc),e=H(Bp),r=H(Vc);return i.scrollOffset&&n.setOffset(i.scrollOffset),new pR(r,e,n,t,i)}}}function kR(){return{provide:Of,useClass:Xy}}function CR(){return{provide:Of,useClass:Yy}}function TR(n){return"guarded"}function SR(n){return[n.initialNavigation==="disabled"?vR().\u0275providers:[],n.initialNavigation==="enabledBlocking"?bR().\u0275providers:[]]}var Pw=new $("");function DR(){return[{provide:Pw,useFactory:_R},{provide:zy,multi:!0,useExisting:Pw}]}var AR="firebase",RR="10.12.1";Gi(AR,RR,"app");var _o=new ws("ANGULARFIRE2_VERSION");var MR=(n,t)=>{let i=t?[t]:aw(),e=[];return i.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{e.includes(s)||e.push(s)})}),e},Nn=class{constructor(){return MR(PR)}},PR="app-check";function qp(){}var vu=class{zone;delegate;constructor(t,i=py){this.zone=t,this.delegate=i}now(){return this.delegate.now()}schedule(t,i,e){let r=this.zone,o=function(s){r.runGuarded(()=>{t.apply(this,[s])})};return this.delegate.schedule(o,i,e)}},$p=class{zone;task=null;constructor(t){this.zone=t}call(t,i){let e=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qp,{},qp,qp)),i.pipe(Wt({next:e,complete:e,error:e})).subscribe(t).add(e)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},mr=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(i){this.ngZone=i,this.outsideAngular=i.runOutsideAngular(()=>new vu(Zone.current)),this.insideAngular=i.run(()=>new vu(Zone.current,Td)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(e){return new(e||n)(w(J))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fx(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function Hp(n){return n.pipe(Ne(fx().outsideAngular))}function Ve(n){return OR(fx())(n)}function OR(n){return function(i){return i=i.lift(new $p(n.ngZone)),i.pipe(Ye(n.outsideAngular),Ne(n.insideAngular))}}function ui(n){return n!=null&&`${n}`!="false"}function ln(n,t=0){return FR(n)?Number(n):t}function FR(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function Os(n){return Array.isArray(n)?n:[n]}function me(n){return n==null?"":typeof n=="string"?n:`${n}px`}function hi(n){return n instanceof gt?n.nativeElement:n}var Wp;try{Wp=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Wp=!1}var Et=(()=>{let t=class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?iw(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Wp)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};t.\u0275fac=function(r){return new(r||t)(w(Le))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var Fs,px=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Kp(){if(Fs)return Fs;if(typeof document!="object"||!document)return Fs=new Set(px),Fs;let n=document.createElement("input");return Fs=new Set(px.filter(t=>(n.setAttribute("type",t),n.type===t))),Fs}var Hc;function NR(){if(Hc==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Hc=!0}))}finally{Hc=Hc||!1}return Hc}function fr(n){return NR()?n:!!n.capture}var bo;function gx(){if(bo==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return bo=!1,bo;if("scrollBehavior"in document.documentElement.style)bo=!0;else{let n=Element.prototype.scrollTo;n?bo=!/\{\s*\[native code\]\s*\}/.test(n.toString()):bo=!1}}return bo}var Gp;function LR(){if(Gp==null){let n=typeof document<"u"?document.head:null;Gp=!!(n&&(n.createShadowRoot||n.attachShadow))}return Gp}function _x(n){if(LR()){let t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Gc(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){let t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Wi(n){return n.composedPath?n.composedPath()[0]:n.target}function Wc(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var VR=new $("cdk-dir-doc",{providedIn:"root",factory:jR});function jR(){return H(mt)}var BR=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function zR(n){let t=n?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?BR.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var Kc=(()=>{let t=class t{constructor(e){if(this.value="ltr",this.change=new Xt,e){let r=e.body?e.body.dir:null,o=e.documentElement?e.documentElement.dir:null;this.value=zR(r||o||"ltr")}}ngOnDestroy(){this.change.complete()}};t.\u0275fac=function(r){return new(r||t)(w(VR,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var pr=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=X({});let n=t;return n})();var $R=20,vx=(()=>{let t=class t{constructor(e,r,o){this._ngZone=e,this._platform=r,this._scrolled=new _t,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=$R){return this._platform.isBrowser?new Se(r=>{this._globalSubscription||this._addGlobalListener();let o=e>0?this._scrolled.pipe(Ef(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Y()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){let o=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe($t(s=>!s||o.indexOf(s)>-1))}getAncestorScrollContainers(e){let r=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,e)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let o=hi(r),s=e.getElementRef().nativeElement;do if(o==s)return!0;while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let e=this._getWindow();return xf(e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};t.\u0275fac=function(r){return new(r||t)(w(J),w(Et),w(mt,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var HR=20,Qp=(()=>{let t=class t{constructor(e,r,o){this._platform=e,this._change=new _t,this._changeListener=s=>{this._change.next(s)},this._document=o,r.runOutsideAngular(()=>{if(e.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,r=this._getWindow(),o=e.documentElement,s=o.getBoundingClientRect(),a=-s.top||e.body.scrollTop||r.scrollY||o.scrollTop||0,l=-s.left||e.body.scrollLeft||r.scrollX||o.scrollLeft||0;return{top:a,left:l}}change(e=HR){return e>0?this._change.pipe(Ef(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}};t.\u0275fac=function(r){return new(r||t)(w(Et),w(J),w(mt,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var bx=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=X({});let n=t;return n})(),Qc=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=X({imports:[pr,bx,pr,bx]});let n=t;return n})();var Yc=class{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},Ln=class extends Yc{constructor(t,i,e,r,o){super(),this.component=t,this.viewContainerRef=i,this.injector=e,this.componentFactoryResolver=r,this.projectableNodes=o}},gr=class extends Yc{constructor(t,i,e,r){super(),this.templateRef=t,this.viewContainerRef=i,this.context=e,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,i=this.context){return this.context=i,super.attach(t)}detach(){return this.context=void 0,super.detach()}},Yp=class extends Yc{constructor(t){super(),this.element=t instanceof gt?t.nativeElement:t}},_r=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof Ln)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof gr)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof Yp)return this._attachedPortal=t,this.attachDomPortal(t)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var wu=class extends _r{constructor(t,i,e,r,o){super(),this.outletElement=t,this._componentFactoryResolver=i,this._appRef=e,this._defaultInjector=r,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(t){let e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=e.create(t.injector||this._defaultInjector||_e.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let i=t.viewContainerRef,e=i.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return e.rootNodes.forEach(r=>this.outletElement.appendChild(r)),e.detectChanges(),this.setDisposeFn(()=>{let r=i.indexOf(e);r!==-1&&i.remove(r)}),this._attachedPortal=t,e}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var br=(()=>{let t=class t extends _r{constructor(e,r,o){super(),this._componentFactoryResolver=e,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new Xt,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let l=this._document.createComment("dom-portal");s.setAttachedHost(this),a.parentNode.insertBefore(l,a),this._getRootNode().appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let r=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),a=r.createComponent(s,r.length,e.injector||r.injector,e.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=e,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(e){e.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}};t.\u0275fac=function(r){return new(r||t)(E(Md),E(so),E(mt))},t.\u0275dir=rt({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[ht.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[Ot]});let n=t;return n})();var vr=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=X({});let n=t;return n})();function xu(n,...t){return t.length?t.some(i=>n[i]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var yx=gx(),Xp=class{constructor(t,i){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=i}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=me(-this._previousScrollPosition.left),t.style.top=me(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,i=this._document.body,e=t.style,r=i.style,o=e.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),yx&&(e.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),yx&&(e.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let i=this._document.body,e=this._viewportRuler.getViewportSize();return i.scrollHeight>e.height||i.scrollWidth>e.width}};var Zp=class{constructor(t,i,e,r){this._scrollDispatcher=t,this._ngZone=i,this._viewportRuler=e,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe($t(i=>!i||!this._overlayRef.overlayElement.contains(i.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let i=this._viewportRuler.getViewportScrollPosition().top;Math.abs(i-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Eu=class{enable(){}disable(){}attach(){}};function Jp(n,t){return t.some(i=>{let e=n.bottom<i.top,r=n.top>i.bottom,o=n.right<i.left,s=n.left>i.right;return e||r||o||s})}function wx(n,t){return t.some(i=>{let e=n.top<i.top,r=n.bottom>i.bottom,o=n.left<i.left,s=n.right>i.right;return e||r||o||s})}var tg=class{constructor(t,i,e,r){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=e,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let i=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:r}=this._viewportRuler.getViewportSize();Jp(i,[{width:e,height:r,bottom:r,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},WR=(()=>{let t=class t{constructor(e,r,o,s){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=o,this.noop=()=>new Eu,this.close=a=>new Zp(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new Xp(this._viewportRuler,this._document),this.reposition=a=>new tg(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}};t.\u0275fac=function(r){return new(r||t)(w(vx),w(Qp),w(J),w(mt))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),yo=class{constructor(t){if(this.scrollStrategy=new Eu,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){let i=Object.keys(t);for(let e of i)t[e]!==void 0&&(this[e]=t[e])}}};var eg=class{constructor(t,i){this.connectionPair=t,this.scrollableViewProperties=i}};var Cx=(()=>{let t=class t{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}};t.\u0275fac=function(r){return new(r||t)(w(mt))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),KR=(()=>{let t=class t extends Cx{constructor(e,r){super(e),this._ngZone=r,this._keydownListener=o=>{let s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){let l=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(o)):l.next(o);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};t.\u0275fac=function(r){return new(r||t)(w(mt),w(J,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),QR=(()=>{let t=class t extends Cx{constructor(e,r,o){super(e),this._platform=r,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Wi(s)},this._clickListener=s=>{let a=Wi(s),l=s.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let d=this._attachedOverlays.slice();for(let h=d.length-1;h>-1;h--){let f=d[h];if(f._outsidePointerEvents.observers.length<1||!f.hasAttached())continue;if(f.overlayElement.contains(a)||f.overlayElement.contains(l))break;let g=f._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>g.next(s)):g.next(s)}}}add(e){if(super.add(e),!this._isAttached){let r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}};t.\u0275fac=function(r){return new(r||t)(w(mt),w(Et),w(J,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),Ns=(()=>{let t=class t{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||Wc()){let o=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<o.length;s++)o[s].remove()}let r=this._document.createElement("div");r.classList.add(e),Wc()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}};t.\u0275fac=function(r){return new(r||t)(w(mt),w(Et))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),Vn=class{constructor(t,i,e,r,o,s,a,l,d,h=!1){this._portalOutlet=t,this._host=i,this._pane=e,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=d,this._animationsDisabled=h,this._backdropElement=null,this._backdropClick=new _t,this._attachments=new _t,this._detachments=new _t,this._locationChanges=Ui.EMPTY,this._backdropClickHandler=f=>this._backdropClick.next(f),this._backdropTransitionendHandler=f=>{this._disposeBackdrop(f.target)},this._keydownEvents=new _t,this._outsidePointerEvents=new _t,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let i=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(De(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof i?.onDestroy=="function"&&i.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),i}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=B(B({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Nt(B({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=me(this._config.width),t.height=me(this._config.height),t.minWidth=me(this._config.minWidth),t.minHeight=me(this._config.minHeight),t.maxWidth=me(this._config.maxWidth),t.maxHeight=me(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(t){if(this._animationsDisabled){this._disposeBackdrop(t);return}t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,i,e){let r=Os(i||[]).filter(o=>!!o);r.length&&(e?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{let t=this._ngZone.onStable.pipe(qi(ir(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},xx="cdk-overlay-connected-position-bounding-box",YR=/([A-Za-z%]+)$/,ig=class{get positions(){return this._preferredPositions}constructor(t,i,e,r,o){this._viewportRuler=i,this._document=e,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new _t,this._resizeSubscription=Ui.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(xx),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,i=this._overlayRect,e=this._viewportRect,r=this._containerRect,o=[],s;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,r,a),d=this._getOverlayPoint(l,i,a),h=this._getOverlayFit(d,i,e,a);if(h.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(h,d,e)){o.push({position:a,origin:l,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!s||s.overlayFit.visibleArea<h.visibleArea)&&(s={overlayFit:h,overlayPoint:d,originPoint:l,position:a,overlayRect:i})}if(o.length){let a=null,l=-1;for(let d of o){let h=d.boundingBoxRect.width*d.boundingBoxRect.height*(d.position.weight||1);h>l&&(l=h,a=d)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&vo(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(xx),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let i=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,i)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,i,e){let r;if(e.originX=="center")r=t.left+t.width/2;else{let s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r=e.originX=="start"?s:a}i.left<0&&(r-=i.left);let o;return e.originY=="center"?o=t.top+t.height/2:o=e.originY=="top"?t.top:t.bottom,i.top<0&&(o-=i.top),{x:r,y:o}}_getOverlayPoint(t,i,e){let r;e.overlayX=="center"?r=-i.width/2:e.overlayX==="start"?r=this._isRtl()?-i.width:0:r=this._isRtl()?0:-i.width;let o;return e.overlayY=="center"?o=-i.height/2:o=e.overlayY=="top"?0:-i.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,i,e,r){let o=Ix(i),{x:s,y:a}=t,l=this._getOffset(r,"x"),d=this._getOffset(r,"y");l&&(s+=l),d&&(a+=d);let h=0-s,f=s+o.width-e.width,g=0-a,_=a+o.height-e.height,S=this._subtractOverflows(o.width,h,f),O=this._subtractOverflows(o.height,g,_),M=S*O;return{visibleArea:M,isCompletelyWithinViewport:o.width*o.height===M,fitsInViewportVertically:O===o.height,fitsInViewportHorizontally:S==o.width}}_canFitWithFlexibleDimensions(t,i,e){if(this._hasFlexibleDimensions){let r=e.bottom-i.y,o=e.right-i.x,s=Ex(this._overlayRef.getConfig().minHeight),a=Ex(this._overlayRef.getConfig().minWidth),l=t.fitsInViewportVertically||s!=null&&s<=r,d=t.fitsInViewportHorizontally||a!=null&&a<=o;return l&&d}return!1}_pushOverlayOnScreen(t,i,e){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let r=Ix(i),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),a=Math.max(t.y+r.height-o.height,0),l=Math.max(o.top-e.top-t.y,0),d=Math.max(o.left-e.left-t.x,0),h=0,f=0;return r.width<=o.width?h=d||-s:h=t.x<this._viewportMargin?o.left-e.left-t.x:0,r.height<=o.height?f=l||-a:f=t.y<this._viewportMargin?o.top-e.top-t.y:0,this._previousPushAmount={x:h,y:f},{x:t.x+h,y:t.y+f}}_applyPosition(t,i){if(this._setTransformOrigin(t),this._setOverlayElementStyles(i,t),this._setBoundingBoxStyles(i,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let e=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!XR(this._lastScrollVisibility,e)){let r=new eg(t,e);this._positionChanges.next(r)}this._lastScrollVisibility=e}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let i=this._boundingBox.querySelectorAll(this._transformOriginSelector),e,r=t.overlayY;t.overlayX==="center"?e="center":this._isRtl()?e=t.overlayX==="start"?"right":"left":e=t.overlayX==="start"?"left":"right";for(let o=0;o<i.length;o++)i[o].style.transformOrigin=`${e} ${r}`}_calculateBoundingBoxRect(t,i){let e=this._viewportRect,r=this._isRtl(),o,s,a;if(i.overlayY==="top")s=t.y,o=e.height-s+this._viewportMargin;else if(i.overlayY==="bottom")a=e.height-t.y+this._viewportMargin*2,o=e.height-a+this._viewportMargin;else{let _=Math.min(e.bottom-t.y+e.top,t.y),S=this._lastBoundingBoxSize.height;o=_*2,s=t.y-_,o>S&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-S/2)}let l=i.overlayX==="start"&&!r||i.overlayX==="end"&&r,d=i.overlayX==="end"&&!r||i.overlayX==="start"&&r,h,f,g;if(d)g=e.width-t.x+this._viewportMargin*2,h=t.x-this._viewportMargin;else if(l)f=t.x,h=e.right-t.x;else{let _=Math.min(e.right-t.x+e.left,t.x),S=this._lastBoundingBoxSize.width;h=_*2,f=t.x-_,h>S&&!this._isInitialRender&&!this._growAfterOpen&&(f=t.x-S/2)}return{top:s,left:f,bottom:a,right:g,width:h,height:o}}_setBoundingBoxStyles(t,i){let e=this._calculateBoundingBoxRect(t,i);!this._isInitialRender&&!this._growAfterOpen&&(e.height=Math.min(e.height,this._lastBoundingBoxSize.height),e.width=Math.min(e.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=me(e.height),r.top=me(e.top),r.bottom=me(e.bottom),r.width=me(e.width),r.left=me(e.left),r.right=me(e.right),i.overlayX==="center"?r.alignItems="center":r.alignItems=i.overlayX==="end"?"flex-end":"flex-start",i.overlayY==="center"?r.justifyContent="center":r.justifyContent=i.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=me(o)),s&&(r.maxWidth=me(s))}this._lastBoundingBoxSize=e,vo(this._boundingBox.style,r)}_resetBoundingBoxStyles(){vo(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){vo(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,i){let e={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let h=this._viewportRuler.getViewportScrollPosition();vo(e,this._getExactOverlayY(i,t,h)),vo(e,this._getExactOverlayX(i,t,h))}else e.position="static";let a="",l=this._getOffset(i,"x"),d=this._getOffset(i,"y");l&&(a+=`translateX(${l}px) `),d&&(a+=`translateY(${d}px)`),e.transform=a.trim(),s.maxHeight&&(r?e.maxHeight=me(s.maxHeight):o&&(e.maxHeight="")),s.maxWidth&&(r?e.maxWidth=me(s.maxWidth):o&&(e.maxWidth="")),vo(this._pane.style,e)}_getExactOverlayY(t,i,e){let r={top:"",bottom:""},o=this._getOverlayPoint(i,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,e)),t.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=me(o.y);return r}_getExactOverlayX(t,i,e){let r={left:"",right:""},o=this._getOverlayPoint(i,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,e));let s;if(this._isRtl()?s=t.overlayX==="end"?"left":"right":s=t.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(o.x+this._overlayRect.width)}px`}else r.left=me(o.x);return r}_getScrollVisibility(){let t=this._getOriginRect(),i=this._pane.getBoundingClientRect(),e=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:wx(t,e),isOriginOutsideView:Jp(t,e),isOverlayClipped:wx(i,e),isOverlayOutsideView:Jp(i,e)}}_subtractOverflows(t,...i){return i.reduce((e,r)=>e-Math.max(r,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,i=this._document.documentElement.clientHeight,e=this._viewportRuler.getViewportScrollPosition();return{top:e.top+this._viewportMargin,left:e.left+this._viewportMargin,right:e.left+t-this._viewportMargin,bottom:e.top+i-this._viewportMargin,width:t-2*this._viewportMargin,height:i-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,i){return i==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Os(t).forEach(i=>{i!==""&&this._appliedPanelClasses.indexOf(i)===-1&&(this._appliedPanelClasses.push(i),this._pane.classList.add(i))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof gt)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let i=t.width||0,e=t.height||0;return{top:t.y,bottom:t.y+e,left:t.x,right:t.x+i,height:e,width:i}}};function vo(n,t){for(let i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}function Ex(n){if(typeof n!="number"&&n!=null){let[t,i]=n.split(YR);return!i||i==="px"?parseFloat(t):null}return n||null}function Ix(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function XR(n,t){return n===t?!0:n.isOriginClipped===t.isOriginClipped&&n.isOriginOutsideView===t.isOriginOutsideView&&n.isOverlayClipped===t.isOverlayClipped&&n.isOverlayOutsideView===t.isOverlayOutsideView}var kx="cdk-global-overlay-wrapper",ng=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){let i=t.getConfig();this._overlayRef=t,this._width&&!i.width&&t.updateSize({width:this._width}),this._height&&!i.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(kx),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement.style,e=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=e,l=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),d=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),h=this._xPosition,f=this._xOffset,g=this._overlayRef.getConfig().direction==="rtl",_="",S="",O="";l?O="flex-start":h==="center"?(O="center",g?S=f:_=f):g?h==="left"||h==="end"?(O="flex-end",_=f):(h==="right"||h==="start")&&(O="flex-start",S=f):h==="left"||h==="start"?(O="flex-start",_=f):(h==="right"||h==="end")&&(O="flex-end",S=f),t.position=this._cssPosition,t.marginLeft=l?"0":_,t.marginTop=d?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":S,i.justifyContent=O,i.alignItems=d?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement,e=i.style;i.classList.remove(kx),e.justifyContent=e.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},ZR=(()=>{let t=class t{constructor(e,r,o,s){this._viewportRuler=e,this._document=r,this._platform=o,this._overlayContainer=s}global(){return new ng}flexibleConnectedTo(e){return new ig(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};t.\u0275fac=function(r){return new(r||t)(w(Qp),w(mt),w(Et),w(Ns))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),JR=0,yi=(()=>{let t=class t{constructor(e,r,o,s,a,l,d,h,f,g,_,S){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=o,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=l,this._ngZone=d,this._document=h,this._directionality=f,this._location=g,this._outsideClickDispatcher=_,this._animationsModuleType=S}create(e){let r=this._createHostElement(),o=this._createPaneElement(r),s=this._createPortalOutlet(o),a=new yo(e);return a.direction=a.direction||this._directionality.value,new Vn(s,r,o,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations")}position(){return this._positionBuilder}_createPaneElement(e){let r=this._document.createElement("div");return r.id=`cdk-overlay-${JR++}`,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(uo)),new wu(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};t.\u0275fac=function(r){return new(r||t)(w(WR),w(Ns),w(Md),w(ZR),w(KR),w(_e),w(J),w(mt),w(Kc),w(Pn),w(QR),w(ae,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var tM=new $("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let n=H(yi);return()=>n.scrollStrategies.reposition()}});function eM(n){return()=>n.scrollStrategies.reposition()}var iM={provide:tM,deps:[yi],useFactory:eM},Xc=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=X({providers:[yi,iM],imports:[pr,vr,Qc,Qc]});let n=t;return n})();function nM(n){if(n.type==="characterData"&&n.target instanceof Comment)return!0;if(n.type==="childList"){for(let t=0;t<n.addedNodes.length;t++)if(!(n.addedNodes[t]instanceof Comment))return!1;for(let t=0;t<n.removedNodes.length;t++)if(!(n.removedNodes[t]instanceof Comment))return!1;return!0}return!1}var Tx=(()=>{let t=class t{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),rM=(()=>{let t=class t{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,r)=>this._cleanupObserver(r))}observe(e){let r=hi(e);return new Se(o=>{let a=this._observeElement(r).pipe(tt(l=>l.filter(d=>!nM(d))),$t(l=>!!l.length)).subscribe(o);return()=>{a.unsubscribe(),this._unobserveElement(r)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{let r=new _t,o=this._mutationObserverFactory.create(s=>r.next(s));o&&o.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:o,stream:r,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){let{observer:r,stream:o}=this._observedElements.get(e);r&&r.disconnect(),o.complete(),this._observedElements.delete(e)}}};t.\u0275fac=function(r){return new(r||t)(w(Tx))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),Sx=(()=>{let t=class t{get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=ln(e),this._subscribe()}constructor(e,r,o){this._contentObserver=e,this._elementRef=r,this._ngZone=o,this.event=new Xt,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(no(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}};t.\u0275fac=function(r){return new(r||t)(E(rM),E(gt),E(J))},t.\u0275dir=rt({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[ht.HasDecoratorInputTransform,"cdkObserveContentDisabled","disabled",be],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[Ie]});let n=t;return n})(),Ls=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=X({providers:[Tx]});let n=t;return n})();var Dx=new Set,xo,oM=(()=>{let t=class t{constructor(e,r){this._platform=e,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):aM}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&sM(e,this._nonce),this._matchMedia(e)}};t.\u0275fac=function(r){return new(r||t)(w(Et),w(gc,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function sM(n,t){if(!Dx.has(n))try{xo||(xo=document.createElement("style"),t&&xo.setAttribute("nonce",t),xo.setAttribute("type","text/css"),document.head.appendChild(xo)),xo.sheet&&(xo.sheet.insertRule(`@media ${n} {body{ }}`,0),Dx.add(n))}catch(i){console.error(i)}}function aM(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var Vs=(()=>{let t=class t{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new _t}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Ax(Os(e)).some(o=>this._registerQuery(o).mql.matches)}observe(e){let o=Ax(Os(e)).map(a=>this._registerQuery(a).observable),s=cs(o);return s=ls(s.pipe(De(1)),s.pipe(Dd(1),no(0))),s.pipe(tt(a=>{let l={matches:!1,breakpoints:{}};return a.forEach(({matches:d,query:h})=>{l.matches=l.matches||d,l.breakpoints[h]=d}),l}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let r=this._mediaMatcher.matchMedia(e),s={observable:new Se(a=>{let l=d=>this._zone.run(()=>a.next(d));return r.addListener(l),()=>{r.removeListener(l)}}).pipe(gi(r),tt(({matches:a})=>({query:e,matches:a})),qi(this._destroySubject)),mql:r};return this._queries.set(e,s),s}};t.\u0275fac=function(r){return new(r||t)(w(oM),w(J))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function Ax(n){return n.map(t=>t.split(",")).reduce((t,i)=>t.concat(i)).map(t=>t.trim())}var Iu={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var Nx=" ";function cM(n,t,i){let e=Su(n,t);i=i.trim(),!e.some(r=>r.trim()===i)&&(e.push(i),n.setAttribute(t,e.join(Nx)))}function lM(n,t,i){let e=Su(n,t);i=i.trim();let r=e.filter(o=>o!==i);r.length?n.setAttribute(t,r.join(Nx)):n.removeAttribute(t)}function Su(n,t){return n.getAttribute(t)?.match(/\S+/g)??[]}var Lx="cdk-describedby-message",ku="cdk-describedby-host",ag=0,Vx=(()=>{let t=class t{constructor(e,r){this._platform=r,this._messageRegistry=new Map,this._messagesContainer=null,this._id=`${ag++}`,this._document=e,this._id=H(fs)+"-"+ag++}describe(e,r,o){if(!this._canBeDescribed(e,r))return;let s=og(r,o);typeof r!="string"?(Mx(r,this._id),this._messageRegistry.set(s,{messageElement:r,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(r,o),this._isElementDescribedByMessage(e,s)||this._addMessageReference(e,s)}removeDescription(e,r,o){if(!r||!this._isElementNode(e))return;let s=og(r,o);if(this._isElementDescribedByMessage(e,s)&&this._removeMessageReference(e,s),typeof r=="string"){let a=this._messageRegistry.get(s);a&&a.referenceCount===0&&this._deleteMessageElement(s)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let e=this._document.querySelectorAll(`[${ku}="${this._id}"]`);for(let r=0;r<e.length;r++)this._removeCdkDescribedByReferenceIds(e[r]),e[r].removeAttribute(ku);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,r){let o=this._document.createElement("div");Mx(o,this._id),o.textContent=e,r&&o.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(o),this._messageRegistry.set(og(e,r),{messageElement:o,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;let e="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let s=0;s<r.length;s++)r[s].remove();let o=this._document.createElement("div");o.style.visibility="hidden",o.classList.add(e),o.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&o.setAttribute("platform","server"),this._document.body.appendChild(o),this._messagesContainer=o}_removeCdkDescribedByReferenceIds(e){let r=Su(e,"aria-describedby").filter(o=>o.indexOf(Lx)!=0);e.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(e,r){let o=this._messageRegistry.get(r);cM(e,"aria-describedby",o.messageElement.id),e.setAttribute(ku,this._id),o.referenceCount++}_removeMessageReference(e,r){let o=this._messageRegistry.get(r);o.referenceCount--,lM(e,"aria-describedby",o.messageElement.id),e.removeAttribute(ku)}_isElementDescribedByMessage(e,r){let o=Su(e,"aria-describedby"),s=this._messageRegistry.get(r),a=s&&s.messageElement.id;return!!a&&o.indexOf(a)!=-1}_canBeDescribed(e,r){if(!this._isElementNode(e))return!1;if(r&&typeof r=="object")return!0;let o=r==null?"":`${r}`.trim(),s=e.getAttribute("aria-label");return o?!s||s.trim()!==o:!1}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}};t.\u0275fac=function(r){return new(r||t)(w(mt),w(Et))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function og(n,t){return typeof n=="string"?`${t||""}/${n}`:n}function Mx(n,t){n.id||(n.id=`${Lx}-${t}-${ag++}`)}var Io=(()=>{let t=class t{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return uM(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let r=dM(vM(e));if(r&&(Px(r)===-1||!this.isVisible(r)))return!1;let o=e.nodeName.toLowerCase(),s=Px(e);return e.hasAttribute("contenteditable")?s!==-1:o==="iframe"||o==="object"||this._platform.WEBKIT&&this._platform.IOS&&!_M(e)?!1:o==="audio"?e.hasAttribute("controls")?s!==-1:!1:o==="video"?s===-1?!1:s!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,r){return bM(e)&&!this.isDisabled(e)&&(r?.ignoreVisibility||this.isVisible(e))}};t.\u0275fac=function(r){return new(r||t)(w(Et))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function dM(n){try{return n.frameElement}catch{return null}}function uM(n){return!!(n.offsetWidth||n.offsetHeight||typeof n.getClientRects=="function"&&n.getClientRects().length)}function hM(n){let t=n.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function mM(n){return pM(n)&&n.type=="hidden"}function fM(n){return gM(n)&&n.hasAttribute("href")}function pM(n){return n.nodeName.toLowerCase()=="input"}function gM(n){return n.nodeName.toLowerCase()=="a"}function jx(n){if(!n.hasAttribute("tabindex")||n.tabIndex===void 0)return!1;let t=n.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function Px(n){if(!jx(n))return null;let t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function _M(n){let t=n.nodeName.toLowerCase(),i=t==="input"&&n.type;return i==="text"||i==="password"||t==="select"||t==="textarea"}function bM(n){return mM(n)?!1:hM(n)||fM(n)||n.hasAttribute("contenteditable")||jx(n)}function vM(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}var cg=class{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,i,e,r,o=!1){this._element=t,this._checker=i,this._ngZone=e,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){let t=this._startAnchor,i=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),i&&(i.removeEventListener("focus",this.endAnchorListener),i.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(i=>{this._executeOnStable(()=>i(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(i=>{this._executeOnStable(()=>i(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(i=>{this._executeOnStable(()=>i(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let i=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?i.length?i[0]:this._getFirstTabbableElement(this._element):i.length?i[i.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let i=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(i){if(!this._checker.isFocusable(i)){let e=this._getFirstTabbableElement(i);return e?.focus(t),!!e}return i.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let i=this._getRegionBoundary("start");return i&&i.focus(t),!!i}focusLastTabbableElement(t){let i=this._getRegionBoundary("end");return i&&i.focus(t),!!i}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let i=t.children;for(let e=0;e<i.length;e++){let r=i[e].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(i[e]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let i=t.children;for(let e=i.length-1;e>=0;e--){let r=i[e].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(i[e]):null;if(r)return r}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,i){t?i.setAttribute("tabindex","0"):i.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(De(1)).subscribe(t)}},Du=(()=>{let t=class t{constructor(e,r,o){this._checker=e,this._ngZone=r,this._document=o}create(e,r=!1){return new cg(e,this._checker,this._ngZone,this._document,r)}};t.\u0275fac=function(r){return new(r||t)(w(Io),w(J),w(mt))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function lg(n){return n.buttons===0||n.detail===0}function dg(n){let t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var yM=new $("cdk-input-modality-detector-options"),wM={ignoreKeys:[18,17,224,91,16]},Bx=650,js=fr({passive:!0,capture:!0}),xM=(()=>{let t=class t{get mostRecentModality(){return this._modality.value}constructor(e,r,o,s){this._platform=e,this._mostRecentTarget=null,this._modality=new si(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(l=>l===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Wi(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<Bx||(this._modality.next(lg(a)?"keyboard":"mouse"),this._mostRecentTarget=Wi(a))},this._onTouchstart=a=>{if(dg(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Wi(a)},this._options=B(B({},wM),s),this.modalityDetected=this._modality.pipe(Dd(1)),this.modalityChanged=this.modalityDetected.pipe(hc()),e.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,js),o.addEventListener("mousedown",this._onMousedown,js),o.addEventListener("touchstart",this._onTouchstart,js)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,js),document.removeEventListener("mousedown",this._onMousedown,js),document.removeEventListener("touchstart",this._onTouchstart,js))}};t.\u0275fac=function(r){return new(r||t)(w(Et),w(J),w(mt),w(yM,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),EM=new $("liveAnnouncerElement",{providedIn:"root",factory:IM});function IM(){return null}var kM=new $("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),CM=0,zx=(()=>{let t=class t{constructor(e,r,o,s){this._ngZone=r,this._defaultOptions=s,this._document=o,this._liveElement=e||this._createLiveElement()}announce(e,...r){let o=this._defaultOptions,s,a;return r.length===1&&typeof r[0]=="number"?a=r[0]:[s,a]=r,this.clear(),clearTimeout(this._previousTimeout),s||(s=o&&o.politeness?o.politeness:"polite"),a==null&&o&&(a=o.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(l=>this._currentResolve=l)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,typeof a=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let e="cdk-live-announcer-element",r=this._document.getElementsByClassName(e),o=this._document.createElement("div");for(let s=0;s<r.length;s++)r[s].remove();return o.classList.add(e),o.classList.add("cdk-visually-hidden"),o.setAttribute("aria-atomic","true"),o.setAttribute("aria-live","polite"),o.id=`cdk-live-announcer-${CM++}`,this._document.body.appendChild(o),o}_exposeAnnouncerToModals(e){let r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<r.length;o++){let s=r[o],a=s.getAttribute("aria-owns");a?a.indexOf(e)===-1&&s.setAttribute("aria-owns",a+" "+e):s.setAttribute("aria-owns",e)}}};t.\u0275fac=function(r){return new(r||t)(w(EM,8),w(J),w(mt),w(kM,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var Tu=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(Tu||{}),TM=new $("cdk-focus-monitor-default-options"),Cu=fr({passive:!0,capture:!0}),Bs=(()=>{let t=class t{constructor(e,r,o,s,a){this._ngZone=e,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new _t,this._rootNodeFocusAndBlurListener=l=>{let d=Wi(l);for(let h=d;h;h=h.parentElement)l.type==="focus"?this._onFocus(l,h):this._onBlur(l,h)},this._document=s,this._detectionMode=a?.detectionMode||Tu.IMMEDIATE}monitor(e,r=!1){let o=hi(e);if(!this._platform.isBrowser||o.nodeType!==1)return Y();let s=_x(o)||this._getDocument(),a=this._elementInfo.get(o);if(a)return r&&(a.checkChildren=!0),a.subject;let l={checkChildren:r,subject:new _t,rootNode:s};return this._elementInfo.set(o,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(e){let r=hi(e),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(e,r,o){let s=hi(e),a=this._getDocument().activeElement;s===a?this._getClosestElementsInfo(s).forEach(([l,d])=>this._originChanged(l,r,d)):(this._setOrigin(r),typeof s.focus=="function"&&s.focus(o))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===Tu.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused",r==="touch"),e.classList.toggle("cdk-keyboard-focused",r==="keyboard"),e.classList.toggle("cdk-mouse-focused",r==="mouse"),e.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&r,this._detectionMode===Tu.IMMEDIATE){clearTimeout(this._originTimeoutId);let o=this._originFromTouchInteraction?Bx:1;this._originTimeoutId=setTimeout(()=>this._origin=null,o)}})}_onFocus(e,r){let o=this._elementInfo.get(r),s=Wi(e);!o||!o.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),o)}_onBlur(e,r){let o=this._elementInfo.get(r);!o||o.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(o,null))}_emitOrigin(e,r){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let r=e.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Cu),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Cu)}),this._rootNodeFocusListenerCount.set(r,o+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(qi(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){let r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Cu),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Cu),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,o){this._setClasses(e,r),this._emitOrigin(o,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){let r=[];return this._elementInfo.forEach((o,s)=>{(s===e||o.checkChildren&&s.contains(e))&&r.push([s,o])}),r}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:r,mostRecentModality:o}=this._inputModalityDetector;if(o!=="mouse"||!r||r===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let s=e.labels;if(s){for(let a=0;a<s.length;a++)if(s[a].contains(r))return!0}return!1}};t.\u0275fac=function(r){return new(r||t)(w(J),w(Et),w(xM),w(mt,8),w(TM,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var Eo=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(Eo||{}),Ox="cdk-high-contrast-black-on-white",Fx="cdk-high-contrast-white-on-black",sg="cdk-high-contrast-active",ug=(()=>{let t=class t{constructor(e,r){this._platform=e,this._document=r,this._breakpointSubscription=H(Vs).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Eo.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(e):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Eo.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Eo.BLACK_ON_WHITE}return Eo.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(sg,Ox,Fx),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===Eo.BLACK_ON_WHITE?e.add(sg,Ox):r===Eo.WHITE_ON_BLACK&&e.add(sg,Fx)}}};t.\u0275fac=function(r){return new(r||t)(w(Et),w(mt))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})(),Au=(()=>{let t=class t{constructor(e){e._applyBodyHighContrastModeCssClasses()}};t.\u0275fac=function(r){return new(r||t)(w(ug))},t.\u0275mod=Z({type:t}),t.\u0275inj=X({imports:[Ls]});let n=t;return n})();function SM(n,t){}var ko=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var fg=(()=>{let t=class t extends _r{constructor(e,r,o,s,a,l,d,h){super(),this._elementRef=e,this._focusTrapFactory=r,this._config=s,this._interactivityChecker=a,this._ngZone=l,this._overlayRef=d,this._focusMonitor=h,this._platform=H(Et),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=H(ti),this.attachDomPortal=f=>{this._portalOutlet.hasAttached();let g=this._portalOutlet.attachDomPortal(f);return this._contentAttached(),g},this._document=o,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let r=this._ariaLabelledByQueue.indexOf(e);r>-1&&(this._ariaLabelledByQueue.splice(r,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),r}attachTemplatePortal(e){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,r){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let o=()=>{e.removeEventListener("blur",o),e.removeEventListener("mousedown",o),e.removeAttribute("tabindex")};e.addEventListener("blur",o),e.addEventListener("mousedown",o)})),e.focus(r)}_focusByCssSelector(e,r){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,r)}_trapFocus(){let e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}}_restoreFocus(){let e=this._config.restoreFocus,r=null;if(typeof e=="string"?r=this._document.querySelector(e):typeof e=="boolean"?r=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(r=e),this._config.restoreFocus&&r&&typeof r.focus=="function"){let o=Gc(),s=this._elementRef.nativeElement;(!o||o===this._document.body||o===s||s.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let e=this._elementRef.nativeElement,r=Gc();return e===r||e.contains(r)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Gc()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}};t.\u0275fac=function(r){return new(r||t)(E(gt),E(Du),E(mt,8),E(ko),E(Io),E(J),E(Vn),E(Bs))},t.\u0275cmp=st({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(r,o){if(r&1&&ci(br,7),r&2){let s;ce(s=le())&&(o._portalOutlet=s.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,o){r&2&&Tt("id",o._config.id||null)("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null)},standalone:!0,features:[Ot,St],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,o){r&1&&Ct(0,SM,0,0,"ng-template",0)},dependencies:[br],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});let n=t;return n})(),Jc=class{constructor(t,i){this.overlayRef=t,this.config=i,this.closed=new _t,this.disableClose=i.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=i.id,this.keydownEvents.subscribe(e=>{e.keyCode===27&&!this.disableClose&&!xu(e)&&(e.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{i.closeOnOverlayDetachments!==!1&&this.close()})}close(t,i){if(this.containerInstance){let e=this.closed;this.containerInstance._closeInteractionType=i?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),e.next(t),e.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",i=""){return this.overlayRef.updateSize({width:t,height:i}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}},DM=new $("DialogScrollStrategy",{providedIn:"root",factory:()=>{let n=H(yi);return()=>n.scrollStrategies.block()}}),AM=new $("DialogData"),RM=new $("DefaultDialogConfig");var MM=0,pg=(()=>{let t=class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,r,o,s,a,l){this._overlay=e,this._injector=r,this._defaultOptions=o,this._parentDialog=s,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new _t,this._afterOpenedAtThisLevel=new _t,this._ariaHiddenElements=new Map,this.afterAllClosed=io(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(gi(void 0))),this._scrollStrategy=l}open(e,r){let o=this._defaultOptions||new ko;r=B(B({},o),r),r.id=r.id||`cdk-dialog-${MM++}`,r.id&&this.getDialogById(r.id);let s=this._getOverlayConfig(r),a=this._overlay.create(s),l=new Jc(a,r),d=this._attachContainer(a,l,r);return l.containerInstance=d,this._attachDialogContent(e,l,d,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.closed.subscribe(()=>this._removeOpenDialog(l,!0)),this.afterOpened.next(l),l}closeAll(){hg(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){hg(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),hg(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let r=new yo({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(r.backdropClass=e.backdropClass),r}_attachContainer(e,r,o){let s=o.injector||o.viewContainerRef?.injector,a=[{provide:ko,useValue:o},{provide:Jc,useValue:r},{provide:Vn,useValue:e}],l;o.container?typeof o.container=="function"?l=o.container:(l=o.container.type,a.push(...o.container.providers(o))):l=fg;let d=new Ln(l,o.viewContainerRef,_e.create({parent:s||this._injector,providers:a}),o.componentFactoryResolver);return e.attach(d).instance}_attachDialogContent(e,r,o,s){if(e instanceof ar){let a=this._createInjector(s,r,o,void 0),l={$implicit:s.data,dialogRef:r};s.templateContext&&(l=B(B({},l),typeof s.templateContext=="function"?s.templateContext():s.templateContext)),o.attachTemplatePortal(new gr(e,null,l,a))}else{let a=this._createInjector(s,r,o,this._injector),l=o.attachComponentPortal(new Ln(e,s.viewContainerRef,a,s.componentFactoryResolver));r.componentRef=l,r.componentInstance=l.instance}}_createInjector(e,r,o,s){let a=e.injector||e.viewContainerRef?.injector,l=[{provide:AM,useValue:e.data},{provide:Jc,useValue:r}];return e.providers&&(typeof e.providers=="function"?l.push(...e.providers(r,e,o)):l.push(...e.providers)),e.direction&&(!a||!a.get(Kc,null,{optional:!0}))&&l.push({provide:Kc,useValue:{value:e.direction,change:Y()}}),_e.create({parent:a||s,providers:l})}_removeOpenDialog(e,r){let o=this.openDialogs.indexOf(e);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,a)=>{s?a.setAttribute("aria-hidden",s):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let e=this._overlayContainer.getContainerElement();if(e.parentElement){let r=e.parentElement.children;for(let o=r.length-1;o>-1;o--){let s=r[o];s!==e&&s.nodeName!=="SCRIPT"&&s.nodeName!=="STYLE"&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}};t.\u0275fac=function(r){return new(r||t)(w(yi),w(_e),w(RM,8),w(t,12),w(Ns),w(DM))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function hg(n,t){let i=n.length;for(;i--;)t(n[i])}var Ux=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=X({providers:[pg],imports:[Xc,vr,Au,vr]});let n=t;return n})();function PM(){return!0}var OM=new $("mat-sanity-checks",{providedIn:"root",factory:PM}),It=(()=>{let t=class t{constructor(e,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return Wc()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[e]}};t.\u0275fac=function(r){return new(r||t)(w(ug),w(OM,8),w(mt))},t.\u0275mod=Z({type:t}),t.\u0275inj=X({imports:[pr,pr]});let n=t;return n})();var Mu=class{constructor(t,i,e,r,o){this._defaultMatcher=t,this.ngControl=i,this._parentFormGroup=e,this._parentForm=r,this._stateChanges=o,this.errorState=!1}updateErrorState(){let t=this.errorState,i=this._parentFormGroup||this._parentForm,e=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,o=e?.isErrorState(r,i)??!1;o!==t&&(this.errorState=o,this._stateChanges.next())}};var Xx=(()=>{let t=class t{isErrorState(e,r){return!!(e&&e.invalid&&(e.touched||r&&r.submitted))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var Ri=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(Ri||{}),bg=class{constructor(t,i,e,r=!1){this._renderer=t,this.element=i,this.config=e,this._animationForciblyDisabledThroughCss=r,this.state=Ri.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},qx=fr({passive:!0,capture:!0}),vg=class{constructor(){this._events=new Map,this._delegateEventHandler=t=>{let i=Wi(t);i&&this._events.get(t.type)?.forEach((e,r)=>{(r===i||r.contains(i))&&e.forEach(o=>o.handleEvent(t))})}}addHandler(t,i,e,r){let o=this._events.get(i);if(o){let s=o.get(e);s?s.add(r):o.set(e,new Set([r]))}else this._events.set(i,new Map([[e,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(i,this._delegateEventHandler,qx)})}removeHandler(t,i,e){let r=this._events.get(t);if(!r)return;let o=r.get(i);o&&(o.delete(e),o.size===0&&r.delete(i),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,qx)))}},$x={enterDuration:225,exitDuration:150},FM=800,Hx=fr({passive:!0,capture:!0}),Gx=["mousedown","touchstart"],Wx=["mouseup","mouseleave","touchend","touchcancel"],tl=class tl{constructor(t,i,e,r){this._target=t,this._ngZone=i,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=hi(e))}fadeInRipple(t,i,e={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=B(B({},$x),e.animation);e.centered&&(t=r.left+r.width/2,i=r.top+r.height/2);let s=e.radius||NM(t,i,r),a=t-r.left,l=i-r.top,d=o.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=`${a-s}px`,h.style.top=`${l-s}px`,h.style.height=`${s*2}px`,h.style.width=`${s*2}px`,e.color!=null&&(h.style.backgroundColor=e.color),h.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(h);let f=window.getComputedStyle(h),g=f.transitionProperty,_=f.transitionDuration,S=g==="none"||_==="0s"||_==="0s, 0s"||r.width===0&&r.height===0,O=new bg(this,h,e,S);h.style.transform="scale3d(1, 1, 1)",O.state=Ri.FADING_IN,e.persistent||(this._mostRecentTransientRipple=O);let M=null;return!S&&(d||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let K=()=>this._finishRippleTransition(O),it=()=>this._destroyRipple(O);h.addEventListener("transitionend",K),h.addEventListener("transitioncancel",it),M={onTransitionEnd:K,onTransitionCancel:it}}),this._activeRipples.set(O,M),(S||!d)&&this._finishRippleTransition(O),O}fadeOutRipple(t){if(t.state===Ri.FADING_OUT||t.state===Ri.HIDDEN)return;let i=t.element,e=B(B({},$x),t.config.animation);i.style.transitionDuration=`${e.exitDuration}ms`,i.style.opacity="0",t.state=Ri.FADING_OUT,(t._animationForciblyDisabledThroughCss||!e.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let i=hi(t);!this._platform.isBrowser||!i||i===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=i,Gx.forEach(e=>{tl._eventManager.addHandler(this._ngZone,e,i,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Wx.forEach(i=>{this._triggerElement.addEventListener(i,this,Hx)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===Ri.FADING_IN?this._startFadeOutTransition(t):t.state===Ri.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let i=t===this._mostRecentTransientRipple,{persistent:e}=t.config;t.state=Ri.VISIBLE,!e&&(!i||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let i=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=Ri.HIDDEN,i!==null&&(t.element.removeEventListener("transitionend",i.onTransitionEnd),t.element.removeEventListener("transitioncancel",i.onTransitionCancel)),t.element.remove()}_onMousedown(t){let i=lg(t),e=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+FM;!this._target.rippleDisabled&&!i&&!e&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!dg(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let i=t.changedTouches;if(i)for(let e=0;e<i.length;e++)this.fadeInRipple(i[e].clientX,i[e].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let i=t.state===Ri.VISIBLE||t.config.terminateOnPointerUp&&t.state===Ri.FADING_IN;!t.config.persistent&&i&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(Gx.forEach(i=>tl._eventManager.removeHandler(i,t,this)),this._pointerUpEventsRegistered&&(Wx.forEach(i=>t.removeEventListener(i,this,Hx)),this._pointerUpEventsRegistered=!1))}};tl._eventManager=new vg;var el=tl;function NM(n,t,i){let e=Math.max(Math.abs(n-i.left),Math.abs(n-i.right)),r=Math.max(Math.abs(t-i.top),Math.abs(t-i.bottom));return Math.sqrt(e*e+r*r)}var il=new $("mat-ripple-global-options"),LM=(()=>{let t=class t{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,r,o,s,a){this._elementRef=e,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new el(this,r,e,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:B(B(B({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,o){return typeof e=="number"?this._rippleRenderer.fadeInRipple(e,r,B(B({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,B(B({},this.rippleConfig),e))}};t.\u0275fac=function(r){return new(r||t)(E(gt),E(J),E(Et),E(il,8),E(ae,8))},t.\u0275dir=rt({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,o){r&2&&xt("mat-ripple-unbounded",o.unbounded)},inputs:{color:[ht.None,"matRippleColor","color"],unbounded:[ht.None,"matRippleUnbounded","unbounded"],centered:[ht.None,"matRippleCentered","centered"],radius:[ht.None,"matRippleRadius","radius"],animation:[ht.None,"matRippleAnimation","animation"],disabled:[ht.None,"matRippleDisabled","disabled"],trigger:[ht.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let n=t;return n})(),Pu=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=X({imports:[It,It]});let n=t;return n})();var Zx=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=X({imports:[It]});let n=t;return n})();var Kx={capture:!0},Qx=["focus","click","mouseenter","touchstart"],gg="mat-ripple-loader-uninitialized",_g="mat-ripple-loader-class-name",Yx="mat-ripple-loader-centered",Ru="mat-ripple-loader-disabled",Jx=(()=>{let t=class t{constructor(){this._document=H(mt,{optional:!0}),this._animationMode=H(ae,{optional:!0}),this._globalRippleOptions=H(il,{optional:!0}),this._platform=H(Et),this._ngZone=H(J),this._hosts=new Map,this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;let o=e.target.closest(`[${gg}]`);o&&this._createRipple(o)},this._ngZone.runOutsideAngular(()=>{for(let e of Qx)this._document?.addEventListener(e,this._onInteraction,Kx)})}ngOnDestroy(){let e=this._hosts.keys();for(let r of e)this.destroyRipple(r);for(let r of Qx)this._document?.removeEventListener(r,this._onInteraction,Kx)}configureRipple(e,r){e.setAttribute(gg,""),(r.className||!e.hasAttribute(_g))&&e.setAttribute(_g,r.className||""),r.centered&&e.setAttribute(Yx,""),r.disabled&&e.setAttribute(Ru,"")}getRipple(e){return this._hosts.get(e)||this._createRipple(e)}setDisabled(e,r){let o=this._hosts.get(e);if(o){o.disabled=r;return}r?e.setAttribute(Ru,""):e.removeAttribute(Ru)}_createRipple(e){if(!this._document)return;let r=this._hosts.get(e);if(r)return r;e.querySelector(".mat-ripple")?.remove();let o=this._document.createElement("span");o.classList.add("mat-ripple",e.getAttribute(_g)),e.append(o);let s=new LM(new gt(o),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=e,s.centered=e.hasAttribute(Yx),s.disabled=e.hasAttribute(Ru),this.attachRipple(e,s),s}attachRipple(e,r){e.removeAttribute(gg),this._hosts.set(e,r)}destroyRipple(e){let r=this._hosts.get(e);r&&(r.ngOnDestroy(),this._hosts.delete(e))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function jM(n,t){}var wi=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},yg="mdc-dialog--open",tE="mdc-dialog--opening",eE="mdc-dialog--closing",BM=150,zM=75,UM=(()=>{let t=class t extends fg{constructor(e,r,o,s,a,l,d,h,f){super(e,r,o,s,a,l,d,f),this._animationMode=h,this._animationStateChanged=new Xt,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?nE(this._config.enterAnimationDuration)??BM:0,this._exitAnimationDuration=this._animationsEnabled?nE(this._config.exitAnimationDuration)??zM:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(iE,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(tE,yg)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(yg),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(yg),this._animationsEnabled?(this._hostElement.style.setProperty(iE,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(eE)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(tE,eE)}_waitForAnimationToComplete(e,r){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let r=super.attachComponentPortal(e);return r.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),r}};t.\u0275fac=function(r){return new(r||t)(E(gt),E(Du),E(mt,8),E(wi),E(Io),E(J),E(Vn),E(ae,8),E(Bs))},t.\u0275cmp=st({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(r,o){r&2&&(vs("id",o._config.id),Tt("aria-modal",o._config.ariaModal)("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),xt("_mat-animation-noopable",!o._animationsEnabled)("mat-mdc-dialog-container-with-actions",o._actionSectionCount>0))},standalone:!0,features:[Ot,St],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(r,o){r&1&&(T(0,"div",0)(1,"div",1),Ct(2,jM,0,0,"ng-template",2),A()())},dependencies:[br],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0;transform:scale(0.8)}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--closing .mdc-dialog__surface{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{opacity:1}.mdc-dialog--open .mdc-dialog__surface{transform:none}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition:opacity linear var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container .mdc-dialog__surface{transition:transform var(--mat-dialog-transition-duration, 0ms) 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container,.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__surface{transition:none}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-title{padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2});let n=t;return n})(),iE="--mat-dialog-transition-duration";function nE(n){return n==null?null:typeof n=="number"?n:n.endsWith("ms")?ln(n.substring(0,n.length-2)):n.endsWith("s")?ln(n.substring(0,n.length-1))*1e3:n==="0"?0:null}var Ou=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(Ou||{}),jn=class{constructor(t,i,e){this._ref=t,this._containerInstance=e,this._afterOpened=new _t,this._beforeClosed=new _t,this._state=Ou.OPEN,this.disableClose=i.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),e._animationStateChanged.pipe($t(r=>r.state==="opened"),De(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe($t(r=>r.state==="closed"),De(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),ir(this.backdropClick(),this.keydownEvents().pipe($t(r=>r.keyCode===27&&!this.disableClose&&!xu(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),rE(this,r.type==="keydown"?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe($t(i=>i.state==="closing"),De(1)).subscribe(i=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),i.totalTime+100)}),this._state=Ou.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let i=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?i.left(t.left):i.right(t.right):i.centerHorizontally(),t&&(t.top||t.bottom)?t.top?i.top(t.top):i.bottom(t.bottom):i.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",i=""){return this._ref.updateSize(t,i),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=Ou.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function rE(n,t,i){return n._closeInteractionType=t,n.close(i)}var wg=new $("MatMdcDialogData"),qM=new $("mat-mdc-dialog-default-options"),$M=new $("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let n=H(yi);return()=>n.scrollStrategies.block()}});var HM=0,xi=(()=>{let t=class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,r,o,s,a,l,d,h){this._overlay=e,this._defaultOptions=s,this._scrollStrategy=a,this._parentDialog=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new _t,this._afterOpenedAtThisLevel=new _t,this.dialogConfigClass=wi,this.afterAllClosed=io(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(gi(void 0))),this._dialog=r.get(pg),this._dialogRefConstructor=jn,this._dialogContainerType=UM,this._dialogDataToken=wg}open(e,r){let o;r=B(B({},this._defaultOptions||new wi),r),r.id=r.id||`mat-mdc-dialog-${HM++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();let s=this._dialog.open(e,Nt(B({},r),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:ko,useValue:r}]},templateContext:()=>({dialogRef:o}),providers:(a,l,d)=>(o=new this._dialogRefConstructor(a,r,d),o.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:d},{provide:this._dialogDataToken,useValue:l.data},{provide:this._dialogRefConstructor,useValue:o}])}));return o.componentRef=s.componentRef,o.componentInstance=s.componentInstance,this.openDialogs.push(o),this.afterOpened.next(o),o.afterClosed().subscribe(()=>{let a=this.openDialogs.indexOf(o);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let r=e.length;for(;r--;)e[r].close()}};t.\u0275fac=function(r){return new(r||t)(w(yi),w(_e),w(Pn,8),w(qM,8),w($M),w(t,12),w(Ns),w(ae,8))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var oE=(()=>{let t=class t{constructor(e,r,o){this.dialogRef=e,this._elementRef=r,this._dialog=o,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=cE(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){let r=e._matDialogClose||e._matDialogCloseResult;r&&(this.dialogResult=r.currentValue)}_onButtonClick(e){rE(this.dialogRef,e.screenX===0&&e.screenY===0?"keyboard":"mouse",this.dialogResult)}};t.\u0275fac=function(r){return new(r||t)(E(jn,8),E(gt),E(xi))},t.\u0275dir=rt({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(r,o){r&1&&dt("click",function(a){return o._onButtonClick(a)}),r&2&&Tt("aria-label",o.ariaLabel||null)("type",o.type)},inputs:{ariaLabel:[ht.None,"aria-label","ariaLabel"],type:"type",dialogResult:[ht.None,"mat-dialog-close","dialogResult"],_matDialogClose:[ht.None,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[Ze]});let n=t;return n})(),GM=(()=>{let t=class t{constructor(e,r,o){this._dialogRef=e,this._elementRef=r,this._dialog=o}ngOnInit(){this._dialogRef||(this._dialogRef=cE(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}};t.\u0275fac=function(r){return new(r||t)(E(jn,8),E(gt),E(xi))},t.\u0275dir=rt({type:t,standalone:!0});let n=t;return n})();var sE=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=rt({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0});let n=t;return n})(),aE=(()=>{let t=class t extends GM{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=Je(t)))(o||t)}})(),t.\u0275dir=rt({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(r,o){r&2&&xt("mat-mdc-dialog-actions-align-start",o.align==="start")("mat-mdc-dialog-actions-align-center",o.align==="center")("mat-mdc-dialog-actions-align-end",o.align==="end")},inputs:{align:"align"},standalone:!0,features:[Ot]});let n=t;return n})();function cE(n,t){let i=n.nativeElement.parentElement;for(;i&&!i.classList.contains("mat-mdc-dialog-container");)i=i.parentElement;return i?t.find(e=>e.id===i.id):null}var lE=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=X({providers:[xi],imports:[Ux,Xc,vr,It,It]});let n=t;return n})();var dE=["mat-button",""],uE=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],hE=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],WM='.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',mE=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}";var KM=["mat-icon-button",""],QM=["*"];var YM=new $("MAT_BUTTON_CONFIG");var XM=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],xg=(()=>{let t=class t{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}constructor(e,r,o,s){this._elementRef=e,this._platform=r,this._ngZone=o,this._animationMode=s,this._focusMonitor=H(Bs),this._rippleLoader=H(Jx),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let a=H(YM,{optional:!0}),l=e.nativeElement,d=l.classList;this.disabledInteractive=a?.disabledInteractive??!1,this._rippleLoader?.configureRipple(l,{className:"mat-mdc-button-ripple"});for(let{attribute:h,mdcClasses:f}of XM)l.hasAttribute(h)&&d.add(...f)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",r){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};t.\u0275fac=function(r){oo()},t.\u0275dir=rt({type:t,inputs:{color:"color",disableRipple:[ht.HasDecoratorInputTransform,"disableRipple","disableRipple",be],disabled:[ht.HasDecoratorInputTransform,"disabled","disabled",be],ariaDisabled:[ht.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",be],disabledInteractive:[ht.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",be]},features:[Ie]});let n=t;return n})();var ZM=(()=>{let t=class t extends xg{constructor(e,r,o,s){super(e,r,o,s),this._haltDisabledEvents=a=>{this.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}_getAriaDisabled(){return this.ariaDisabled==null?this.disabled:this.ariaDisabled}};t.\u0275fac=function(r){oo()},t.\u0275dir=rt({type:t,inputs:{tabIndex:[ht.HasDecoratorInputTransform,"tabIndex","tabIndex",e=>e==null?void 0:xs(e)]},features:[Ie,Ot]});let n=t;return n})(),yr=(()=>{let t=class t extends xg{constructor(e,r,o,s){super(e,r,o,s)}};t.\u0275fac=function(r){return new(r||t)(E(gt),E(Et),E(J),E(ae,8))},t.\u0275cmp=st({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,o){r&2&&(Tt("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),rn(o.color?"mat-"+o.color:""),xt("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Ot,St],attrs:dE,ngContentSelectors:hE,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){r&1&&(ke(uE),ot(0,"span",0),Lt(1),T(2,"span",1),Lt(3,1),A(),Lt(4,2),ot(5,"span",2)(6,"span",3)),r&2&&xt("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let n=t;return n})(),fE=(()=>{let t=class t extends ZM{constructor(e,r,o,s){super(e,r,o,s)}};t.\u0275fac=function(r){return new(r||t)(E(gt),E(Et),E(J),E(ae,8))},t.\u0275cmp=st({type:t,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(r,o){r&2&&(Tt("disabled",o._getDisabledAttribute())("tabindex",o.disabled&&!o.disabledInteractive?-1:o.tabIndex)("aria-disabled",o._getDisabledAttribute()),rn(o.color?"mat-"+o.color:""),xt("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[Ot,St],attrs:dE,ngContentSelectors:hE,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){r&1&&(ke(uE),ot(0,"span",0),Lt(1),T(2,"span",1),Lt(3,1),A(),Lt(4,2),ot(5,"span",2)(6,"span",3)),r&2&&xt("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:[WM,mE],encapsulation:2,changeDetection:0});let n=t;return n})();var dn=(()=>{let t=class t extends xg{constructor(e,r,o,s){super(e,r,o,s),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}};t.\u0275fac=function(r){return new(r||t)(E(gt),E(Et),E(J),E(ae,8))},t.\u0275cmp=st({type:t,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(r,o){r&2&&(Tt("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),rn(o.color?"mat-"+o.color:""),xt("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Ot,St],attrs:KM,ngContentSelectors:QM,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){r&1&&(ke(),ot(0,"span",0),Lt(1),ot(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{color:var(--mdc-icon-button-icon-color)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',mE],encapsulation:2,changeDetection:0});let n=t;return n})();var Eg=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=X({imports:[It,Pu,It]});let n=t;return n})();var To=(()=>{let t=class t{constructor(e,r){this.dialogRef=e,this.data=r}onConfirm(){this.dialogRef.close(!0)}onCancel(){this.dialogRef.close(!1)}};t.\u0275fac=function(r){return new(r||t)(E(jn),E(wg))},t.\u0275cmp=st({type:t,selectors:[["app-confirm-dialog"]],decls:7,vars:1,consts:[["mat-dialog-content",""],["mat-dialog-actions","",2,"justify-content","center"],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"click"]],template:function(r,o){r&1&&(T(0,"div",0),V(1),A(),T(2,"div",1)(3,"button",2),dt("click",function(){return o.onCancel()}),V(4,"Cancel"),A(),T(5,"button",3),dt("click",function(){return o.onConfirm()}),V(6,"Confirm"),A()()),r&2&&(z(),li(o.data.message))},dependencies:[yr,aE,sE],encapsulation:2});let n=t;return n})();var So=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=st({type:t,selectors:[["app-error-dialog"]],decls:2,vars:0,template:function(r,o){r&1&&(T(0,"p"),V(1,"error-dialog works!"),A())}});let n=t;return n})();var JM=new Map,tP={activated:!1,tokenObservers:[]},eP={initialized:!1,enabled:!1};function Qi(n){return JM.get(n)||Object.assign({},tP)}function wE(){return eP}var iP="https://content-firebaseappcheck.googleapis.com/v1";var nP="exchangeDebugToken",pE={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},p5=24*60*60*1e3;var kg=class{constructor(t,i,e,r,o){if(this.operation=t,this.retryPolicy=i,this.getWaitDuration=e,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return R(this,null,function*(){this.stop();try{this.pending=new Ff,this.pending.promise.catch(i=>{}),yield rP(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new Ff,this.pending.promise.catch(i=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(i){this.retryPolicy(i)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let i=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),i}}};function rP(n){return new Promise(t=>{setTimeout(t,n)})}var oP={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},xr=new sw("appCheck","AppCheck",oP);function xE(n){if(!Qi(n).activated)throw xr.create("use-before-activation",{appName:n.name})}function EE(e,r){return R(this,arguments,function*({url:n,body:t},i){let o={"Content-Type":"application/json"},s=i.getImmediate({optional:!0});if(s){let _=yield s.getHeartbeatsHeader();_&&(o["X-Firebase-Client"]=_)}let a={method:"POST",body:JSON.stringify(t),headers:o},l;try{l=yield fetch(n,a)}catch(_){throw xr.create("fetch-network-error",{originalErrorMessage:_?.message})}if(l.status!==200)throw xr.create("fetch-status-error",{httpStatus:l.status});let d;try{d=yield l.json()}catch(_){throw xr.create("fetch-parse-error",{originalErrorMessage:_?.message})}let h=d.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw xr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${d.ttl}`});let f=Number(h[1])*1e3,g=Date.now();return{token:d.token,expireTimeMillis:g+f,issuedAtTimeMillis:g}})}function IE(n,t){let{projectId:i,appId:e,apiKey:r}=n.options;return{url:`${iP}/projects/${i}/apps/${e}:${nP}?key=${r}`,body:{debug_token:t}}}var sP="firebase-app-check-database",aP=1,Cg="firebase-app-check-store";var Fu=null;function cP(){return Fu||(Fu=new Promise((n,t)=>{try{let i=indexedDB.open(sP,aP);i.onsuccess=e=>{n(e.target.result)},i.onerror=e=>{var r;t(xr.create("storage-open",{originalErrorMessage:(r=e.target.error)===null||r===void 0?void 0:r.message}))},i.onupgradeneeded=e=>{let r=e.target.result;switch(e.oldVersion){case 0:r.createObjectStore(Cg,{keyPath:"compositeKey"})}}}catch(i){t(xr.create("storage-open",{originalErrorMessage:i?.message}))}}),Fu)}function lP(n,t){return dP(uP(n),t)}function dP(n,t){return R(this,null,function*(){let e=(yield cP()).transaction(Cg,"readwrite"),o=e.objectStore(Cg).put({compositeKey:n,value:t});return new Promise((s,a)=>{o.onsuccess=l=>{s()},e.onerror=l=>{var d;a(xr.create("storage-set",{originalErrorMessage:(d=l.target.error)===null||d===void 0?void 0:d.message}))}})})}function uP(n){return`${n.options.appId}-${n.name}`}var Tg=new Wd("@firebase/app-check");function Ig(n,t){return Hd()?lP(n,t).catch(i=>{Tg.warn(`Failed to write token to IndexedDB. Error: ${i}`)}):Promise.resolve()}function kE(){return wE().enabled}function CE(){return R(this,null,function*(){let n=wE();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var hP={error:"UNKNOWN_ERROR"};function mP(n){return ow.encodeString(JSON.stringify(n),!1)}function Sg(n,t=!1){return R(this,null,function*(){let i=n.app;xE(i);let e=Qi(i),r=e.token,o;if(r&&!nl(r)&&(e.token=void 0,r=void 0),!r){let l=yield e.cachedTokenPromise;l&&(nl(l)?r=l:yield Ig(i,void 0))}if(!t&&r&&nl(r))return{token:r.token};let s=!1;if(kE()){e.exchangeTokenPromise||(e.exchangeTokenPromise=EE(IE(i,yield CE()),n.heartbeatServiceProvider).finally(()=>{e.exchangeTokenPromise=void 0}),s=!0);let l=yield e.exchangeTokenPromise;return yield Ig(i,l),e.token=l,{token:l.token}}try{e.exchangeTokenPromise||(e.exchangeTokenPromise=e.provider.getToken().finally(()=>{e.exchangeTokenPromise=void 0}),s=!0),r=yield Qi(i).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?Tg.warn(l.message):Tg.error(l),o=l}let a;return r?o?nl(r)?a={token:r.token,internalError:o}:a=_E(o):(a={token:r.token},e.token=r,yield Ig(i,r)):a=_E(o),s&&_P(i,a),a})}function fP(n){return R(this,null,function*(){let t=n.app;xE(t);let{provider:i}=Qi(t);if(kE()){let e=yield CE(),{token:r}=yield EE(IE(t,e),n.heartbeatServiceProvider);return{token:r}}else{let{token:e}=yield i.getToken();return{token:e}}})}function pP(n,t,i,e){let{app:r}=n,o=Qi(r),s={next:i,error:e,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&nl(o.token)){let a=o.token;Promise.resolve().then(()=>{i({token:a.token}),gE(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>gE(n))}function TE(n,t){let i=Qi(n),e=i.tokenObservers.filter(r=>r.next!==t);e.length===0&&i.tokenRefresher&&i.tokenRefresher.isRunning()&&i.tokenRefresher.stop(),i.tokenObservers=e}function gE(n){let{app:t}=n,i=Qi(t),e=i.tokenRefresher;e||(e=gP(n),i.tokenRefresher=e),!e.isRunning()&&i.isTokenAutoRefreshEnabled&&e.start()}function gP(n){let{app:t}=n;return new kg(()=>R(this,null,function*(){let i=Qi(t),e;if(i.token?e=yield Sg(n,!0):e=yield Sg(n),e.error)throw e.error;if(e.internalError)throw e.internalError}),()=>!0,()=>{let i=Qi(t);if(i.token){let e=i.token.issuedAtTimeMillis+(i.token.expireTimeMillis-i.token.issuedAtTimeMillis)*.5+3e5,r=i.token.expireTimeMillis-5*60*1e3;return e=Math.min(e,r),Math.max(0,e-Date.now())}else return 0},pE.RETRIAL_MIN_WAIT,pE.RETRIAL_MAX_WAIT)}function _P(n,t){let i=Qi(n).tokenObservers;for(let e of i)try{e.type==="EXTERNAL"&&t.error!=null?e.error(t.error):e.next(t)}catch{}}function nl(n){return n.expireTimeMillis-Date.now()>0}function _E(n){return{token:mP(hP),error:n}}var Dg=class{constructor(t,i){this.app=t,this.heartbeatServiceProvider=i}_delete(){let{tokenObservers:t}=Qi(this.app);for(let i of t)TE(this.app,i.next);return Promise.resolve()}};function bP(n,t){return new Dg(n,t)}function vP(n){return{getToken:t=>Sg(n,t),getLimitedUseToken:()=>fP(n),addTokenListener:t=>pP(n,"INTERNAL",t),removeTokenListener:t=>TE(n.app,t)}}var yP="@firebase/app-check",wP="0.8.4";var xP="app-check",bE="app-check-internal";function EP(){fo(new Hi(xP,n=>{let t=n.getProvider("app").getImmediate(),i=n.getProvider("heartbeat");return bP(t,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,i)=>{n.getProvider(bE).initialize()})),fo(new Hi(bE,n=>{let t=n.getProvider("app-check").getImmediate();return vP(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Gi(yP,wP)}EP();var IP=["localhost","0.0.0.0","127.0.0.1"],T5=typeof window<"u"&&IP.includes(window.location.hostname);var kP="firebase",CP="10.12.1";Re.registerVersion(kP,CP,"app-compat");var TP=["ngOnDestroy"],Lu=(n,t,i,e={})=>new Proxy(n,{get:(r,o)=>i.runOutsideAngular(()=>{if(n[o])return e?.spy?.get&&e.spy.get(o,n[o]),n[o];if(TP.indexOf(o)>-1)return()=>{};let s=t.toPromise().then(a=>{let l=a?.[o];return typeof l=="function"?l.bind(a):l?.then?l.then(d=>i.run(()=>d)):i.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,d)=>s.then(h=>{let f=h?.(...d);return e?.spy?.apply&&e.spy.apply(o,d,f),f})})})});var Nu=class{constructor(t){return t}},un=new $("angularfire2.app.options"),hn=new $("angularfire2.app.name");function Bn(n,t,i){let e=typeof i=="string"&&i||"[DEFAULT]",r=typeof i=="object"&&i||{};r.name=r.name||e;let s=Re.apps.filter(a=>a&&a.name===r.name)[0]||t.runOutsideAngular(()=>Re.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){let a=!!module.hot;SP("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Nu(s)}var SP=(n,...t)=>{Pf()&&typeof console<"u"&&console[n](...t)},DP={provide:Nu,useFactory:Bn,deps:[un,J,[new ms,hn]]},DE=(()=>{class n{static initializeApp(i,e){return{ngModule:n,providers:[{provide:un,useValue:i},{provide:hn,useValue:e}]}}constructor(i){Re.registerVersion("angularfire",_o.full,"core"),Re.registerVersion("angularfire",_o.full,"app-compat"),Re.registerVersion("angular",jy.full,i.toString())}static \u0275fac=function(e){return new(e||n)(w(Le))};static \u0275mod=Z({type:n});static \u0275inj=X({providers:[DP]})}return n})();function Er(n,t,i,e,r){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return AP(r,s)||(SE("error",`${t} was already initialized on the ${i} Firebase App with different settings.${RP?" You may need to reload as Firebase is not HMR aware.":""}`),SE("warn",{is:r,was:s})),o;{let a=e();return globalThis.\u0275AngularfireInstanceCache.push([n,a,r]),a}}function AP(n,t){try{return n.toString()===t.toString()}catch{return n===t}}var RP=typeof module<"u"&&!!module.hot,SE=(n,...t)=>{Pf()&&typeof console<"u"&&console[n](...t)};globalThis.\u0275AngularfireInstanceCache||=[];var Rg=new $("angularfire2.auth.use-emulator"),Mg=new $("angularfire2.auth.settings"),Pg=new $("angularfire2.auth.tenant-id"),Og=new $("angularfire2.auth.langugage-code"),Fg=new $("angularfire2.auth.use-device-language"),Ng=new $("angularfire.auth.persistence"),Lg=(n,t,i,e,r,o,s,a)=>Er(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{let l=t.runOutsideAngular(()=>n.auth());if(i&&l.useEmulator(...i),e&&(l.tenantId=e),l.languageCode=r,o&&l.useDeviceLanguage(),s)for(let[d,h]of Object.entries(s))l.settings[d]=h;return a&&l.setPersistence(a),l},[i,e,r,o,s,a]),Vu=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(i,e,r,o,s,a,l,d,h,f,g,_){let S=new _t,O=Y(void 0).pipe(Ne(s.outsideAngular),Mt(()=>o.runOutsideAngular(()=>import("./chunk-R36EQ2OQ.js"))),tt(()=>Bn(i,o,e)),tt(M=>Lg(M,o,a,d,h,f,l,g)),us({bufferSize:1,refCount:!1}));if(mo(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Y(null);else{O.pipe(nn()).subscribe();let M=O.pipe(Mt(U=>U.getRedirectResult().then(nt=>nt,()=>null)),Ve,us({bufferSize:1,refCount:!1})),K=O.pipe(Mt(U=>new Se(nt=>({unsubscribe:o.runOutsideAngular(()=>U.onAuthStateChanged(ft=>nt.next(ft),ft=>nt.error(ft),()=>nt.complete()))})))),it=O.pipe(Mt(U=>new Se(nt=>({unsubscribe:o.runOutsideAngular(()=>U.onIdTokenChanged(ft=>nt.next(ft),ft=>nt.error(ft),()=>nt.complete()))}))));this.authState=M.pipe(hs(K),Ye(s.outsideAngular),Ne(s.insideAngular)),this.user=M.pipe(hs(it),Ye(s.outsideAngular),Ne(s.insideAngular)),this.idToken=this.user.pipe(Mt(U=>U?jt(U.getIdToken()):Y(null))),this.idTokenResult=this.user.pipe(Mt(U=>U?jt(U.getIdTokenResult()):Y(null))),this.credential=ir(M,S,this.authState.pipe($t(U=>!U))).pipe(tt(U=>U?.user?U:null),Ye(s.outsideAngular),Ne(s.insideAngular))}return Lu(this,O,o,{spy:{apply:(M,K,it)=>{(M.startsWith("signIn")||M.startsWith("createUser"))&&it.then(U=>S.next(U))}}})}static \u0275fac=function(e){return new(e||n)(w(un),w(hn,8),w(Le),w(J),w(mr),w(Rg,8),w(Mg,8),w(Pg,8),w(Og,8),w(Fg,8),w(Ng,8),w(Nn,8))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();var jE="firebasestorage.googleapis.com",BE="storageBucket",OP=2*60*1e3,FP=10*60*1e3,NP=1e3;var ie=class n extends Gd{constructor(t,i,e=0){super(Vg(t),`Firebase Storage: ${i} (${Vg(t)})`),this.status_=e,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Vg(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Qt=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Qt||{});function Vg(n){return"storage/"+n}function Gg(){let n="An unknown error occurred, please check the error payload for server response.";return new ie(Qt.UNKNOWN,n)}function LP(n){return new ie(Qt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function VP(n){return new ie(Qt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function jP(){let n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ie(Qt.UNAUTHENTICATED,n)}function BP(){return new ie(Qt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function zP(n){return new ie(Qt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function zE(){return new ie(Qt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function UE(){return new ie(Qt.CANCELED,"User canceled the upload/download.")}function UP(n){return new ie(Qt.INVALID_URL,"Invalid URL '"+n+"'.")}function qP(n){return new ie(Qt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function $P(){return new ie(Qt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+BE+"' property when initializing the app?")}function qE(){return new ie(Qt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function HP(){return new ie(Qt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function GP(){return new ie(Qt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function WP(n){return new ie(Qt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Do(n){return new ie(Qt.INVALID_ARGUMENT,n)}function $E(){return new ie(Qt.APP_DELETED,"The Firebase app was deleted.")}function Wg(n){return new ie(Qt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ol(n,t){return new ie(Qt.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function rl(n){throw new ie(Qt.INTERNAL_ERROR,"Internal error: "+n)}var ei=class n{constructor(t,i){this.bucket=t,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,i){let e;try{e=n.makeFromUrl(t,i)}catch{return new n(t,"")}if(e.path==="")return e;throw qP(t)}static makeFromUrl(t,i){let e=null,r="([A-Za-z0-9.\\-_]+)";function o(nt){nt.path.charAt(nt.path.length-1)==="/"&&(nt.path_=nt.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+r+s,"i"),l={bucket:1,path:3};function d(nt){nt.path_=decodeURIComponent(nt.path)}let h="v[A-Za-z0-9_]+",f=i.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",_=new RegExp(`^https?://${f}/${h}/b/${r}/o${g}`,"i"),S={bucket:1,path:3},O=i===jE?"(?:storage.googleapis.com|storage.cloud.google.com)":i,M="([^?#]*)",K=new RegExp(`^https?://${O}/${r}/${M}`,"i"),U=[{regex:a,indices:l,postModify:o},{regex:_,indices:S,postModify:d},{regex:K,indices:{bucket:1,path:2},postModify:d}];for(let nt=0;nt<U.length;nt++){let ft=U[nt],pt=ft.regex.exec(t);if(pt){let x=pt[ft.indices.bucket],b=pt[ft.indices.path];b||(b=""),e=new n(x,b),ft.postModify(e);break}}if(e==null)throw UP(t);return e}},Bg=class{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}};function KP(n,t,i){let e=1,r=null,o=null,s=!1,a=0;function l(){return a===2}let d=!1;function h(...M){d||(d=!0,t.apply(null,M))}function f(M){r=setTimeout(()=>{r=null,n(_,l())},M)}function g(){o&&clearTimeout(o)}function _(M,...K){if(d){g();return}if(M){g(),h.call(null,M,...K);return}if(l()||s){g(),h.call(null,M,...K);return}e<64&&(e*=2);let U;a===1?(a=2,U=0):U=(e+Math.random())*1e3,f(U)}let S=!1;function O(M){S||(S=!0,g(),!d&&(r!==null?(M||(a=2),clearTimeout(r),f(0)):M||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,O(!0)},i),O}function QP(n){n(!1)}function YP(n){return n!==void 0}function XP(n){return typeof n=="function"}function ZP(n){return typeof n=="object"&&!Array.isArray(n)}function zu(n){return typeof n=="string"||n instanceof String}function RE(n){return Kg()&&n instanceof Blob}function Kg(){return typeof Blob<"u"}function zg(n,t,i,e){if(e<t)throw Do(`Invalid value for '${n}'. Expected ${t} or greater.`);if(e>i)throw Do(`Invalid value for '${n}'. Expected ${i} or less.`)}function Ir(n,t,i){let e=t;return i==null&&(e=`https://${t}`),`${i}://${e}/v0${n}`}function HE(n){let t=encodeURIComponent,i="?";for(let e in n)if(n.hasOwnProperty(e)){let r=t(e)+"="+t(n[e]);i=i+r+"&"}return i=i.slice(0,-1),i}var qs=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(qs||{});function GE(n,t){let i=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,o=t.indexOf(n)!==-1;return i||r||o}var Ug=class{constructor(t,i,e,r,o,s,a,l,d,h,f,g=!0){this.url_=t,this.method_=i,this.headers_=e,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=f,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,S)=>{this.resolve_=_,this.reject_=S,this.start_()})}start_(){let t=(e,r)=>{if(r){e(!1,new Us(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let l=a.loaded,d=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,d)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===qs.NO_ERROR,l=o.getStatus();if(!a||GE(l,this.additionalRetryCodes_)&&this.retry){let h=o.getErrorCode()===qs.ABORT;e(!1,new Us(!1,null,h));return}let d=this.successCodes_.indexOf(l)!==-1;e(!0,new Us(d,o))})},i=(e,r)=>{let o=this.resolve_,s=this.reject_,a=r.connection;if(r.wasSuccessCode)try{let l=this.callback_(a,a.getResponse());YP(l)?o(l):o()}catch(l){s(l)}else if(a!==null){let l=Gg();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(r.canceled){let l=this.appDelete_?$E():UE();s(l)}else{let l=zE();s(l)}};this.canceled_?i(!1,new Us(!1,null,!0)):this.backoffId_=KP(t,i,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&QP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Us=class{constructor(t,i,e){this.wasSuccessCode=t,this.connection=i,this.canceled=!!e}};function JP(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function tO(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function eO(n,t){t&&(n["X-Firebase-GMPID"]=t)}function iO(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function nO(n,t,i,e,r,o,s=!0){let a=HE(n.urlParams),l=n.url+a,d=Object.assign({},n.headers);return eO(d,t),JP(d,i),tO(d,o),iO(d,e),new Ug(l,n.method,d,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,s)}function rO(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function oO(...n){let t=rO();if(t!==void 0){let i=new t;for(let e=0;e<n.length;e++)i.append(n[e]);return i.getBlob()}else{if(Kg())return new Blob(n);throw new ie(Qt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function sO(n,t,i){return n.webkitSlice?n.webkitSlice(t,i):n.mozSlice?n.mozSlice(t,i):n.slice?n.slice(t,i):null}function aO(n){if(typeof atob>"u")throw WP("base-64");return atob(n)}var Ei={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},sl=class{constructor(t,i){this.data=t,this.contentType=i||null}};function Qg(n,t){switch(n){case Ei.RAW:return new sl(WE(t));case Ei.BASE64:case Ei.BASE64URL:return new sl(KE(n,t));case Ei.DATA_URL:return new sl(lO(t),dO(t))}throw Gg()}function WE(n){let t=[];for(let i=0;i<n.length;i++){let e=n.charCodeAt(i);if(e<=127)t.push(e);else if(e<=2047)t.push(192|e>>6,128|e&63);else if((e&64512)===55296)if(!(i<n.length-1&&(n.charCodeAt(i+1)&64512)===56320))t.push(239,191,189);else{let o=e,s=n.charCodeAt(++i);e=65536|(o&1023)<<10|s&1023,t.push(240|e>>18,128|e>>12&63,128|e>>6&63,128|e&63)}else(e&64512)===56320?t.push(239,191,189):t.push(224|e>>12,128|e>>6&63,128|e&63)}return new Uint8Array(t)}function cO(n){let t;try{t=decodeURIComponent(n)}catch{throw ol(Ei.DATA_URL,"Malformed data URL.")}return WE(t)}function KE(n,t){switch(n){case Ei.BASE64:{let r=t.indexOf("-")!==-1,o=t.indexOf("_")!==-1;if(r||o)throw ol(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Ei.BASE64URL:{let r=t.indexOf("+")!==-1,o=t.indexOf("/")!==-1;if(r||o)throw ol(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=aO(t)}catch(r){throw r.message.includes("polyfill")?r:ol(n,"Invalid character found")}let e=new Uint8Array(i.length);for(let r=0;r<i.length;r++)e[r]=i.charCodeAt(r);return e}var Bu=class{constructor(t){this.base64=!1,this.contentType=null;let i=t.match(/^data:([^,]+)?,/);if(i===null)throw ol(Ei.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let e=i[1]||null;e!=null&&(this.base64=uO(e,";base64"),this.contentType=this.base64?e.substring(0,e.length-7):e),this.rest=t.substring(t.indexOf(",")+1)}};function lO(n){let t=new Bu(n);return t.base64?KE(Ei.BASE64,t.rest):cO(t.rest)}function dO(n){return new Bu(n).contentType}function uO(n,t){return n.length>=t.length?n.substring(n.length-t.length)===t:!1}var $s=class n{constructor(t,i){let e=0,r="";RE(t)?(this.data_=t,e=t.size,r=t.type):t instanceof ArrayBuffer?(i?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),e=this.data_.length):t instanceof Uint8Array&&(i?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),e=t.length),this.size_=e,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,i){if(RE(this.data_)){let e=this.data_,r=sO(e,t,i);return r===null?null:new n(r)}else{let e=new Uint8Array(this.data_.buffer,t,i-t);return new n(e,!0)}}static getBlob(...t){if(Kg()){let i=t.map(e=>e instanceof n?e.data_:e);return new n(oO.apply(null,i))}else{let i=t.map(s=>zu(s)?Qg(Ei.RAW,s).data:s.data_),e=0;i.forEach(s=>{e+=s.byteLength});let r=new Uint8Array(e),o=0;return i.forEach(s=>{for(let a=0;a<s.length;a++)r[o++]=s[a]}),new n(r,!0)}}uploadData(){return this.data_}};function Yg(n){let t;try{t=JSON.parse(n)}catch{return null}return ZP(t)?t:null}function hO(n){if(n.length===0)return null;let t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function mO(n,t){let i=t.split("/").filter(e=>e.length>0).join("/");return n.length===0?i:n+"/"+i}function QE(n){let t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}function fO(n,t){return t}var je=class{constructor(t,i,e,r){this.server=t,this.local=i||t,this.writable=!!e,this.xform=r||fO}},ju=null;function pO(n){return!zu(n)||n.length<2?n:QE(n)}function Uu(){if(ju)return ju;let n=[];n.push(new je("bucket")),n.push(new je("generation")),n.push(new je("metageneration")),n.push(new je("name","fullPath",!0));function t(o,s){return pO(s)}let i=new je("name");i.xform=t,n.push(i);function e(o,s){return s!==void 0?Number(s):s}let r=new je("size");return r.xform=e,n.push(r),n.push(new je("timeCreated")),n.push(new je("updated")),n.push(new je("md5Hash",null,!0)),n.push(new je("cacheControl",null,!0)),n.push(new je("contentDisposition",null,!0)),n.push(new je("contentEncoding",null,!0)),n.push(new je("contentLanguage",null,!0)),n.push(new je("contentType",null,!0)),n.push(new je("metadata","customMetadata",!0)),ju=n,ju}function gO(n,t){function i(){let e=n.bucket,r=n.fullPath,o=new ei(e,r);return t._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:i})}function _O(n,t,i){let e={};e.type="file";let r=i.length;for(let o=0;o<r;o++){let s=i[o];e[s.local]=s.xform(e,t[s.server])}return gO(e,n),e}function YE(n,t,i){let e=Yg(t);return e===null?null:_O(n,e,i)}function bO(n,t,i,e){let r=Yg(t);if(r===null||!zu(r.downloadTokens))return null;let o=r.downloadTokens;if(o.length===0)return null;let s=encodeURIComponent;return o.split(",").map(d=>{let h=n.bucket,f=n.fullPath,g="/b/"+s(h)+"/o/"+s(f),_=Ir(g,i,e),S=HE({alt:"media",token:d});return _+S})[0]}function Xg(n,t){let i={},e=t.length;for(let r=0;r<e;r++){let o=t[r];o.writable&&(i[o.server]=n[o.local])}return JSON.stringify(i)}var ME="prefixes",PE="items";function vO(n,t,i){let e={prefixes:[],items:[],nextPageToken:i.nextPageToken};if(i[ME])for(let r of i[ME]){let o=r.replace(/\/$/,""),s=n._makeStorageReference(new ei(t,o));e.prefixes.push(s)}if(i[PE])for(let r of i[PE]){let o=n._makeStorageReference(new ei(t,r.name));e.items.push(o)}return e}function yO(n,t,i){let e=Yg(i);return e===null?null:vO(n,t,e)}var Yi=class{constructor(t,i,e,r){this.url=t,this.method=i,this.handler=e,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function fn(n){if(!n)throw Gg()}function qu(n,t){function i(e,r){let o=YE(n,r,t);return fn(o!==null),o}return i}function wO(n,t){function i(e,r){let o=yO(n,t,r);return fn(o!==null),o}return i}function xO(n,t){function i(e,r){let o=YE(n,r,t);return fn(o!==null),bO(o,r,n.host,n._protocol)}return i}function Ws(n){function t(i,e){let r;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?r=BP():r=jP():i.getStatus()===402?r=VP(n.bucket):i.getStatus()===403?r=zP(n.path):r=e,r.status=i.getStatus(),r.serverResponse=e.serverResponse,r}return t}function $u(n){let t=Ws(n);function i(e,r){let o=t(e,r);return e.getStatus()===404&&(o=LP(n.path)),o.serverResponse=r.serverResponse,o}return i}function XE(n,t,i){let e=t.fullServerUrl(),r=Ir(e,n.host,n._protocol),o="GET",s=n.maxOperationRetryTime,a=new Yi(r,o,qu(n,i),s);return a.errorHandler=$u(t),a}function EO(n,t,i,e,r){let o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",i&&i.length>0&&(o.delimiter=i),e&&(o.pageToken=e),r&&(o.maxResults=r);let s=t.bucketOnlyServerUrl(),a=Ir(s,n.host,n._protocol),l="GET",d=n.maxOperationRetryTime,h=new Yi(a,l,wO(n,t.bucket),d);return h.urlParams=o,h.errorHandler=Ws(t),h}function IO(n,t,i){let e=t.fullServerUrl(),r=Ir(e,n.host,n._protocol),o="GET",s=n.maxOperationRetryTime,a=new Yi(r,o,xO(n,i),s);return a.errorHandler=$u(t),a}function kO(n,t,i,e){let r=t.fullServerUrl(),o=Ir(r,n.host,n._protocol),s="PATCH",a=Xg(i,e),l={"Content-Type":"application/json; charset=utf-8"},d=n.maxOperationRetryTime,h=new Yi(o,s,qu(n,e),d);return h.headers=l,h.body=a,h.errorHandler=$u(t),h}function CO(n,t){let i=t.fullServerUrl(),e=Ir(i,n.host,n._protocol),r="DELETE",o=n.maxOperationRetryTime;function s(l,d){}let a=new Yi(e,r,s,o);return a.successCodes=[200,204],a.errorHandler=$u(t),a}function TO(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}function ZE(n,t,i){let e=Object.assign({},i);return e.fullPath=n.path,e.size=t.size(),e.contentType||(e.contentType=TO(null,t)),e}function SO(n,t,i,e,r){let o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let U="";for(let nt=0;nt<2;nt++)U=U+Math.random().toString().slice(2);return U}let l=a();s["Content-Type"]="multipart/related; boundary="+l;let d=ZE(t,e,r),h=Xg(d,i),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+d.contentType+`\r
\r
`,g=`\r
--`+l+"--",_=$s.getBlob(f,e,g);if(_===null)throw qE();let S={name:d.fullPath},O=Ir(o,n.host,n._protocol),M="POST",K=n.maxUploadRetryTime,it=new Yi(O,M,qu(n,i),K);return it.urlParams=S,it.headers=s,it.body=_.uploadData(),it.errorHandler=Ws(t),it}var Hs=class{constructor(t,i,e,r){this.current=t,this.total=i,this.finalized=!!e,this.metadata=r||null}};function Zg(n,t){let i=null;try{i=n.getResponseHeader("X-Goog-Upload-Status")}catch{fn(!1)}return fn(!!i&&(t||["active"]).indexOf(i)!==-1),i}function DO(n,t,i,e,r){let o=t.bucketOnlyServerUrl(),s=ZE(t,e,r),a={name:s.fullPath},l=Ir(o,n.host,n._protocol),d="POST",h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},f=Xg(s,i),g=n.maxUploadRetryTime;function _(O){Zg(O);let M;try{M=O.getResponseHeader("X-Goog-Upload-URL")}catch{fn(!1)}return fn(zu(M)),M}let S=new Yi(l,d,_,g);return S.urlParams=a,S.headers=h,S.body=f,S.errorHandler=Ws(t),S}function AO(n,t,i,e){let r={"X-Goog-Upload-Command":"query"};function o(d){let h=Zg(d,["active","final"]),f=null;try{f=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{fn(!1)}f||fn(!1);let g=Number(f);return fn(!isNaN(g)),new Hs(g,e.size(),h==="final")}let s="POST",a=n.maxUploadRetryTime,l=new Yi(i,s,o,a);return l.headers=r,l.errorHandler=Ws(t),l}var OE=256*1024;function RO(n,t,i,e,r,o,s,a){let l=new Hs(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=e.size()),e.size()!==l.total)throw HP();let d=l.total-l.current,h=d;r>0&&(h=Math.min(h,r));let f=l.current,g=f+h,_="";h===0?_="finalize":d===h?_="upload, finalize":_="upload";let S={"X-Goog-Upload-Command":_,"X-Goog-Upload-Offset":`${l.current}`},O=e.slice(f,g);if(O===null)throw qE();function M(nt,ft){let pt=Zg(nt,["active","final"]),x=l.current+h,b=e.size(),y;return pt==="final"?y=qu(t,o)(nt,ft):y=null,new Hs(x,b,pt==="final",y)}let K="POST",it=t.maxUploadRetryTime,U=new Yi(i,K,M,it);return U.headers=S,U.body=O.uploadData(),U.progressCallback=a||null,U.errorHandler=Ws(n),U}var JE={STATE_CHANGED:"state_changed"},He={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function jg(n){switch(n){case"running":case"pausing":case"canceling":return He.RUNNING;case"paused":return He.PAUSED;case"success":return He.SUCCESS;case"canceled":return He.CANCELED;case"error":return He.ERROR;default:return He.ERROR}}var qg=class{constructor(t,i,e){if(XP(t)||i!=null||e!=null)this.next=t,this.error=i??void 0,this.complete=e??void 0;else{let o=t;this.next=o.next,this.error=o.error,this.complete=o.complete}}};function zs(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}var FE=null,$g=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=qs.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=qs.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=qs.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,i,e,r){if(this.sent_)throw rl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(i,t,!0),r!==void 0)for(let o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return e!==void 0?this.xhr_.send(e):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw rl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw rl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw rl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw rl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}},Hg=class extends $g{initXhr(){this.xhr_.responseType="text"}};function mn(){return FE?FE():new Hg}var al=class{constructor(t,i,e=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=i,this._metadata=e,this._mappings=Uu(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(Qt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{let o=this.isExponentialBackoffExpired();if(GE(r.status,[]))if(o)r=zE();else{this.sleepTime=Math.max(this.sleepTime*2,NP),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(Qt.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,o)=>{this._resolve=r,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){let t=this._transferred;return i=>this._updateProgress(t+i)}_shouldDoResumable(t){return t.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([i,e])=>{switch(this._state){case"running":t(i,e);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((t,i)=>{let e=DO(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(e,mn,t,i);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){let t=this._uploadUrl;this._resolveToken((i,e)=>{let r=AO(this._ref.storage,this._ref._location,t,this._blob),o=this._ref.storage._makeRequest(r,mn,i,e);this._request=o,o.getPromise().then(s=>{s=s,this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){let t=OE*this._chunkMultiplier,i=new Hs(this._transferred,this._blob.size()),e=this._uploadUrl;this._resolveToken((r,o)=>{let s;try{s=RO(this._ref._location,this._ref.storage,e,this._blob,t,this._mappings,i,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}let a=this._ref.storage._makeRequest(s,mn,r,o,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){OE*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,i)=>{let e=XE(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(e,mn,t,i);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,i)=>{let e=SO(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(e,mn,t,i);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){let i=this._transferred;this._transferred=t,this._transferred!==i&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":let i=this._state==="paused";this._state=t,i&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=UE(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){let t=jg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,i,e,r){let o=new qg(i||void 0,e||void 0,r||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(t,i){return this._promise.then(t,i)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){let i=this._observers.indexOf(t);i!==-1&&this._observers.splice(i,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(i=>{this._notifyObserver(i)})}_finishPromise(){if(this._resolve!==void 0){let t=!0;switch(jg(this._state)){case He.SUCCESS:zs(this._resolve.bind(null,this.snapshot))();break;case He.CANCELED:case He.ERROR:let i=this._reject;zs(i.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(jg(this._state)){case He.RUNNING:case He.PAUSED:t.next&&zs(t.next.bind(t,this.snapshot))();break;case He.SUCCESS:t.complete&&zs(t.complete.bind(t))();break;case He.CANCELED:case He.ERROR:t.error&&zs(t.error.bind(t,this._error))();break;default:t.error&&zs(t.error.bind(t,this._error))()}}resume(){let t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t}pause(){let t=this._state==="running";return t&&this._transition("pausing"),t}cancel(){let t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t}};var Gs=class n{constructor(t,i){this._service=t,i instanceof ei?this._location=i:this._location=ei.makeFromUrl(i,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,i){return new n(t,i)}get root(){let t=new ei(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return QE(this._location.path)}get storage(){return this._service}get parent(){let t=hO(this._location.path);if(t===null)return null;let i=new ei(this._location.bucket,t);return new n(this._service,i)}_throwIfRoot(t){if(this._location.path==="")throw Wg(t)}};function MO(n,t,i){return n._throwIfRoot("uploadBytesResumable"),new al(n,new $s(t),i)}function PO(n){let t={prefixes:[],items:[]};return tI(n,t).then(()=>t)}function tI(n,t,i){return R(this,null,function*(){let r=yield eI(n,{pageToken:i});t.prefixes.push(...r.prefixes),t.items.push(...r.items),r.nextPageToken!=null&&(yield tI(n,t,r.nextPageToken))})}function eI(n,t){t!=null&&typeof t.maxResults=="number"&&zg("options.maxResults",1,1e3,t.maxResults);let i=t||{},e=EO(n.storage,n._location,"/",i.pageToken,i.maxResults);return n.storage.makeRequestWithTokens(e,mn)}function OO(n){n._throwIfRoot("getMetadata");let t=XE(n.storage,n._location,Uu());return n.storage.makeRequestWithTokens(t,mn)}function FO(n,t){n._throwIfRoot("updateMetadata");let i=kO(n.storage,n._location,t,Uu());return n.storage.makeRequestWithTokens(i,mn)}function NO(n){n._throwIfRoot("getDownloadURL");let t=IO(n.storage,n._location,Uu());return n.storage.makeRequestWithTokens(t,mn).then(i=>{if(i===null)throw GP();return i})}function LO(n){n._throwIfRoot("deleteObject");let t=CO(n.storage,n._location);return n.storage.makeRequestWithTokens(t,mn)}function iI(n,t){let i=mO(n._location.path,t),e=new ei(n._location.bucket,i);return new Gs(n.storage,e)}function VO(n){return/^[A-Za-z]+:\/\//.test(n)}function jO(n,t){return new Gs(n,t)}function nI(n,t){if(n instanceof cl){let i=n;if(i._bucket==null)throw $P();let e=new Gs(i,i._bucket);return t!=null?nI(e,t):e}else return t!==void 0?iI(n,t):n}function BO(n,t){if(t&&VO(t)){if(n instanceof cl)return jO(n,t);throw Do("To use ref(service, url), the first argument must be a Storage instance.")}else return nI(n,t)}function NE(n,t){let i=t?.[BE];return i==null?null:ei.makeFromBucketSpec(i,n)}function zO(n,t,i,e={}){n.host=`${t}:${i}`,n._protocol="http";let{mockUserToken:r}=e;r&&(n._overrideAuthToken=typeof r=="string"?r:$d(r,n.app.options.projectId))}var cl=class{constructor(t,i,e,r,o){this.app=t,this._authProvider=i,this._appCheckProvider=e,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=jE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=OP,this._maxUploadRetryTime=FP,this._requests=new Set,r!=null?this._bucket=ei.makeFromBucketSpec(r,this._host):this._bucket=NE(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=ei.makeFromBucketSpec(this._url,t):this._bucket=NE(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){zg("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){zg("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){return R(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let t=this._authProvider.getImmediate({optional:!0});if(t){let i=yield t.getToken();if(i!==null)return i.accessToken}return null})}_getAppCheckToken(){return R(this,null,function*(){let t=this._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Gs(this,t)}_makeRequest(t,i,e,r,o=!0){if(this._deleted)return new Bg($E());{let s=nO(t,this._appId,e,r,i,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(t,i){return R(this,null,function*(){let[e,r]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,i,e,r).getPromise()})}},LE="@firebase/storage",VE="0.12.5";var UO="storage";function rI(n,t,i){return n=Ft(n),MO(n,t,i)}function oI(n){return n=Ft(n),OO(n)}function sI(n,t){return n=Ft(n),FO(n,t)}function aI(n,t){return n=Ft(n),eI(n,t)}function cI(n){return n=Ft(n),PO(n)}function lI(n){return n=Ft(n),NO(n)}function dI(n){return n=Ft(n),LO(n)}function Jg(n,t){return n=Ft(n),BO(n,t)}function uI(n,t){return iI(n,t)}function hI(n,t,i,e={}){zO(n,t,i,e)}function qO(n,{instanceIdentifier:t}){let i=n.getProvider("app").getImmediate(),e=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new cl(i,e,r,t,Kd)}function $O(){fo(new Hi(UO,qO,"PUBLIC").setMultipleInstances(!0)),Gi(LE,VE,""),Gi(LE,VE,"esm2017")}$O();var Ks=class{constructor(t,i,e){this._delegate=t,this.task=i,this.ref=e}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}};var Hu=class{constructor(t,i){this._delegate=t,this._ref=i,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Ks(this._delegate.snapshot,this,this._ref)}then(t,i){return this._delegate.then(e=>{if(t)return t(new Ks(e,this,this._ref))},i)}on(t,i,e,r){let o;return i&&(typeof i=="function"?o=s=>i(new Ks(s,this,this._ref)):o={next:i.next?s=>i.next(new Ks(s,this,this._ref)):void 0,complete:i.complete||void 0,error:i.error||void 0}),this._delegate.on(t,o,e||void 0,r||void 0)}},Gu=class{constructor(t,i){this._delegate=t,this._service=i}get prefixes(){return this._delegate.prefixes.map(t=>new Ao(t,this._service))}get items(){return this._delegate.items.map(t=>new Ao(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}};var Ao=class n{constructor(t,i){this._delegate=t,this.storage=i}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){let i=uI(this._delegate,t);return new n(i,this.storage)}get root(){return new n(this._delegate.root,this.storage)}get parent(){let t=this._delegate.parent;return t==null?null:new n(t,this.storage)}put(t,i){return this._throwIfRoot("put"),new Hu(rI(this._delegate,t,i),this)}putString(t,i=Ei.RAW,e){this._throwIfRoot("putString");let r=Qg(i,t),o=Object.assign({},e);return o.contentType==null&&r.contentType!=null&&(o.contentType=r.contentType),new Hu(new al(this._delegate,new $s(r.data,!0),o),this)}listAll(){return cI(this._delegate).then(t=>new Gu(t,this.storage))}list(t){return aI(this._delegate,t||void 0).then(i=>new Gu(i,this.storage))}getMetadata(){return oI(this._delegate)}updateMetadata(t){return sI(this._delegate,t)}getDownloadURL(){return lI(this._delegate)}delete(){return this._throwIfRoot("delete"),dI(this._delegate)}_throwIfRoot(t){if(this._delegate._location.path==="")throw Wg(t)}};var Wu=class{constructor(t,i){this.app=t,this._delegate=i}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(mI(t))throw Do("ref() expected a child path but got a URL, use refFromURL instead.");return new Ao(Jg(this._delegate,t),this)}refFromURL(t){if(!mI(t))throw Do("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ei.makeFromUrl(t,this._delegate.host)}catch{throw Do("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ao(Jg(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,i,e={}){hI(this._delegate,t,i,e)}};function mI(n){return/^[A-Za-z]+:\/\//.test(n)}var HO="@firebase/storage-compat",GO="0.3.8";var WO="storage-compat";function KO(n,{instanceIdentifier:t}){let i=n.getProvider("app-compat").getImmediate(),e=n.getProvider("storage").getImmediate({identifier:t});return new Wu(i,e)}function QO(n){let t={TaskState:He,TaskEvent:JE,StringFormat:Ei,Storage:Wu,Reference:Ao};n.INTERNAL.registerComponent(new Hi(WO,KO,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion(HO,GO)}QO(Re);function YO(n){return new Se(t=>{let i=s=>t.next(s),e=s=>t.error(s),r=()=>t.complete();i(n.snapshot);let o=n.on("state_changed",i);return n.then(s=>{i(s),r()},s=>{i(n.snapshot),e(s)}),function(){o()}}).pipe(no(0))}function fI(n){let t=YO(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe(tt(i=>i.bytesTransferred/i.totalBytes*100))}}function Ku(n){return{getDownloadURL:()=>Y(void 0).pipe(Hp,Mt(()=>n.getDownloadURL()),Ve),getMetadata:()=>Y(void 0).pipe(Hp,Mt(()=>n.getMetadata()),Ve),delete:()=>jt(n.delete()),child:t=>Ku(n.child(t)),updateMetadata:t=>jt(n.updateMetadata(t)),put:(t,i)=>{let e=n.put(t,i);return fI(e)},putString:(t,i,e)=>{let r=n.putString(t,i,e);return fI(r)},list:t=>jt(n.list(t)),listAll:()=>jt(n.listAll())}}var XO=new $("angularfire2.storageBucket"),ZO=new $("angularfire2.storage.maxUploadRetryTime"),JO=new $("angularfire2.storage.maxOperationRetryTime"),tF=new $("angularfire2.storage.use-emulator"),Ii=(()=>{class n{storage;constructor(i,e,r,o,s,a,l,d,h,f){let g=Bn(i,s,e);this.storage=Er(`${g.name}.storage.${r}`,"AngularFireStorage",g.name,()=>{let _=s.runOutsideAngular(()=>g.storage(r||void 0)),S=h;return S&&_.useEmulator(...S),l&&_.setMaxUploadRetryTime(l),d&&_.setMaxOperationRetryTime(d),_},[l,d])}ref(i){return Ku(this.storage.ref(i))}refFromURL(i){return Ku(this.storage.refFromURL(i))}upload(i,e,r){let o=this.storage.ref(i);return Ku(o).put(e,r)}static \u0275fac=function(e){return new(e||n)(w(un),w(hn,8),w(XO,8),w(Le),w(J),w(mr),w(ZO,8),w(JO,8),w(tF,8),w(Nn,8))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();var eF=(()=>{class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=Z({type:n});static \u0275inj=X({})}return n})(),pI=(()=>{class n{constructor(){Re.registerVersion("angularfire",_o.full,"gcs-compat")}static \u0275fac=function(e){return new(e||n)};static \u0275mod=Z({type:n});static \u0275inj=X({providers:[Ii],imports:[eF]})}return n})();var Mi=(()=>{let t=class t{constructor(e,r,o,s){this.fireauth=e,this.router=r,this.fireStorage=o,this.dialog=s,this.uid=""}login(e,r){this.fireauth.signInWithEmailAndPassword(e,r).then(o=>{console.log("res of : login",o),console.log(" uid : ",o?.user?.uid),this.uid=o?.user?.uid.toString(),this.email=e,this.password=r,localStorage.setItem("token","true"),localStorage.setItem("email",e),localStorage.setItem("password",r),localStorage.setItem("uid",this.uid.toString()),o.user?.emailVerified==!0?this.router.navigate(["dashboard"]):this.router.navigate(["/varify-email"])},o=>{this.dialog.open(So,{data:{message:"Invalid id or password entered"}}),this.router.navigate(["/login"])})}register(e,r){this.fireauth.createUserWithEmailAndPassword(e,r).then(o=>{console.log("res of : register",o),console.log(" uid : ",o?.user?.uid),alert("Registration Successful"),this.sendEmailForVarification(o.user),this.router.navigate(["/login"])},o=>{alert(o.message),this.router.navigate(["/register"])})}logout(){let e=new wi;e.position={top:"250px"},e.data={message:"Are you sure you want to sign out?"},this.dialog.open(To,e).afterClosed().subscribe(o=>{o&&this.fireauth.signOut().then(()=>{localStorage.removeItem("token"),localStorage.removeItem("email"),localStorage.removeItem("password"),this.router.navigate(["/login"])},s=>{this.dialog.open(So,{data:{message:s.message}})})})}forgotPassword(e){this.fireauth.sendPasswordResetEmail(e).then(()=>{this.router.navigate(["/varify-email"])},r=>{alert("Something went wrong")})}sendEmailForVarification(e){e.sendEmailVerification().then(r=>{this.router.navigate(["/varify-email"])},r=>{alert("Something went wrong. Not able to send mail to your email.")})}googleSignIn(){return this.fireauth.signInWithPopup(new Vf).then(e=>{this.router.navigate(["/dashboard"]),localStorage.setItem("token",JSON.stringify(e.user?.uid))},e=>{alert(e.message)})}};t.\u0275fac=function(r){return new(r||t)(w(Vu),w(ee),w(Ii),w(xi))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var EI=(()=>{let t=class t{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}};t.\u0275fac=function(r){return new(r||t)(E(_s),E(gt))},t.\u0275dir=rt({type:t});let n=t;return n})(),II=(()=>{let t=class t extends EI{};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=Je(t)))(o||t)}})(),t.\u0275dir=rt({type:t,features:[Ot]});let n=t;return n})(),e_=new $("");var iF={provide:e_,useExisting:or(()=>mi),multi:!0};function nF(){let n=ho()?ho().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var rF=new $(""),mi=(()=>{let t=class t extends EI{constructor(e,r,o){super(e,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!nF())}writeValue(e){let r=e??"";this.setProperty("value",r)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}};t.\u0275fac=function(r){return new(r||t)(E(_s),E(gt),E(rF,8))},t.\u0275dir=rt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&dt("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Ce([iF]),Ot]});let n=t;return n})();function kr(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function kI(n){return n!=null&&typeof n.length=="number"}var sh=new $(""),i_=new $(""),oF=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Yu=class{static min(t){return sF(t)}static max(t){return aF(t)}static required(t){return CI(t)}static requiredTrue(t){return cF(t)}static email(t){return lF(t)}static minLength(t){return dF(t)}static maxLength(t){return uF(t)}static pattern(t){return hF(t)}static nullValidator(t){return Xu(t)}static compose(t){return MI(t)}static composeAsync(t){return PI(t)}};function sF(n){return t=>{if(kr(t.value)||kr(n))return null;let i=parseFloat(t.value);return!isNaN(i)&&i<n?{min:{min:n,actual:t.value}}:null}}function aF(n){return t=>{if(kr(t.value)||kr(n))return null;let i=parseFloat(t.value);return!isNaN(i)&&i>n?{max:{max:n,actual:t.value}}:null}}function CI(n){return kr(n.value)?{required:!0}:null}function cF(n){return n.value===!0?null:{required:!0}}function lF(n){return kr(n.value)||oF.test(n.value)?null:{email:!0}}function dF(n){return t=>kr(t.value)||!kI(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}function uF(n){return t=>kI(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function hF(n){if(!n)return Xu;let t,i;return typeof n=="string"?(i="",n.charAt(0)!=="^"&&(i+="^"),i+=n,n.charAt(n.length-1)!=="$"&&(i+="$"),t=new RegExp(i)):(i=n.toString(),t=n),e=>{if(kr(e.value))return null;let r=e.value;return t.test(r)?null:{pattern:{requiredPattern:i,actualValue:r}}}}function Xu(n){return null}function TI(n){return n!=null}function SI(n){return Bd(n)?jt(n):n}function DI(n){let t={};return n.forEach(i=>{t=i!=null?B(B({},t),i):t}),Object.keys(t).length===0?null:t}function AI(n,t){return t.map(i=>i(n))}function mF(n){return!n.validate}function RI(n){return n.map(t=>mF(t)?t:i=>t.validate(i))}function MI(n){if(!n)return null;let t=n.filter(TI);return t.length==0?null:function(i){return DI(AI(i,t))}}function n_(n){return n!=null?MI(RI(n)):null}function PI(n){if(!n)return null;let t=n.filter(TI);return t.length==0?null:function(i){let e=AI(i,t).map(SI);return Sd(e).pipe(tt(DI))}}function r_(n){return n!=null?PI(RI(n)):null}function gI(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function OI(n){return n._rawValidators}function FI(n){return n._rawAsyncValidators}function t_(n){return n?Array.isArray(n)?n:[n]:[]}function Zu(n,t){return Array.isArray(n)?n.includes(t):n===t}function _I(n,t){let i=t_(t);return t_(n).forEach(r=>{Zu(i,r)||i.push(r)}),i}function bI(n,t){return t_(t).filter(i=>!Zu(n,i))}var Ju=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=n_(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=r_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,i){return this.control?this.control.hasError(t,i):!1}getError(t,i){return this.control?this.control.getError(t,i):null}},Cr=class extends Ju{get formDirective(){return null}get path(){return null}},Ro=class extends Ju{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},th=class{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},fF={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},V3=Nt(B({},fF),{"[class.ng-submitted]":"isSubmitted"}),Pi=(()=>{let t=class t extends th{constructor(e){super(e)}};t.\u0275fac=function(r){return new(r||t)(E(Ro,2))},t.\u0275dir=rt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&xt("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Ot]});let n=t;return n})(),Oi=(()=>{let t=class t extends th{constructor(e){super(e)}};t.\u0275fac=function(r){return new(r||t)(E(Cr,10))},t.\u0275dir=rt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&xt("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Ot]});let n=t;return n})();var ll="VALID",Qu="INVALID",Xs="PENDING",dl="DISABLED";function NI(n){return(ah(n)?n.validators:n)||null}function pF(n){return Array.isArray(n)?n_(n):n||null}function LI(n,t){return(ah(t)?t.asyncValidators:n)||null}function gF(n){return Array.isArray(n)?r_(n):n||null}function ah(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function _F(n,t,i){let e=n.controls;if(!(t?Object.keys(e):e).length)throw new zt(1e3,"");if(!e[i])throw new zt(1001,"")}function bF(n,t,i){n._forEachChild((e,r)=>{if(i[r]===void 0)throw new zt(1002,"")})}var eh=class{constructor(t,i){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ll}get invalid(){return this.status===Qu}get pending(){return this.status==Xs}get disabled(){return this.status===dl}get enabled(){return this.status!==dl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(_I(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(_I(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(bI(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(bI(t,this._rawAsyncValidators))}hasValidator(t){return Zu(this._rawValidators,t)}hasAsyncValidator(t){return Zu(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Xs,t.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){let i=this._parentMarkedDirty(t.onlySelf);this.status=dl,this.errors=null,this._forEachChild(e=>{e.disable(Nt(B({},t),{onlySelf:!0}))}),this._updateValue(),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Nt(B({},t),{skipPristineCheck:i})),this._onDisabledChange.forEach(e=>e(!0))}enable(t={}){let i=this._parentMarkedDirty(t.onlySelf);this.status=ll,this._forEachChild(e=>{e.enable(Nt(B({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Nt(B({},t),{skipPristineCheck:i})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ll||this.status===Xs)&&this._runAsyncValidator(t.emitEvent)),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?dl:ll}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Xs,this._hasOwnPendingAsyncValidator=!0;let i=SI(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,i={}){this.errors=t,this._updateControlsErrors(i.emitEvent!==!1)}get(t){let i=t;return i==null||(Array.isArray(i)||(i=i.split(".")),i.length===0)?null:i.reduce((e,r)=>e&&e._find(r),this)}getError(t,i){let e=i?this.get(i):this;return e&&e.errors?e.errors[t]:null}hasError(t,i){return!!this.getError(t,i)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Xt,this.statusChanges=new Xt}_calculateStatus(){return this._allControlsDisabled()?dl:this.errors?Qu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xs)?Xs:this._anyControlsHaveStatus(Qu)?Qu:ll}_anyControlsHaveStatus(t){return this._anyControls(i=>i.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ah(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let i=this._parent&&this._parent.dirty;return!t&&!!i&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=pF(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=gF(this._rawAsyncValidators)}},ih=class extends eh{constructor(t,i,e){super(NI(i),LI(e,i)),this.controls=t,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,i){return this.controls[t]?this.controls[t]:(this.controls[t]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(t,i,e={}){this.registerControl(t,i),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}removeControl(t,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(t,i,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],i&&this.registerControl(t,i),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,i={}){bF(this,!0,t),Object.keys(t).forEach(e=>{_F(this,!0,e),this.controls[e].setValue(t[e],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(t,i={}){t!=null&&(Object.keys(t).forEach(e=>{let r=this.controls[e];r&&r.patchValue(t[e],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(t={},i={}){this._forEachChild((e,r)=>{e.reset(t?t[r]:null,{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(t,i,e)=>(t[e]=i.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(i,e)=>e._syncPendingControls()?!0:i);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(i=>{let e=this.controls[i];e&&t(e,i)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[i,e]of Object.entries(this.controls))if(this.contains(i)&&t(e))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(i,e,r)=>((e.enabled||this.disabled)&&(i[r]=e.value),i))}_reduceChildren(t,i){let e=t;return this._forEachChild((r,o)=>{e=i(e,r,o)}),e}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var hl=new $("CallSetDisabledState",{providedIn:"root",factory:()=>ch}),ch="always";function vF(n,t){return[...t.path,n]}function nh(n,t,i=ch){o_(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||i==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),wF(n,t),EF(n,t),xF(n,t),yF(n,t)}function vI(n,t,i=!0){let e=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(e),t.valueAccessor.registerOnTouched(e)),oh(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function rh(n,t){n.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(t)})}function yF(n,t){if(t.valueAccessor.setDisabledState){let i=e=>{t.valueAccessor.setDisabledState(e)};n.registerOnDisabledChange(i),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(i)})}}function o_(n,t){let i=OI(n);t.validator!==null?n.setValidators(gI(i,t.validator)):typeof i=="function"&&n.setValidators([i]);let e=FI(n);t.asyncValidator!==null?n.setAsyncValidators(gI(e,t.asyncValidator)):typeof e=="function"&&n.setAsyncValidators([e]);let r=()=>n.updateValueAndValidity();rh(t._rawValidators,r),rh(t._rawAsyncValidators,r)}function oh(n,t){let i=!1;if(n!==null){if(t.validator!==null){let r=OI(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.validator);o.length!==r.length&&(i=!0,n.setValidators(o))}}if(t.asyncValidator!==null){let r=FI(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(i=!0,n.setAsyncValidators(o))}}}let e=()=>{};return rh(t._rawValidators,e),rh(t._rawAsyncValidators,e),i}function wF(n,t){t.valueAccessor.registerOnChange(i=>{n._pendingValue=i,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&VI(n,t)})}function xF(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&VI(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function VI(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function EF(n,t){let i=(e,r)=>{t.valueAccessor.writeValue(e),r&&t.viewToModelUpdate(e)};n.registerOnChange(i),t._registerOnDestroy(()=>{n._unregisterOnChange(i)})}function jI(n,t){n==null,o_(n,t)}function IF(n,t){return oh(n,t)}function kF(n,t){if(!n.hasOwnProperty("model"))return!1;let i=n.model;return i.isFirstChange()?!0:!Object.is(t,i.currentValue)}function CF(n){return Object.getPrototypeOf(n.constructor)===II}function BI(n,t){n._syncPendingControls(),t.forEach(i=>{let e=i.control;e.updateOn==="submit"&&e._pendingChange&&(i.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function TF(n,t){if(!t)return null;Array.isArray(t);let i,e,r;return t.forEach(o=>{o.constructor===mi?i=o:CF(o)?e=o:r=o}),r||e||i||null}function SF(n,t){let i=n.indexOf(t);i>-1&&n.splice(i,1)}var DF={provide:Cr,useExisting:or(()=>ii)},ul=Promise.resolve(),ii=(()=>{let t=class t extends Cr{constructor(e,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Xt,this.form=new ih({},n_(e),r_(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){ul.then(()=>{let r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),nh(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){ul.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){ul.then(()=>{let r=this._findContainer(e.path),o=new ih({});jI(o,e),r.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){ul.then(()=>{let r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){ul.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,BI(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}};t.\u0275fac=function(r){return new(r||t)(E(sh,10),E(i_,10),E(hl,8))},t.\u0275dir=rt({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&dt("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[ht.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ce([DF]),Ot]});let n=t;return n})();function yI(n,t){let i=n.indexOf(t);i>-1&&n.splice(i,1)}function wI(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var zI=class extends eh{constructor(t=null,i,e){super(NI(i),LI(e,i)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ah(i)&&(i.nonNullable||i.initialValueIsDefault)&&(wI(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,i={}){this.value=this._pendingValue=t,this._onChange.length&&i.emitModelToViewChange!==!1&&this._onChange.forEach(e=>e(this.value,i.emitViewToModelChange!==!1)),this.updateValueAndValidity(i)}patchValue(t,i={}){this.setValue(t,i)}reset(t=this.defaultValue,i={}){this._applyFormState(t),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){yI(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){yI(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){wI(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var AF=n=>n instanceof zI;var RF={provide:Ro,useExisting:or(()=>ki)},xI=Promise.resolve(),ki=(()=>{let t=class t extends Ro{constructor(e,r,o,s,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new zI,this._registered=!1,this.name="",this.update=new Xt,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=TF(this,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),kF(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){nh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){xI.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let r=e.isDisabled.currentValue,o=r!==0&&be(r);xI.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?vF(e,this._parent):[e]}};t.\u0275fac=function(r){return new(r||t)(E(Cr,9),E(sh,10),E(i_,10),E(e_,10),E(ti,8),E(hl,8))},t.\u0275dir=rt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[ht.None,"disabled","isDisabled"],model:[ht.None,"ngModel","model"],options:[ht.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ce([RF]),Ot,Ze]});let n=t;return n})(),Fi=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=rt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let n=t;return n})(),MF={provide:e_,useExisting:or(()=>ml),multi:!0},ml=(()=>{let t=class t extends II{writeValue(e){let r=e??"";this.setProperty("value",r)}registerOnChange(e){this.onChange=r=>{e(r==""?null:parseFloat(r))}}};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=Je(t)))(o||t)}})(),t.\u0275dir=rt({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,o){r&1&&dt("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[Ce([MF]),Ot]});let n=t;return n})();var PF=new $("");var OF={provide:Cr,useExisting:or(()=>s_)},s_=(()=>{let t=class t extends Cr{constructor(e,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Xt,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(oh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let r=this.form.get(e.path);return nh(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){vI(e.control||null,e,!1),SF(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,BI(this.form,this.directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{let r=e.control,o=this.form.get(e.path);r!==o&&(vI(r||null,e),AF(o)&&(nh(o,e,this.callSetDisabledState),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let r=this.form.get(e.path);jI(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let r=this.form.get(e.path);r&&IF(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){o_(this.form,this),this._oldForm&&oh(this._oldForm,this)}_checkFormPresent(){this.form}};t.\u0275fac=function(r){return new(r||t)(E(sh,10),E(i_,10),E(hl,8))},t.\u0275dir=rt({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&dt("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[ht.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ce([OF]),Ot,Ze]});let n=t;return n})();var FF=(()=>{let t=class t{constructor(){this._validator=Xu}ngOnChanges(e){if(this.inputName in e){let r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Xu,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=rt({type:t,features:[Ze]});let n=t;return n})();var NF={provide:sh,useExisting:or(()=>fl),multi:!0};var fl=(()=>{let t=class t extends FF{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=be,this.createValidator=e=>CI}enabled(e){return e}};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=Je(t)))(o||t)}})(),t.\u0275dir=rt({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){r&2&&Tt("required",o._enabled?"":null)},inputs:{required:"required"},features:[Ce([NF]),Ot]});let n=t;return n})();var UI=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=X({});let n=t;return n})();var qI=(()=>{let t=class t{static withConfig(e){return{ngModule:t,providers:[{provide:hl,useValue:e.callSetDisabledState??ch}]}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=X({imports:[UI]});let n=t;return n})(),$I=(()=>{let t=class t{static withConfig(e){return{ngModule:t,providers:[{provide:PF,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:hl,useValue:e.callSetDisabledState??ch}]}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=X({imports:[UI]});let n=t;return n})();var HI=(()=>{let t=class t{constructor(e){this.auth=e,this.email=""}ngOnInit(){}forgotPassword(){this.auth.forgotPassword(this.email),this.email=""}};t.\u0275fac=function(r){return new(r||t)(E(Mi))},t.\u0275cmp=st({type:t,selectors:[["app-forgot-password"]],decls:24,vars:1,consts:[[1,"container-fluid"],[1,"row","mt-5"],[1,"col"],[1,"col-4"],[1,"card","shadow"],[1,"card-body"],[1,"mb-3"],[1,"text-dark","text-muted","text-center"],["for","exampleInputEmail1",1,"form-label"],["type","email","name","email",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-center"],["type","button",1,"btn","btn-info",3,"click"],[1,"row"],[1,"col-md-6"],["href","/login",2,"text-decoration","none"],[1,"text-danger"]],template:function(r,o){r&1&&(T(0,"div",0)(1,"div",1),ot(2,"div",2),T(3,"div",3)(4,"div",4)(5,"div",5)(6,"form")(7,"div",6)(8,"h4",7),V(9,"Forgot password"),A()(),T(10,"div",6)(11,"label",8),V(12,"Email"),A(),T(13,"input",9),te("ngModelChange",function(a){return Jt(o.email,a)||(o.email=a),a}),A()(),T(14,"div",10)(15,"button",11),dt("click",function(){return o.forgotPassword()}),V(16,"Send Link"),A()(),T(17,"div",12)(18,"div",13)(19,"a",14),V(20,"Back to "),T(21,"span",15),V(22,"Login"),A()()()()()()()(),ot(23,"div",2),A()()),r&2&&(z(13),Zt("ngModel",o.email))},dependencies:[Fi,mi,Pi,Oi,ki,ii]});let n=t;return n})();var GI=(()=>{let t=class t{constructor(e,r){this.auth=e,this.dialog=r,this.email="",this.password=""}ngOnInit(){}login(){if(this.email==""){this.dialog.open(So,{data:{message:"Please enter email"}});return}if(this.password==""){this.dialog.open(So,{data:{message:"Please enter password"}});return}this.email==="sonalinehere802@gmail.com"&&this.password==="Sonali@123"?(this.auth.login(this.email,this.password),this.email="",this.password=""):this.dialog.open(So,{data:{message:"Unauthorized user"}})}signInWithGoogle(){this.auth.googleSignIn()}};t.\u0275fac=function(r){return new(r||t)(E(Mi),E(xi))},t.\u0275cmp=st({type:t,selectors:[["app-login"]],decls:21,vars:2,consts:[[1,"container"],[1,"row","justify-content-center","mt-5"],[1,"col-12","col-md-8","col-lg-5"],[1,"card","shadow"],[1,"card-body"],[1,"mb-3"],[1,"text-dark","text-muted","text-center"],["for","exampleInputEmail1",1,"form-label"],["type","email","name","email",1,"form-control",3,"ngModelChange","ngModel"],["for","exampleInputPassword1",1,"form-label"],["type","password","name","password",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-center"],["type","button",1,"btn","btn-info","text-dark",3,"click"]],template:function(r,o){r&1&&(T(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"form")(6,"div",5)(7,"h2",6),V(8,"The Kala Mart Login"),A()(),T(9,"div",5)(10,"label",7),V(11,"Email"),A(),T(12,"input",8),te("ngModelChange",function(a){return Jt(o.email,a)||(o.email=a),a}),A()(),T(13,"div",5)(14,"label",9),V(15,"Password"),A(),T(16,"input",10),te("ngModelChange",function(a){return Jt(o.password,a)||(o.password=a),a}),A()(),T(17,"div",11)(18,"button",12),dt("click",function(){return o.login()}),V(19,"Login"),A()(),ot(20,"br"),A()()()()()()),r&2&&(z(12),Zt("ngModel",o.email),z(4),Zt("ngModel",o.password))},dependencies:[Fi,mi,Pi,Oi,ki,ii]});let n=t;return n})();var WI=(()=>{let t=class t{constructor(e){this.auth=e,this.email="",this.password=""}ngOnInit(){}register(){if(this.email==""){alert("Please enter email");return}if(this.password==""){alert("Please enter password");return}this.auth.register(this.email,this.password),this.email="",this.password=""}};t.\u0275fac=function(r){return new(r||t)(E(Mi))},t.\u0275cmp=st({type:t,selectors:[["app-register"]],decls:29,vars:2,consts:[[1,"container-fluid"],[1,"row","mt-5"],[1,"col"],[1,"col-4"],[1,"card","shadow"],[1,"card-body"],[1,"mb-3"],[1,"text-dark","text-muted","text-center"],["for","exampleInputEmail1",1,"form-label"],["type","email","name","email",1,"form-control",3,"ngModelChange","ngModel"],["for","exampleInputPassword1",1,"form-label"],["type","password","name","password",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-center"],["type","button",1,"btn","btn-info",3,"click"],[1,"row"],[1,"col-md-6"],["href","/login",2,"text-decoration","none"],[1,"text-danger"]],template:function(r,o){r&1&&(T(0,"div",0)(1,"div",1),ot(2,"div",2),T(3,"div",3)(4,"div",4)(5,"div",5)(6,"form")(7,"div",6)(8,"h2",7),V(9,"Register"),A()(),T(10,"div",6)(11,"label",8),V(12,"Email"),A(),T(13,"input",9),te("ngModelChange",function(a){return Jt(o.email,a)||(o.email=a),a}),A()(),T(14,"div",6)(15,"label",10),V(16,"Password"),A(),T(17,"input",11),te("ngModelChange",function(a){return Jt(o.password,a)||(o.password=a),a}),A()(),T(18,"div",12)(19,"button",13),dt("click",function(){return o.register()}),V(20,"Register"),A()(),ot(21,"br"),T(22,"div",14)(23,"div",15)(24,"a",16),V(25,"Have an account ? "),T(26,"span",17),V(27,"Login"),A()()()()()()()(),ot(28,"div",2),A()()),r&2&&(z(13),Zt("ngModel",o.email),z(4),Zt("ngModel",o.password))},dependencies:[Fi,mi,Pi,Oi,ki,ii]});let n=t;return n})();var KI=(()=>{let t=class t{constructor(){}ngOnInit(){}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=st({type:t,selectors:[["app-varify-email"]],decls:18,vars:0,consts:[[1,"container-fluid"],[1,"row","mt-5"],[1,"col"],[1,"col-4"],[1,"card","shadow"],[1,"card-body"],[1,"mb-3"],[1,"text-danger","text-muted"],[1,"text-muted"],[1,"row"],[1,"col-md-6"],["mat-button","","href","/login","target","_blank"]],template:function(r,o){r&1&&(T(0,"div",0)(1,"div",1),ot(2,"div",2),T(3,"div",3)(4,"div",4)(5,"div",5)(6,"form")(7,"div",6)(8,"h4",7),V(9,"Welcome"),A()(),T(10,"div",6)(11,"p",8),V(12,"Link has sent on your registered email. Please varify it."),A()(),T(13,"div",9)(14,"div",10)(15,"a",11),V(16,"Login"),A()()()()()()(),ot(17,"div",2),A()())},dependencies:[fE,Fi,Oi,ii]});let n=t;return n})();var LF=["*"],lh;function VF(){if(lh===void 0&&(lh=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(lh=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return lh}function pl(n){return VF()?.createHTML(n)||n}function QI(n){return Error(`Unable to find icon with the name "${n}"`)}function jF(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}function YI(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function XI(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var zn=class{constructor(t,i,e){this.url=t,this.svgText=i,this.options=e}},BF=(()=>{let t=class t{constructor(e,r,o,s){this._httpClient=e,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=o}addSvgIcon(e,r,o){return this.addSvgIconInNamespace("",e,r,o)}addSvgIconLiteral(e,r,o){return this.addSvgIconLiteralInNamespace("",e,r,o)}addSvgIconInNamespace(e,r,o,s){return this._addSvgIconConfig(e,r,new zn(o,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,o,s){let a=this._sanitizer.sanitize(_i.HTML,o);if(!a)throw XI(o);let l=pl(a);return this._addSvgIconConfig(e,r,new zn("",l,s))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,o){return this._addSvgIconSetConfig(e,new zn(r,null,o))}addSvgIconSetLiteralInNamespace(e,r,o){let s=this._sanitizer.sanitize(_i.HTML,r);if(!s)throw XI(r);let a=pl(s);return this._addSvgIconSetConfig(e,new zn("",a,o))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let r=this._sanitizer.sanitize(_i.RESOURCE_URL,e);if(!r)throw YI(e);let o=this._cachedIconsByUrl.get(r);return o?Y(dh(o)):this._loadSvgIconFromConfig(new zn(e,null)).pipe(Wt(s=>this._cachedIconsByUrl.set(r,s)),tt(s=>dh(s)))}getNamedSvgIcon(e,r=""){let o=ZI(r,e),s=this._svgIconConfigs.get(o);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,e),s)return this._svgIconConfigs.set(o,s),this._getSvgFromConfig(s);let a=this._iconSetConfigs.get(r);return a?this._getSvgFromIconSetConfigs(e,a):eo(QI(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Y(dh(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(tt(r=>dh(r)))}_getSvgFromIconSetConfigs(e,r){let o=this._extractIconWithNameFromAnySet(e,r);if(o)return Y(o);let s=r.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(en(l=>{let h=`Loading icon set URL: ${this._sanitizer.sanitize(_i.RESOURCE_URL,a.url)} failed: ${l.message}`;return this._errorHandler.handleError(new Error(h)),Y(null)})));return Sd(s).pipe(tt(()=>{let a=this._extractIconWithNameFromAnySet(e,r);if(!a)throw QI(e);return a}))}_extractIconWithNameFromAnySet(e,r){for(let o=r.length-1;o>=0;o--){let s=r[o];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){let a=this._svgElementFromConfig(s),l=this._extractSvgIconFromSet(a,e,s.options);if(l)return l}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Wt(r=>e.svgText=r),tt(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Y(null):this._fetchIcon(e).pipe(Wt(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,o){let s=e.querySelector(`[id="${r}"]`);if(!s)return null;let a=s.cloneNode(!0);if(a.removeAttribute("id"),a.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(a,o);if(a.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(a),o);let l=this._svgElementFromString(pl("<svg></svg>"));return l.appendChild(a),this._setSvgAttributes(l,o)}_svgElementFromString(e){let r=this._document.createElement("DIV");r.innerHTML=e;let o=r.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(e){let r=this._svgElementFromString(pl("<svg></svg>")),o=e.attributes;for(let s=0;s<o.length;s++){let{name:a,value:l}=o[s];a!=="id"&&r.setAttribute(a,l)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){let{url:r,options:o}=e,s=o?.withCredentials??!1;if(!this._httpClient)throw jF();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let a=this._sanitizer.sanitize(_i.RESOURCE_URL,r);if(!a)throw YI(r);let l=this._inProgressUrlFetches.get(a);if(l)return l;let d=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe(tt(h=>pl(h)),Rn(()=>this._inProgressUrlFetches.delete(a)),vy());return this._inProgressUrlFetches.set(a,d),d}_addSvgIconConfig(e,r,o){return this._svgIconConfigs.set(ZI(e,r),o),this}_addSvgIconSetConfig(e,r){let o=this._iconSetConfigs.get(e);return o?o.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){let r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let o=0;o<this._resolvers.length;o++){let s=this._resolvers[o](r,e);if(s)return zF(s)?new zn(s.url,null,s.options):new zn(s,null)}}};t.\u0275fac=function(r){return new(r||t)(w(gw,8),w(ip),w(mt,8),w(ro))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function dh(n){return n.cloneNode(!0)}function ZI(n,t){return n+":"+t}function zF(n){return!!(n.url&&n.options)}var UF=new $("MAT_ICON_DEFAULT_OPTIONS"),qF=new $("mat-icon-location",{providedIn:"root",factory:$F});function $F(){let n=H(mt),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}var JI=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],HF=JI.map(n=>`[${n}]`).join(", "),GF=/^url\(['"]?#(.*?)['"]?\)$/,Ni=(()=>{let t=class t{get color(){return this._color||this._defaultColor}set color(e){this._color=e}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){let r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){let r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(e,r,o,s,a,l){this._elementRef=e,this._iconRegistry=r,this._location=s,this._errorHandler=a,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Ui.EMPTY,l&&(l.color&&(this.color=this._defaultColor=l.color),l.fontSet&&(this.fontSet=l.fontSet)),o||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let o=e.childNodes[r];(o.nodeType!==1||o.nodeName.toLowerCase()==="svg")&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>e.classList.remove(o)),r.forEach(o=>e.classList.add(o)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let r=this._elementsWithExternalReferences;r&&r.forEach((o,s)=>{o.forEach(a=>{s.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){let r=e.querySelectorAll(HF),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)JI.forEach(a=>{let l=r[s],d=l.getAttribute(a),h=d?d.match(GF):null;if(h){let f=o.get(l);f||(f=[],o.set(l,f)),f.push({name:a,value:h[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[r,o]=this._splitIconName(e);r&&(this._svgNamespace=r),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,r).pipe(De(1)).subscribe(s=>this._setSvgElement(s),s=>{let a=`Error retrieving icon ${r}:${o}! ${s.message}`;this._errorHandler.handleError(new Error(a))})}}};t.\u0275fac=function(r){return new(r||t)(E(gt),E(BF),pc("aria-hidden"),E(qF),E(ro),E(UF,8))},t.\u0275cmp=st({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,o){r&2&&(Tt("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet)("fontIcon",o._usingFontIcon()?o.fontIcon:null),rn(o.color?"mat-"+o.color:""),xt("mat-icon-inline",o.inline)("mat-icon-no-color",o.color!=="primary"&&o.color!=="accent"&&o.color!=="warn"))},inputs:{color:"color",inline:[ht.HasDecoratorInputTransform,"inline","inline",be],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[Ie,St],ngContentSelectors:LF,decls:1,vars:0,template:function(r,o){r&1&&(ke(),Lt(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0});let n=t;return n})(),tk=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=X({imports:[It,It]});let n=t;return n})();var Sr=(()=>{let t=class t{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=ui(e)}get inset(){return this._inset}set inset(e){this._inset=ui(e)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=st({type:t,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(r,o){r&2&&(Tt("aria-orientation",o.vertical?"vertical":"horizontal"),xt("mat-divider-vertical",o.vertical)("mat-divider-horizontal",!o.vertical)("mat-divider-inset",o.inset))},inputs:{vertical:"vertical",inset:"inset"},standalone:!0,features:[St],decls:0,vars:0,template:function(r,o){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0});let n=t;return n})(),uh=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=X({imports:[It,It]});let n=t;return n})();var WF=["*"],KF='@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon,.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon,.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size)}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape);--mat-mdc-focus-indicator-border-radius:var(--mat-list-active-indicator-shape)}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color)}',QF=["unscopedContent"],YF=["text"],XF=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],ZF=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"];var JF=new $("ListOption"),tN=(()=>{let t=class t{constructor(e){this._elementRef=e}};t.\u0275fac=function(r){return new(r||t)(E(gt))},t.\u0275dir=rt({type:t,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"],standalone:!0});let n=t;return n})(),eN=(()=>{let t=class t{constructor(e){this._elementRef=e}};t.\u0275fac=function(r){return new(r||t)(E(gt))},t.\u0275dir=rt({type:t,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"],standalone:!0});let n=t;return n})(),iN=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=rt({type:t,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"],standalone:!0});let n=t;return n})(),ek=(()=>{let t=class t{constructor(e){this._listOption=e}_isAlignedAtStart(){return!this._listOption||this._listOption?._getTogglePosition()==="after"}};t.\u0275fac=function(r){return new(r||t)(E(JF,8))},t.\u0275dir=rt({type:t,hostVars:4,hostBindings:function(r,o){r&2&&xt("mdc-list-item__start",o._isAlignedAtStart())("mdc-list-item__end",!o._isAlignedAtStart())},standalone:!0});let n=t;return n})(),nN=(()=>{let t=class t extends ek{};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=Je(t)))(o||t)}})(),t.\u0275dir=rt({type:t,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],standalone:!0,features:[Ot]});let n=t;return n})(),rN=(()=>{let t=class t extends ek{};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=Je(t)))(o||t)}})(),t.\u0275dir=rt({type:t,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],standalone:!0,features:[Ot]});let n=t;return n})(),oN=new $("MAT_LIST_CONFIG"),mh=(()=>{let t=class t{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=H(oN,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ui(e)}get disabled(){return this._disabled}set disabled(e){this._disabled=ui(e)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=rt({type:t,hostVars:1,hostBindings:function(r,o){r&2&&Tt("aria-disabled",o.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},standalone:!0});let n=t;return n})(),sN=(()=>{let t=class t{set lines(e){this._explicitLines=ln(e,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(e){this._disableRipple=ui(e)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(e){this._disabled=ui(e)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(e,r,o,s,a,l){this._elementRef=e,this._ngZone=r,this._listBase=o,this._platform=s,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new Ui,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=a||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement=this._hostElement.nodeName.toLowerCase()==="button",this._noopAnimations=l==="NoopAnimations",o&&!o._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),this._rippleRenderer!==null&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!!(this._avatars.length||this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new el(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(ir(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(e){if(!this._lines||!this._titles||!this._unscopedContent)return;e&&this._checkDomForUnscopedTextContent();let r=this._explicitLines??this._inferLinesFromContent(),o=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",r<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",r<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",r===2),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",r===3),this._hasUnscopedTextContent){let s=this._titles.length===0&&r===1;o.classList.toggle("mdc-list-item__primary-text",s),o.classList.toggle("mdc-list-item__secondary-text",!s)}else o.classList.remove("mdc-list-item__primary-text"),o.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let e=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(e+=1),e}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(e=>e.nodeType!==e.COMMENT_NODE).some(e=>!!(e.textContent&&e.textContent.trim()))}};t.\u0275fac=function(r){return new(r||t)(E(gt),E(J),E(mh,8),E(Et),E(il,8),E(ae,8))},t.\u0275dir=rt({type:t,contentQueries:function(r,o,s){if(r&1&&($i(s,nN,4),$i(s,rN,4)),r&2){let a;ce(a=le())&&(o._avatars=a),ce(a=le())&&(o._icons=a)}},hostVars:4,hostBindings:function(r,o){r&2&&(Tt("aria-disabled",o.disabled)("disabled",o._isButtonElement&&o.disabled||null),xt("mdc-list-item--disabled",o.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"},standalone:!0});let n=t;return n})();var ik=(()=>{let t=class t extends mh{};t.\u0275fac=(()=>{let e;return function(o){return(e||(e=Je(t)))(o||t)}})(),t.\u0275cmp=st({type:t,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],standalone:!0,features:[Ce([{provide:mh,useExisting:t}]),Ot,St],ngContentSelectors:WF,decls:1,vars:0,template:function(r,o){r&1&&(ke(),Lt(0))},styles:[KF],encapsulation:2,changeDetection:0});let n=t;return n})(),nk=(()=>{let t=class t extends sN{get activated(){return this._activated}set activated(e){this._activated=ui(e)}constructor(e,r,o,s,a,l){super(e,r,o,s,a,l),this._activated=!1}_getAriaCurrent(){return this._hostElement.nodeName==="A"&&this._activated?"page":null}};t.\u0275fac=function(r){return new(r||t)(E(gt),E(J),E(mh,8),E(Et),E(il,8),E(ae,8))},t.\u0275cmp=st({type:t,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(r,o,s){if(r&1&&($i(s,eN,5),$i(s,tN,5),$i(s,iN,5)),r&2){let a;ce(a=le())&&(o._lines=a),ce(a=le())&&(o._titles=a),ce(a=le())&&(o._meta=a)}},viewQuery:function(r,o){if(r&1&&(ci(QF,5),ci(YF,5)),r&2){let s;ce(s=le())&&(o._unscopedContent=s.first),ce(s=le())&&(o._itemText=s.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(r,o){r&2&&(Tt("aria-current",o._getAriaCurrent()),xt("mdc-list-item--activated",o.activated)("mdc-list-item--with-leading-avatar",o._avatars.length!==0)("mdc-list-item--with-leading-icon",o._icons.length!==0)("mdc-list-item--with-trailing-meta",o._meta.length!==0)("_mat-animation-noopable",o._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],standalone:!0,features:[Ot,St],ngContentSelectors:ZF,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-mdc-focus-indicator"]],template:function(r,o){if(r&1){let s=Ae();ke(XF),Lt(0),T(1,"span",1),Lt(2,1),Lt(3,2),T(4,"span",2,0),dt("cdkObserveContent",function(){return oe(s),se(o._updateItemLines(!0))}),Lt(6,3),A()(),Lt(7,4),Lt(8,5),ot(9,"div",3)}},dependencies:[Sx],encapsulation:2,changeDetection:0});let n=t;return n})();var rk=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=X({imports:[Ls,on,It,Pu,Zx,uh]});let n=t;return n})();var ok=(()=>{let t=class t{constructor(e,r,o){this.auth=e,this.dialogRef=r,this.router=o,this.orderLength=0,this.email=localStorage.getItem("email")}ngOnInit(){}logout(){this.dialogRef.close(),this.auth.logout()}myOrders(){this.router.navigate(["orders"]),this.dialogRef.close()}};t.\u0275fac=function(r){return new(r||t)(E(Mi),E(jn),E(ee))},t.\u0275cmp=st({type:t,selectors:[["app-profile"]],decls:16,vars:1,consts:[["role","list"],["role","listitem",1,"listItem"],["mat-button","",3,"click"],["mat-button","","mat-dialog-close",""]],template:function(r,o){r&1&&(T(0,"mat-list",0)(1,"mat-list-item",1)(2,"div"),V(3," Hello, "),A(),T(4,"div"),V(5),A()(),ot(6,"mat-divider"),T(7,"mat-list-item",1)(8,"button",2),dt("click",function(){return o.logout()}),T(9,"mat-icon"),V(10,"exit_to_app"),A(),V(11," Log Out"),A()(),ot(12,"mat-divider"),T(13,"mat-list-item",1)(14,"button",3),V(15,"Close"),A()()()),r&2&&(z(5),de(" ",o.email," "))},dependencies:[yr,oE,Ni,Sr,ik,nk],styles:[".mat-divider[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.listItem[_ngcontent-%COMP%]{margin:10px}"]});let n=t;return n})();var sk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ak={};var Dr,a_;(function(){var n;function t(x,b){function y(){}y.prototype=b.prototype,x.D=b.prototype,x.prototype=new y,x.prototype.constructor=x,x.C=function(I,k,D){for(var v=Array(arguments.length-2),Sn=2;Sn<arguments.length;Sn++)v[Sn-2]=arguments[Sn];return b.prototype[k].apply(I,v)}}function i(){this.blockSize=-1}function e(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(e,i),e.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(x,b,y){y||(y=0);var I=Array(16);if(typeof b=="string")for(var k=0;16>k;++k)I[k]=b.charCodeAt(y++)|b.charCodeAt(y++)<<8|b.charCodeAt(y++)<<16|b.charCodeAt(y++)<<24;else for(k=0;16>k;++k)I[k]=b[y++]|b[y++]<<8|b[y++]<<16|b[y++]<<24;b=x.g[0],y=x.g[1],k=x.g[2];var D=x.g[3],v=b+(D^y&(k^D))+I[0]+3614090360&4294967295;b=y+(v<<7&4294967295|v>>>25),v=D+(k^b&(y^k))+I[1]+3905402710&4294967295,D=b+(v<<12&4294967295|v>>>20),v=k+(y^D&(b^y))+I[2]+606105819&4294967295,k=D+(v<<17&4294967295|v>>>15),v=y+(b^k&(D^b))+I[3]+3250441966&4294967295,y=k+(v<<22&4294967295|v>>>10),v=b+(D^y&(k^D))+I[4]+4118548399&4294967295,b=y+(v<<7&4294967295|v>>>25),v=D+(k^b&(y^k))+I[5]+1200080426&4294967295,D=b+(v<<12&4294967295|v>>>20),v=k+(y^D&(b^y))+I[6]+2821735955&4294967295,k=D+(v<<17&4294967295|v>>>15),v=y+(b^k&(D^b))+I[7]+4249261313&4294967295,y=k+(v<<22&4294967295|v>>>10),v=b+(D^y&(k^D))+I[8]+1770035416&4294967295,b=y+(v<<7&4294967295|v>>>25),v=D+(k^b&(y^k))+I[9]+2336552879&4294967295,D=b+(v<<12&4294967295|v>>>20),v=k+(y^D&(b^y))+I[10]+4294925233&4294967295,k=D+(v<<17&4294967295|v>>>15),v=y+(b^k&(D^b))+I[11]+2304563134&4294967295,y=k+(v<<22&4294967295|v>>>10),v=b+(D^y&(k^D))+I[12]+1804603682&4294967295,b=y+(v<<7&4294967295|v>>>25),v=D+(k^b&(y^k))+I[13]+4254626195&4294967295,D=b+(v<<12&4294967295|v>>>20),v=k+(y^D&(b^y))+I[14]+2792965006&4294967295,k=D+(v<<17&4294967295|v>>>15),v=y+(b^k&(D^b))+I[15]+1236535329&4294967295,y=k+(v<<22&4294967295|v>>>10),v=b+(k^D&(y^k))+I[1]+4129170786&4294967295,b=y+(v<<5&4294967295|v>>>27),v=D+(y^k&(b^y))+I[6]+3225465664&4294967295,D=b+(v<<9&4294967295|v>>>23),v=k+(b^y&(D^b))+I[11]+643717713&4294967295,k=D+(v<<14&4294967295|v>>>18),v=y+(D^b&(k^D))+I[0]+3921069994&4294967295,y=k+(v<<20&4294967295|v>>>12),v=b+(k^D&(y^k))+I[5]+3593408605&4294967295,b=y+(v<<5&4294967295|v>>>27),v=D+(y^k&(b^y))+I[10]+38016083&4294967295,D=b+(v<<9&4294967295|v>>>23),v=k+(b^y&(D^b))+I[15]+3634488961&4294967295,k=D+(v<<14&4294967295|v>>>18),v=y+(D^b&(k^D))+I[4]+3889429448&4294967295,y=k+(v<<20&4294967295|v>>>12),v=b+(k^D&(y^k))+I[9]+568446438&4294967295,b=y+(v<<5&4294967295|v>>>27),v=D+(y^k&(b^y))+I[14]+3275163606&4294967295,D=b+(v<<9&4294967295|v>>>23),v=k+(b^y&(D^b))+I[3]+4107603335&4294967295,k=D+(v<<14&4294967295|v>>>18),v=y+(D^b&(k^D))+I[8]+1163531501&4294967295,y=k+(v<<20&4294967295|v>>>12),v=b+(k^D&(y^k))+I[13]+2850285829&4294967295,b=y+(v<<5&4294967295|v>>>27),v=D+(y^k&(b^y))+I[2]+4243563512&4294967295,D=b+(v<<9&4294967295|v>>>23),v=k+(b^y&(D^b))+I[7]+1735328473&4294967295,k=D+(v<<14&4294967295|v>>>18),v=y+(D^b&(k^D))+I[12]+2368359562&4294967295,y=k+(v<<20&4294967295|v>>>12),v=b+(y^k^D)+I[5]+4294588738&4294967295,b=y+(v<<4&4294967295|v>>>28),v=D+(b^y^k)+I[8]+2272392833&4294967295,D=b+(v<<11&4294967295|v>>>21),v=k+(D^b^y)+I[11]+1839030562&4294967295,k=D+(v<<16&4294967295|v>>>16),v=y+(k^D^b)+I[14]+4259657740&4294967295,y=k+(v<<23&4294967295|v>>>9),v=b+(y^k^D)+I[1]+2763975236&4294967295,b=y+(v<<4&4294967295|v>>>28),v=D+(b^y^k)+I[4]+1272893353&4294967295,D=b+(v<<11&4294967295|v>>>21),v=k+(D^b^y)+I[7]+4139469664&4294967295,k=D+(v<<16&4294967295|v>>>16),v=y+(k^D^b)+I[10]+3200236656&4294967295,y=k+(v<<23&4294967295|v>>>9),v=b+(y^k^D)+I[13]+681279174&4294967295,b=y+(v<<4&4294967295|v>>>28),v=D+(b^y^k)+I[0]+3936430074&4294967295,D=b+(v<<11&4294967295|v>>>21),v=k+(D^b^y)+I[3]+3572445317&4294967295,k=D+(v<<16&4294967295|v>>>16),v=y+(k^D^b)+I[6]+76029189&4294967295,y=k+(v<<23&4294967295|v>>>9),v=b+(y^k^D)+I[9]+3654602809&4294967295,b=y+(v<<4&4294967295|v>>>28),v=D+(b^y^k)+I[12]+3873151461&4294967295,D=b+(v<<11&4294967295|v>>>21),v=k+(D^b^y)+I[15]+530742520&4294967295,k=D+(v<<16&4294967295|v>>>16),v=y+(k^D^b)+I[2]+3299628645&4294967295,y=k+(v<<23&4294967295|v>>>9),v=b+(k^(y|~D))+I[0]+4096336452&4294967295,b=y+(v<<6&4294967295|v>>>26),v=D+(y^(b|~k))+I[7]+1126891415&4294967295,D=b+(v<<10&4294967295|v>>>22),v=k+(b^(D|~y))+I[14]+2878612391&4294967295,k=D+(v<<15&4294967295|v>>>17),v=y+(D^(k|~b))+I[5]+4237533241&4294967295,y=k+(v<<21&4294967295|v>>>11),v=b+(k^(y|~D))+I[12]+1700485571&4294967295,b=y+(v<<6&4294967295|v>>>26),v=D+(y^(b|~k))+I[3]+2399980690&4294967295,D=b+(v<<10&4294967295|v>>>22),v=k+(b^(D|~y))+I[10]+4293915773&4294967295,k=D+(v<<15&4294967295|v>>>17),v=y+(D^(k|~b))+I[1]+2240044497&4294967295,y=k+(v<<21&4294967295|v>>>11),v=b+(k^(y|~D))+I[8]+1873313359&4294967295,b=y+(v<<6&4294967295|v>>>26),v=D+(y^(b|~k))+I[15]+4264355552&4294967295,D=b+(v<<10&4294967295|v>>>22),v=k+(b^(D|~y))+I[6]+2734768916&4294967295,k=D+(v<<15&4294967295|v>>>17),v=y+(D^(k|~b))+I[13]+1309151649&4294967295,y=k+(v<<21&4294967295|v>>>11),v=b+(k^(y|~D))+I[4]+4149444226&4294967295,b=y+(v<<6&4294967295|v>>>26),v=D+(y^(b|~k))+I[11]+3174756917&4294967295,D=b+(v<<10&4294967295|v>>>22),v=k+(b^(D|~y))+I[2]+718787259&4294967295,k=D+(v<<15&4294967295|v>>>17),v=y+(D^(k|~b))+I[9]+3951481745&4294967295,x.g[0]=x.g[0]+b&4294967295,x.g[1]=x.g[1]+(k+(v<<21&4294967295|v>>>11))&4294967295,x.g[2]=x.g[2]+k&4294967295,x.g[3]=x.g[3]+D&4294967295}e.prototype.u=function(x,b){b===void 0&&(b=x.length);for(var y=b-this.blockSize,I=this.B,k=this.h,D=0;D<b;){if(k==0)for(;D<=y;)r(this,x,D),D+=this.blockSize;if(typeof x=="string"){for(;D<b;)if(I[k++]=x.charCodeAt(D++),k==this.blockSize){r(this,I),k=0;break}}else for(;D<b;)if(I[k++]=x[D++],k==this.blockSize){r(this,I),k=0;break}}this.h=k,this.o+=b},e.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var b=1;b<x.length-8;++b)x[b]=0;var y=8*this.o;for(b=x.length-8;b<x.length;++b)x[b]=y&255,y/=256;for(this.u(x),x=Array(16),b=y=0;4>b;++b)for(var I=0;32>I;I+=8)x[y++]=this.g[b]>>>I&255;return x};function o(x,b){var y=a;return Object.prototype.hasOwnProperty.call(y,x)?y[x]:y[x]=b(x)}function s(x,b){this.h=b;for(var y=[],I=!0,k=x.length-1;0<=k;k--){var D=x[k]|0;I&&D==b||(y[k]=D,I=!1)}this.g=y}var a={};function l(x){return-128<=x&&128>x?o(x,function(b){return new s([b|0],0>b?-1:0)}):new s([x|0],0>x?-1:0)}function d(x){if(isNaN(x)||!isFinite(x))return f;if(0>x)return M(d(-x));for(var b=[],y=1,I=0;x>=y;I++)b[I]=x/y|0,y*=4294967296;return new s(b,0)}function h(x,b){if(x.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(x.charAt(0)=="-")return M(h(x.substring(1),b));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=d(Math.pow(b,8)),I=f,k=0;k<x.length;k+=8){var D=Math.min(8,x.length-k),v=parseInt(x.substring(k,k+D),b);8>D?(D=d(Math.pow(b,D)),I=I.j(D).add(d(v))):(I=I.j(y),I=I.add(d(v)))}return I}var f=l(0),g=l(1),_=l(16777216);n=s.prototype,n.m=function(){if(O(this))return-M(this).m();for(var x=0,b=1,y=0;y<this.g.length;y++){var I=this.i(y);x+=(0<=I?I:4294967296+I)*b,b*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(S(this))return"0";if(O(this))return"-"+M(this).toString(x);for(var b=d(Math.pow(x,6)),y=this,I="";;){var k=nt(y,b).g;y=K(y,k.j(b));var D=((0<y.g.length?y.g[0]:y.h)>>>0).toString(x);if(y=k,S(y))return D+I;for(;6>D.length;)D="0"+D;I=D+I}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function S(x){if(x.h!=0)return!1;for(var b=0;b<x.g.length;b++)if(x.g[b]!=0)return!1;return!0}function O(x){return x.h==-1}n.l=function(x){return x=K(this,x),O(x)?-1:S(x)?0:1};function M(x){for(var b=x.g.length,y=[],I=0;I<b;I++)y[I]=~x.g[I];return new s(y,~x.h).add(g)}n.abs=function(){return O(this)?M(this):this},n.add=function(x){for(var b=Math.max(this.g.length,x.g.length),y=[],I=0,k=0;k<=b;k++){var D=I+(this.i(k)&65535)+(x.i(k)&65535),v=(D>>>16)+(this.i(k)>>>16)+(x.i(k)>>>16);I=v>>>16,D&=65535,v&=65535,y[k]=v<<16|D}return new s(y,y[y.length-1]&-2147483648?-1:0)};function K(x,b){return x.add(M(b))}n.j=function(x){if(S(this)||S(x))return f;if(O(this))return O(x)?M(this).j(M(x)):M(M(this).j(x));if(O(x))return M(this.j(M(x)));if(0>this.l(_)&&0>x.l(_))return d(this.m()*x.m());for(var b=this.g.length+x.g.length,y=[],I=0;I<2*b;I++)y[I]=0;for(I=0;I<this.g.length;I++)for(var k=0;k<x.g.length;k++){var D=this.i(I)>>>16,v=this.i(I)&65535,Sn=x.i(k)>>>16,Ga=x.i(k)&65535;y[2*I+2*k]+=v*Ga,it(y,2*I+2*k),y[2*I+2*k+1]+=D*Ga,it(y,2*I+2*k+1),y[2*I+2*k+1]+=v*Sn,it(y,2*I+2*k+1),y[2*I+2*k+2]+=D*Sn,it(y,2*I+2*k+2)}for(I=0;I<b;I++)y[I]=y[2*I+1]<<16|y[2*I];for(I=b;I<2*b;I++)y[I]=0;return new s(y,0)};function it(x,b){for(;(x[b]&65535)!=x[b];)x[b+1]+=x[b]>>>16,x[b]&=65535,b++}function U(x,b){this.g=x,this.h=b}function nt(x,b){if(S(b))throw Error("division by zero");if(S(x))return new U(f,f);if(O(x))return b=nt(M(x),b),new U(M(b.g),M(b.h));if(O(b))return b=nt(x,M(b)),new U(M(b.g),b.h);if(30<x.g.length){if(O(x)||O(b))throw Error("slowDivide_ only works with positive integers.");for(var y=g,I=b;0>=I.l(x);)y=ft(y),I=ft(I);var k=pt(y,1),D=pt(I,1);for(I=pt(I,2),y=pt(y,2);!S(I);){var v=D.add(I);0>=v.l(x)&&(k=k.add(y),D=v),I=pt(I,1),y=pt(y,1)}return b=K(x,k.j(b)),new U(k,b)}for(k=f;0<=x.l(b);){for(y=Math.max(1,Math.floor(x.m()/b.m())),I=Math.ceil(Math.log(y)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),D=d(y),v=D.j(b);O(v)||0<v.l(x);)y-=I,D=d(y),v=D.j(b);S(D)&&(D=g),k=k.add(D),x=K(x,v)}return new U(k,x)}n.A=function(x){return nt(this,x).h},n.and=function(x){for(var b=Math.max(this.g.length,x.g.length),y=[],I=0;I<b;I++)y[I]=this.i(I)&x.i(I);return new s(y,this.h&x.h)},n.or=function(x){for(var b=Math.max(this.g.length,x.g.length),y=[],I=0;I<b;I++)y[I]=this.i(I)|x.i(I);return new s(y,this.h|x.h)},n.xor=function(x){for(var b=Math.max(this.g.length,x.g.length),y=[],I=0;I<b;I++)y[I]=this.i(I)^x.i(I);return new s(y,this.h^x.h)};function ft(x){for(var b=x.g.length+1,y=[],I=0;I<b;I++)y[I]=x.i(I)<<1|x.i(I-1)>>>31;return new s(y,x.h)}function pt(x,b){var y=b>>5;b%=32;for(var I=x.g.length-y,k=[],D=0;D<I;D++)k[D]=0<b?x.i(D+y)>>>b|x.i(D+y+1)<<32-b:x.i(D+y);return new s(k,x.h)}e.prototype.digest=e.prototype.v,e.prototype.reset=e.prototype.s,e.prototype.update=e.prototype.u,a_=ak.Md5=e,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=h,Dr=ak.Integer=s}).apply(typeof sk<"u"?sk:typeof self<"u"?self:typeof window<"u"?window:{});var fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Un={};var c_,l_,Js,d_,gl,ph,u_,h_,m_;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,u,m){return c==Array.prototype||c==Object.prototype||(c[u]=m.value),c};function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof fh=="object"&&fh];for(var u=0;u<c.length;++u){var m=c[u];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var e=i(this);function r(c,u){if(u)t:{var m=e;c=c.split(".");for(var p=0;p<c.length-1;p++){var C=c[p];if(!(C in m))break t;m=m[C]}c=c[c.length-1],p=m[c],u=u(p),u!=p&&u!=null&&t(m,c,{configurable:!0,writable:!0,value:u})}}function o(c,u){c instanceof String&&(c+="");var m=0,p=!1,C={next:function(){if(!p&&m<c.length){var F=m++;return{value:u(F,c[F]),done:!1}}return p=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}r("Array.prototype.values",function(c){return c||function(){return o(this,function(u,m){return m})}});var s=s||{},a=this||self;function l(c){var u=typeof c;return u=u!="object"?u:c?Array.isArray(c)?"array":u:"null",u=="array"||u=="object"&&typeof c.length=="number"}function d(c){var u=typeof c;return u=="object"&&c!=null||u=="function"}function h(c,u,m){return c.call.apply(c.bind,arguments)}function f(c,u,m){if(!c)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,p),c.apply(u,C)}}return function(){return c.apply(u,arguments)}}function g(c,u,m){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,g.apply(null,arguments)}function _(c,u){var m=Array.prototype.slice.call(arguments,1);return function(){var p=m.slice();return p.push.apply(p,arguments),c.apply(this,p)}}function S(c,u){function m(){}m.prototype=u.prototype,c.aa=u.prototype,c.prototype=new m,c.prototype.constructor=c,c.Qb=function(p,C,F){for(var G=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)G[Ut-2]=arguments[Ut];return u.prototype[C].apply(p,G)}}function O(c){let u=c.length;if(0<u){let m=Array(u);for(let p=0;p<u;p++)m[p]=c[p];return m}return[]}function M(c,u){for(let m=1;m<arguments.length;m++){let p=arguments[m];if(l(p)){let C=c.length||0,F=p.length||0;c.length=C+F;for(let G=0;G<F;G++)c[C+G]=p[G]}else c.push(p)}}class K{constructor(u,m){this.i=u,this.j=m,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function it(c){return/^[\s\xa0]*$/.test(c)}function U(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function nt(c){return nt[" "](c),c}nt[" "]=function(){};var ft=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function pt(c,u,m){for(let p in c)u.call(m,c[p],p,c)}function x(c,u){for(let m in c)u.call(void 0,c[m],m,c)}function b(c){let u={};for(let m in c)u[m]=c[m];return u}let y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,u){let m,p;for(let C=1;C<arguments.length;C++){p=arguments[C];for(m in p)c[m]=p[m];for(let F=0;F<y.length;F++)m=y[F],Object.prototype.hasOwnProperty.call(p,m)&&(c[m]=p[m])}}function k(c){var u=1;c=c.split(":");let m=[];for(;0<u&&c.length;)m.push(c.shift()),u--;return c.length&&m.push(c.join(":")),m}function D(c){a.setTimeout(()=>{throw c},0)}function v(){var c=Hm;let u=null;return c.g&&(u=c.g,c.g=c.g.next,c.g||(c.h=null),u.next=null),u}class Sn{constructor(){this.h=this.g=null}add(u,m){let p=Ga.get();p.set(u,m),this.h?this.h.next=p:this.g=p,this.h=p}}var Ga=new K(()=>new E1,c=>c.reset());class E1{constructor(){this.next=this.g=this.h=null}set(u,m){this.h=u,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Wa,Ka=!1,Hm=new Sn,m0=()=>{let c=a.Promise.resolve(void 0);Wa=()=>{c.then(I1)}};var I1=()=>{for(var c;c=v();){try{c.h.call(c.g)}catch(m){D(m)}var u=Ga;u.j(c),100>u.h&&(u.h++,c.next=u.g,u.g=c)}Ka=!1};function Zn(){this.s=this.s,this.C=this.C}Zn.prototype.s=!1,Zn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Zn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ze(c,u){this.type=c,this.g=this.target=u,this.defaultPrevented=!1}ze.prototype.h=function(){this.defaultPrevented=!0};var k1=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,u=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let m=()=>{};a.addEventListener("test",m,u),a.removeEventListener("test",m,u)}catch{}return c}();function Qa(c,u){if(ze.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var m=this.type=c.type,p=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=u,u=c.relatedTarget){if(ft){t:{try{nt(u.nodeName);var C=!0;break t}catch{}C=!1}C||(u=null)}}else m=="mouseover"?u=c.fromElement:m=="mouseout"&&(u=c.toElement);this.relatedTarget=u,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:C1[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Qa.aa.h.call(this)}}S(Qa,ze);var C1={2:"touch",3:"pen",4:"mouse"};Qa.prototype.h=function(){Qa.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ya="closure_listenable_"+(1e6*Math.random()|0),T1=0;function S1(c,u,m,p,C){this.listener=c,this.proxy=null,this.src=u,this.type=m,this.capture=!!p,this.ha=C,this.key=++T1,this.da=this.fa=!1}function dd(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ud(c){this.src=c,this.g={},this.h=0}ud.prototype.add=function(c,u,m,p,C){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var G=Wm(c,u,p,C);return-1<G?(u=c[G],m||(u.fa=!1)):(u=new S1(u,this.src,F,!!p,C),u.fa=m,c.push(u)),u};function Gm(c,u){var m=u.type;if(m in c.g){var p=c.g[m],C=Array.prototype.indexOf.call(p,u,void 0),F;(F=0<=C)&&Array.prototype.splice.call(p,C,1),F&&(dd(u),c.g[m].length==0&&(delete c.g[m],c.h--))}}function Wm(c,u,m,p){for(var C=0;C<c.length;++C){var F=c[C];if(!F.da&&F.listener==u&&F.capture==!!m&&F.ha==p)return C}return-1}var Km="closure_lm_"+(1e6*Math.random()|0),Qm={};function f0(c,u,m,p,C){if(p&&p.once)return g0(c,u,m,p,C);if(Array.isArray(u)){for(var F=0;F<u.length;F++)f0(c,u[F],m,p,C);return null}return m=Jm(m),c&&c[Ya]?c.K(u,m,d(p)?!!p.capture:!!p,C):p0(c,u,m,!1,p,C)}function p0(c,u,m,p,C,F){if(!u)throw Error("Invalid event type");var G=d(C)?!!C.capture:!!C,Ut=Xm(c);if(Ut||(c[Km]=Ut=new ud(c)),m=Ut.add(u,m,p,G,F),m.proxy)return m;if(p=D1(),m.proxy=p,p.src=c,p.listener=m,c.addEventListener)k1||(C=G),C===void 0&&(C=!1),c.addEventListener(u.toString(),p,C);else if(c.attachEvent)c.attachEvent(b0(u.toString()),p);else if(c.addListener&&c.removeListener)c.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return m}function D1(){function c(m){return u.call(c.src,c.listener,m)}let u=A1;return c}function g0(c,u,m,p,C){if(Array.isArray(u)){for(var F=0;F<u.length;F++)g0(c,u[F],m,p,C);return null}return m=Jm(m),c&&c[Ya]?c.L(u,m,d(p)?!!p.capture:!!p,C):p0(c,u,m,!0,p,C)}function _0(c,u,m,p,C){if(Array.isArray(u))for(var F=0;F<u.length;F++)_0(c,u[F],m,p,C);else p=d(p)?!!p.capture:!!p,m=Jm(m),c&&c[Ya]?(c=c.i,u=String(u).toString(),u in c.g&&(F=c.g[u],m=Wm(F,m,p,C),-1<m&&(dd(F[m]),Array.prototype.splice.call(F,m,1),F.length==0&&(delete c.g[u],c.h--)))):c&&(c=Xm(c))&&(u=c.g[u.toString()],c=-1,u&&(c=Wm(u,m,p,C)),(m=-1<c?u[c]:null)&&Ym(m))}function Ym(c){if(typeof c!="number"&&c&&!c.da){var u=c.src;if(u&&u[Ya])Gm(u.i,c);else{var m=c.type,p=c.proxy;u.removeEventListener?u.removeEventListener(m,p,c.capture):u.detachEvent?u.detachEvent(b0(m),p):u.addListener&&u.removeListener&&u.removeListener(p),(m=Xm(u))?(Gm(m,c),m.h==0&&(m.src=null,u[Km]=null)):dd(c)}}}function b0(c){return c in Qm?Qm[c]:Qm[c]="on"+c}function A1(c,u){if(c.da)c=!0;else{u=new Qa(u,this);var m=c.listener,p=c.ha||c.src;c.fa&&Ym(c),c=m.call(p,u)}return c}function Xm(c){return c=c[Km],c instanceof ud?c:null}var Zm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jm(c){return typeof c=="function"?c:(c[Zm]||(c[Zm]=function(u){return c.handleEvent(u)}),c[Zm])}function Ue(){Zn.call(this),this.i=new ud(this),this.M=this,this.F=null}S(Ue,Zn),Ue.prototype[Ya]=!0,Ue.prototype.removeEventListener=function(c,u,m,p){_0(this,c,u,m,p)};function Ke(c,u){var m,p=c.F;if(p)for(m=[];p;p=p.F)m.push(p);if(c=c.M,p=u.type||u,typeof u=="string")u=new ze(u,c);else if(u instanceof ze)u.target=u.target||c;else{var C=u;u=new ze(p,c),I(u,C)}if(C=!0,m)for(var F=m.length-1;0<=F;F--){var G=u.g=m[F];C=hd(G,p,!0,u)&&C}if(G=u.g=c,C=hd(G,p,!0,u)&&C,C=hd(G,p,!1,u)&&C,m)for(F=0;F<m.length;F++)G=u.g=m[F],C=hd(G,p,!1,u)&&C}Ue.prototype.N=function(){if(Ue.aa.N.call(this),this.i){var c=this.i,u;for(u in c.g){for(var m=c.g[u],p=0;p<m.length;p++)dd(m[p]);delete c.g[u],c.h--}}this.F=null},Ue.prototype.K=function(c,u,m,p){return this.i.add(String(c),u,!1,m,p)},Ue.prototype.L=function(c,u,m,p){return this.i.add(String(c),u,!0,m,p)};function hd(c,u,m,p){if(u=c.i.g[String(u)],!u)return!0;u=u.concat();for(var C=!0,F=0;F<u.length;++F){var G=u[F];if(G&&!G.da&&G.capture==m){var Ut=G.listener,Fe=G.ha||G.src;G.fa&&Gm(c.i,G),C=Ut.call(Fe,p)!==!1&&C}}return C&&!p.defaultPrevented}function v0(c,u,m){if(typeof c=="function")m&&(c=g(c,m));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:a.setTimeout(c,u||0)}function y0(c){c.g=v0(()=>{c.g=null,c.i&&(c.i=!1,y0(c))},c.l);let u=c.h;c.h=null,c.m.apply(null,u)}class R1 extends Zn{constructor(u,m){super(),this.m=u,this.l=m,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:y0(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xa(c){Zn.call(this),this.h=c,this.g={}}S(Xa,Zn);var w0=[];function x0(c){pt(c.g,function(u,m){this.g.hasOwnProperty(m)&&Ym(u)},c),c.g={}}Xa.prototype.N=function(){Xa.aa.N.call(this),x0(this)},Xa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tf=a.JSON.stringify,M1=a.JSON.parse,P1=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function ef(){}ef.prototype.h=null;function E0(c){return c.h||(c.h=c.i())}function I0(){}var Za={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nf(){ze.call(this,"d")}S(nf,ze);function rf(){ze.call(this,"c")}S(rf,ze);var Xr={},k0=null;function md(){return k0=k0||new Ue}Xr.La="serverreachability";function C0(c){ze.call(this,Xr.La,c)}S(C0,ze);function Ja(c){let u=md();Ke(u,new C0(u))}Xr.STAT_EVENT="statevent";function T0(c,u){ze.call(this,Xr.STAT_EVENT,c),this.stat=u}S(T0,ze);function Qe(c){let u=md();Ke(u,new T0(u,c))}Xr.Ma="timingevent";function S0(c,u){ze.call(this,Xr.Ma,c),this.size=u}S(S0,ze);function tc(c,u){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},u)}function ec(){this.g=!0}ec.prototype.xa=function(){this.g=!1};function O1(c,u,m,p,C,F){c.info(function(){if(c.g)if(F)for(var G="",Ut=F.split("&"),Fe=0;Fe<Ut.length;Fe++){var Pt=Ut[Fe].split("=");if(1<Pt.length){var qe=Pt[0];Pt=Pt[1];var $e=qe.split("_");G=2<=$e.length&&$e[1]=="type"?G+(qe+"="+Pt+"&"):G+(qe+"=redacted&")}}else G=null;else G=F;return"XMLHTTP REQ ("+p+") [attempt "+C+"]: "+u+`
`+m+`
`+G})}function F1(c,u,m,p,C,F,G){c.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+C+"]: "+u+`
`+m+`
`+F+" "+G})}function rs(c,u,m,p){c.info(function(){return"XMLHTTP TEXT ("+u+"): "+L1(c,m)+(p?" "+p:"")})}function N1(c,u){c.info(function(){return"TIMEOUT: "+u})}ec.prototype.info=function(){};function L1(c,u){if(!c.g)return u;if(!u)return null;try{var m=JSON.parse(u);if(m){for(c=0;c<m.length;c++)if(Array.isArray(m[c])){var p=m[c];if(!(2>p.length)){var C=p[1];if(Array.isArray(C)&&!(1>C.length)){var F=C[0];if(F!="noop"&&F!="stop"&&F!="close")for(var G=1;G<C.length;G++)C[G]=""}}}}return tf(m)}catch{return u}}var fd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},D0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},of;function pd(){}S(pd,ef),pd.prototype.g=function(){return new XMLHttpRequest},pd.prototype.i=function(){return{}},of=new pd;function Jn(c,u,m,p){this.j=c,this.i=u,this.l=m,this.R=p||1,this.U=new Xa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new A0}function A0(){this.i=null,this.g="",this.h=!1}var R0={},sf={};function af(c,u,m){c.L=1,c.v=vd(Dn(u)),c.m=m,c.P=!0,M0(c,null)}function M0(c,u){c.F=Date.now(),gd(c),c.A=Dn(c.v);var m=c.A,p=c.R;Array.isArray(p)||(p=[String(p)]),G0(m.i,"t",p),c.C=0,m=c.j.J,c.h=new A0,c.g=dy(c.j,m?u:null,!c.m),0<c.O&&(c.M=new R1(g(c.Y,c,c.g),c.O)),u=c.U,m=c.g,p=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(w0[0]=C.toString()),C=w0);for(var F=0;F<C.length;F++){var G=f0(m,C[F],p||u.handleEvent,!1,u.h||u);if(!G)break;u.g[G.key]=G}u=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),u["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,u)):(c.u="GET",c.g.ea(c.A,c.u,null,u)),Ja(),O1(c.i,c.u,c.A,c.l,c.R,c.m)}Jn.prototype.ca=function(c){c=c.target;let u=this.M;u&&An(c)==3?u.j():this.Y(c)},Jn.prototype.Y=function(c){try{if(c==this.g)t:{let $e=An(this.g);var u=this.g.Ba();let as=this.g.Z();if(!(3>$e)&&($e!=3||this.g&&(this.h.h||this.g.oa()||J0(this.g)))){this.J||$e!=4||u==7||(u==8||0>=as?Ja(3):Ja(2)),cf(this);var m=this.g.Z();this.X=m;e:if(P0(this)){var p=J0(this.g);c="";var C=p.length,F=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zr(this),ic(this);var G="";break e}this.h.i=new a.TextDecoder}for(u=0;u<C;u++)this.h.h=!0,c+=this.h.i.decode(p[u],{stream:!(F&&u==C-1)});p.length=0,this.h.g+=c,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=m==200,F1(this.i,this.u,this.A,this.l,this.R,$e,m),this.o){if(this.T&&!this.K){e:{if(this.g){var Ut,Fe=this.g;if((Ut=Fe.g?Fe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!it(Ut)){var Pt=Ut;break e}}Pt=null}if(m=Pt)rs(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lf(this,m);else{this.o=!1,this.s=3,Qe(12),Zr(this),ic(this);break t}}if(this.P){m=!0;let zi;for(;!this.J&&this.C<G.length;)if(zi=V1(this,G),zi==sf){$e==4&&(this.s=4,Qe(14),m=!1),rs(this.i,this.l,null,"[Incomplete Response]");break}else if(zi==R0){this.s=4,Qe(15),rs(this.i,this.l,G,"[Invalid Chunk]"),m=!1;break}else rs(this.i,this.l,zi,null),lf(this,zi);if(P0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||G.length!=0||this.h.h||(this.s=1,Qe(16),m=!1),this.o=this.o&&m,!m)rs(this.i,this.l,G,"[Invalid Chunked Response]"),Zr(this),ic(this);else if(0<G.length&&!this.W){this.W=!0;var qe=this.j;qe.g==this&&qe.ba&&!qe.M&&(qe.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),pf(qe),qe.M=!0,Qe(11))}}else rs(this.i,this.l,G,null),lf(this,G);$e==4&&Zr(this),this.o&&!this.J&&($e==4?sy(this.j,this):(this.o=!1,gd(this)))}else eD(this.g),m==400&&0<G.indexOf("Unknown SID")?(this.s=3,Qe(12)):(this.s=0,Qe(13)),Zr(this),ic(this)}}}catch{}finally{}};function P0(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function V1(c,u){var m=c.C,p=u.indexOf(`
`,m);return p==-1?sf:(m=Number(u.substring(m,p)),isNaN(m)?R0:(p+=1,p+m>u.length?sf:(u=u.slice(p,p+m),c.C=p+m,u)))}Jn.prototype.cancel=function(){this.J=!0,Zr(this)};function gd(c){c.S=Date.now()+c.I,O0(c,c.I)}function O0(c,u){if(c.B!=null)throw Error("WatchDog timer not null");c.B=tc(g(c.ba,c),u)}function cf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Jn.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(N1(this.i,this.A),this.L!=2&&(Ja(),Qe(17)),Zr(this),this.s=2,ic(this)):O0(this,this.S-c)};function ic(c){c.j.G==0||c.J||sy(c.j,c)}function Zr(c){cf(c);var u=c.M;u&&typeof u.ma=="function"&&u.ma(),c.M=null,x0(c.U),c.g&&(u=c.g,c.g=null,u.abort(),u.ma())}function lf(c,u){try{var m=c.j;if(m.G!=0&&(m.g==c||df(m.h,c))){if(!c.K&&df(m.h,c)&&m.G==3){try{var p=m.Da.g.parse(u)}catch{p=null}if(Array.isArray(p)&&p.length==3){var C=p;if(C[0]==0){t:if(!m.u){if(m.g)if(m.g.F+3e3<c.F)Id(m),xd(m);else break t;ff(m),Qe(18)}}else m.za=C[1],0<m.za-m.T&&37500>C[2]&&m.F&&m.v==0&&!m.C&&(m.C=tc(g(m.Za,m),6e3));if(1>=L0(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else to(m,11)}else if((c.K||m.g==c)&&Id(m),!it(u))for(C=m.Da.g.parse(u),u=0;u<C.length;u++){let Pt=C[u];if(m.T=Pt[0],Pt=Pt[1],m.G==2)if(Pt[0]=="c"){m.K=Pt[1],m.ia=Pt[2];let qe=Pt[3];qe!=null&&(m.la=qe,m.j.info("VER="+m.la));let $e=Pt[4];$e!=null&&(m.Aa=$e,m.j.info("SVER="+m.Aa));let as=Pt[5];as!=null&&typeof as=="number"&&0<as&&(p=1.5*as,m.L=p,m.j.info("backChannelRequestTimeoutMs_="+p)),p=m;let zi=c.g;if(zi){let Cd=zi.g?zi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cd){var F=p.h;F.g||Cd.indexOf("spdy")==-1&&Cd.indexOf("quic")==-1&&Cd.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(uf(F,F.h),F.h=null))}if(p.D){let gf=zi.g?zi.g.getResponseHeader("X-HTTP-Session-Id"):null;gf&&(p.ya=gf,Gt(p.I,p.D,gf))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-c.F,m.j.info("Handshake RTT: "+m.R+"ms")),p=m;var G=c;if(p.qa=ly(p,p.J?p.ia:null,p.W),G.K){V0(p.h,G);var Ut=G,Fe=p.L;Fe&&(Ut.I=Fe),Ut.B&&(cf(Ut),gd(Ut)),p.g=G}else ry(p);0<m.i.length&&Ed(m)}else Pt[0]!="stop"&&Pt[0]!="close"||to(m,7);else m.G==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?to(m,7):mf(m):Pt[0]!="noop"&&m.l&&m.l.ta(Pt),m.v=0)}}Ja(4)}catch{}}var j1=class{constructor(c,u){this.g=c,this.map=u}};function F0(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function N0(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function L0(c){return c.h?1:c.g?c.g.size:0}function df(c,u){return c.h?c.h==u:c.g?c.g.has(u):!1}function uf(c,u){c.g?c.g.add(u):c.h=u}function V0(c,u){c.h&&c.h==u?c.h=null:c.g&&c.g.has(u)&&c.g.delete(u)}F0.prototype.cancel=function(){if(this.i=j0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function j0(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let u=c.i;for(let m of c.g.values())u=u.concat(m.D);return u}return O(c.i)}function B1(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var u=[],m=c.length,p=0;p<m;p++)u.push(c[p]);return u}u=[],m=0;for(p in c)u[m++]=c[p];return u}function z1(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var u=[];c=c.length;for(var m=0;m<c;m++)u.push(m);return u}u=[],m=0;for(let p in c)u[m++]=p;return u}}}function B0(c,u){if(c.forEach&&typeof c.forEach=="function")c.forEach(u,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,u,void 0);else for(var m=z1(c),p=B1(c),C=p.length,F=0;F<C;F++)u.call(void 0,p[F],m&&m[F],c)}var z0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function U1(c,u){if(c){c=c.split("&");for(var m=0;m<c.length;m++){var p=c[m].indexOf("="),C=null;if(0<=p){var F=c[m].substring(0,p);C=c[m].substring(p+1)}else F=c[m];u(F,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Jr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Jr){this.h=c.h,_d(this,c.j),this.o=c.o,this.g=c.g,bd(this,c.s),this.l=c.l;var u=c.i,m=new oc;m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),U0(this,m),this.m=c.m}else c&&(u=String(c).match(z0))?(this.h=!1,_d(this,u[1]||"",!0),this.o=nc(u[2]||""),this.g=nc(u[3]||"",!0),bd(this,u[4]),this.l=nc(u[5]||"",!0),U0(this,u[6]||"",!0),this.m=nc(u[7]||"")):(this.h=!1,this.i=new oc(null,this.h))}Jr.prototype.toString=function(){var c=[],u=this.j;u&&c.push(rc(u,q0,!0),":");var m=this.g;return(m||u=="file")&&(c.push("//"),(u=this.o)&&c.push(rc(u,q0,!0),"@"),c.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&c.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&c.push("/"),c.push(rc(m,m.charAt(0)=="/"?H1:$1,!0))),(m=this.i.toString())&&c.push("?",m),(m=this.m)&&c.push("#",rc(m,W1)),c.join("")};function Dn(c){return new Jr(c)}function _d(c,u,m){c.j=m?nc(u,!0):u,c.j&&(c.j=c.j.replace(/:$/,""))}function bd(c,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);c.s=u}else c.s=null}function U0(c,u,m){u instanceof oc?(c.i=u,K1(c.i,c.h)):(m||(u=rc(u,G1)),c.i=new oc(u,c.h))}function Gt(c,u,m){c.i.set(u,m)}function vd(c){return Gt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function nc(c,u){return c?u?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function rc(c,u,m){return typeof c=="string"?(c=encodeURI(c).replace(u,q1),m&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function q1(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var q0=/[#\/\?@]/g,$1=/[#\?:]/g,H1=/[#\?]/g,G1=/[#\?@]/g,W1=/#/g;function oc(c,u){this.h=this.g=null,this.i=c||null,this.j=!!u}function tr(c){c.g||(c.g=new Map,c.h=0,c.i&&U1(c.i,function(u,m){c.add(decodeURIComponent(u.replace(/\+/g," ")),m)}))}n=oc.prototype,n.add=function(c,u){tr(this),this.i=null,c=os(this,c);var m=this.g.get(c);return m||this.g.set(c,m=[]),m.push(u),this.h+=1,this};function $0(c,u){tr(c),u=os(c,u),c.g.has(u)&&(c.i=null,c.h-=c.g.get(u).length,c.g.delete(u))}function H0(c,u){return tr(c),u=os(c,u),c.g.has(u)}n.forEach=function(c,u){tr(this),this.g.forEach(function(m,p){m.forEach(function(C){c.call(u,C,p,this)},this)},this)},n.na=function(){tr(this);let c=Array.from(this.g.values()),u=Array.from(this.g.keys()),m=[];for(let p=0;p<u.length;p++){let C=c[p];for(let F=0;F<C.length;F++)m.push(u[p])}return m},n.V=function(c){tr(this);let u=[];if(typeof c=="string")H0(this,c)&&(u=u.concat(this.g.get(os(this,c))));else{c=Array.from(this.g.values());for(let m=0;m<c.length;m++)u=u.concat(c[m])}return u},n.set=function(c,u){return tr(this),this.i=null,c=os(this,c),H0(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[u]),this.h+=1,this},n.get=function(c,u){return c?(c=this.V(c),0<c.length?String(c[0]):u):u};function G0(c,u,m){$0(c,u),0<m.length&&(c.i=null,c.g.set(os(c,u),O(m)),c.h+=m.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],u=Array.from(this.g.keys());for(var m=0;m<u.length;m++){var p=u[m];let F=encodeURIComponent(String(p)),G=this.V(p);for(p=0;p<G.length;p++){var C=F;G[p]!==""&&(C+="="+encodeURIComponent(String(G[p]))),c.push(C)}}return this.i=c.join("&")};function os(c,u){return u=String(u),c.j&&(u=u.toLowerCase()),u}function K1(c,u){u&&!c.j&&(tr(c),c.i=null,c.g.forEach(function(m,p){var C=p.toLowerCase();p!=C&&($0(this,p),G0(this,C,m))},c)),c.j=u}function Q1(c,u){let m=new ec;if(a.Image){let p=new Image;p.onload=_(er,m,"TestLoadImage: loaded",!0,u,p),p.onerror=_(er,m,"TestLoadImage: error",!1,u,p),p.onabort=_(er,m,"TestLoadImage: abort",!1,u,p),p.ontimeout=_(er,m,"TestLoadImage: timeout",!1,u,p),a.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=c}else u(!1)}function Y1(c,u){let m=new ec,p=new AbortController,C=setTimeout(()=>{p.abort(),er(m,"TestPingServer: timeout",!1,u)},1e4);fetch(c,{signal:p.signal}).then(F=>{clearTimeout(C),F.ok?er(m,"TestPingServer: ok",!0,u):er(m,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(C),er(m,"TestPingServer: error",!1,u)})}function er(c,u,m,p,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),p(m)}catch{}}function X1(){this.g=new P1}function Z1(c,u,m){let p=m||"";try{B0(c,function(C,F){let G=C;d(C)&&(G=tf(C)),u.push(p+F+"="+encodeURIComponent(G))})}catch(C){throw u.push(p+"type="+encodeURIComponent("_badmap")),C}}function sc(c){this.l=c.Ub||null,this.j=c.eb||!1}S(sc,ef),sc.prototype.g=function(){return new yd(this.l,this.j)},sc.prototype.i=function(c){return function(){return c}}({});function yd(c,u){Ue.call(this),this.D=c,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(yd,Ue),n=yd.prototype,n.open=function(c,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=u,this.readyState=1,cc(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let u={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(u.body=c),(this.D||a).fetch(new Request(this.A,u)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ac(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,cc(this)),this.g&&(this.readyState=3,cc(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;W0(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function W0(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var u=c.value?c.value:new Uint8Array(0);(u=this.v.decode(u,{stream:!c.done}))&&(this.response=this.responseText+=u)}c.done?ac(this):cc(this),this.readyState==3&&W0(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,ac(this))},n.Qa=function(c){this.g&&(this.response=c,ac(this))},n.ga=function(){this.g&&ac(this)};function ac(c){c.readyState=4,c.l=null,c.j=null,c.v=null,cc(c)}n.setRequestHeader=function(c,u){this.u.append(c,u)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],u=this.h.entries();for(var m=u.next();!m.done;)m=m.value,c.push(m[0]+": "+m[1]),m=u.next();return c.join(`\r
`)};function cc(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(yd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function K0(c){let u="";return pt(c,function(m,p){u+=p,u+=":",u+=m,u+=`\r
`}),u}function hf(c,u,m){t:{for(p in m){var p=!1;break t}p=!0}p||(m=K0(m),typeof c=="string"?m!=null&&encodeURIComponent(String(m)):Gt(c,u,m))}function re(c){Ue.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(re,Ue);var J1=/^https?$/i,tD=["POST","PUT"];n=re.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,u,m,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);u=u?u.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():of.g(),this.v=this.o?E0(this.o):E0(of),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(u,String(c),!0),this.B=!1}catch(F){Q0(this,F);return}if(c=m||"",m=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var C in p)m.set(C,p[C]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let F of p.keys())m.set(F,p.get(F));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(m.keys()).find(F=>F.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(tD,u,void 0))||p||C||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[F,G]of m)this.g.setRequestHeader(F,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Z0(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){Q0(this,F)}};function Q0(c,u){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=u,c.m=5,Y0(c),wd(c)}function Y0(c){c.A||(c.A=!0,Ke(c,"complete"),Ke(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ke(this,"complete"),Ke(this,"abort"),wd(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wd(this,!0)),re.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?X0(this):this.bb())},n.bb=function(){X0(this)};function X0(c){if(c.h&&typeof s<"u"&&(!c.v[1]||An(c)!=4||c.Z()!=2)){if(c.u&&An(c)==4)v0(c.Ea,0,c);else if(Ke(c,"readystatechange"),An(c)==4){c.h=!1;try{let G=c.Z();t:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break t;default:u=!1}var m;if(!(m=u)){var p;if(p=G===0){var C=String(c.D).match(z0)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),p=!J1.test(C?C.toLowerCase():"")}m=p}if(m)Ke(c,"complete"),Ke(c,"success");else{c.m=6;try{var F=2<An(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",Y0(c)}}finally{wd(c)}}}}function wd(c,u){if(c.g){Z0(c);let m=c.g,p=c.v[0]?()=>{}:null;c.g=null,c.v=null,u||Ke(c,"ready");try{m.onreadystatechange=p}catch{}}}function Z0(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function An(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var u=this.g.responseText;return c&&u.indexOf(c)==0&&(u=u.substring(c.length)),M1(u)}};function J0(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function eD(c){let u={};c=(c.g&&2<=An(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<c.length;p++){if(it(c[p]))continue;var m=k(c[p]);let C=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();let F=u[C]||[];u[C]=F,F.push(m)}x(u,function(p){return p.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function lc(c,u,m){return m&&m.internalChannelParams&&m.internalChannelParams[c]||u}function ty(c){this.Aa=0,this.i=[],this.j=new ec,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=lc("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=lc("baseRetryDelayMs",5e3,c),this.cb=lc("retryDelaySeedMs",1e4,c),this.Wa=lc("forwardChannelMaxRetries",2,c),this.wa=lc("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new F0(c&&c.concurrentRequestLimit),this.Da=new X1,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ty.prototype,n.la=8,n.G=1,n.connect=function(c,u,m,p){Qe(0),this.W=c,this.H=u||{},m&&p!==void 0&&(this.H.OSID=m,this.H.OAID=p),this.F=this.X,this.I=ly(this,null,this.W),Ed(this)};function mf(c){if(ey(c),c.G==3){var u=c.U++,m=Dn(c.I);if(Gt(m,"SID",c.K),Gt(m,"RID",u),Gt(m,"TYPE","terminate"),dc(c,m),u=new Jn(c,c.j,u),u.L=2,u.v=vd(Dn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(u.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=u.v,m=!0),m||(u.g=dy(u.j,null),u.g.ea(u.v)),u.F=Date.now(),gd(u)}cy(c)}function xd(c){c.g&&(pf(c),c.g.cancel(),c.g=null)}function ey(c){xd(c),c.u&&(a.clearTimeout(c.u),c.u=null),Id(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Ed(c){if(!N0(c.h)&&!c.s){c.s=!0;var u=c.Ga;Wa||m0(),Ka||(Wa(),Ka=!0),Hm.add(u,c),c.B=0}}function iD(c,u){return L0(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=u.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=tc(g(c.Ga,c,u),ay(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new Jn(this,this.j,c),F=this.o;if(this.S&&(F?(F=b(F),I(F,this.S)):F=this.S),this.m!==null||this.O||(C.H=F,F=null),this.P)t:{for(var u=0,m=0;m<this.i.length;m++){e:{var p=this.i[m];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break e}p=void 0}if(p===void 0)break;if(u+=p,4096<u){u=m;break t}if(u===4096||m===this.i.length-1){u=m+1;break t}}u=1e3}else u=1e3;u=ny(this,C,u),m=Dn(this.I),Gt(m,"RID",c),Gt(m,"CVER",22),this.D&&Gt(m,"X-HTTP-Session-Id",this.D),dc(this,m),F&&(this.O?u="headers="+encodeURIComponent(String(K0(F)))+"&"+u:this.m&&hf(m,this.m,F)),uf(this.h,C),this.Ua&&Gt(m,"TYPE","init"),this.P?(Gt(m,"$req",u),Gt(m,"SID","null"),C.T=!0,af(C,m,null)):af(C,m,u),this.G=2}}else this.G==3&&(c?iy(this,c):this.i.length==0||N0(this.h)||iy(this))};function iy(c,u){var m;u?m=u.l:m=c.U++;let p=Dn(c.I);Gt(p,"SID",c.K),Gt(p,"RID",m),Gt(p,"AID",c.T),dc(c,p),c.m&&c.o&&hf(p,c.m,c.o),m=new Jn(c,c.j,m,c.B+1),c.m===null&&(m.H=c.o),u&&(c.i=u.D.concat(c.i)),u=ny(c,m,1e3),m.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),uf(c.h,m),af(m,p,u)}function dc(c,u){c.H&&pt(c.H,function(m,p){Gt(u,p,m)}),c.l&&B0({},function(m,p){Gt(u,p,m)})}function ny(c,u,m){m=Math.min(c.i.length,m);var p=c.l?g(c.l.Na,c.l,c):null;t:{var C=c.i;let F=-1;for(;;){let G=["count="+m];F==-1?0<m?(F=C[0].g,G.push("ofs="+F)):F=0:G.push("ofs="+F);let Ut=!0;for(let Fe=0;Fe<m;Fe++){let Pt=C[Fe].g,qe=C[Fe].map;if(Pt-=F,0>Pt)F=Math.max(0,C[Fe].g-100),Ut=!1;else try{Z1(qe,G,"req"+Pt+"_")}catch{p&&p(qe)}}if(Ut){p=G.join("&");break t}}}return c=c.i.splice(0,m),u.D=c,p}function ry(c){if(!c.g&&!c.u){c.Y=1;var u=c.Fa;Wa||m0(),Ka||(Wa(),Ka=!0),Hm.add(u,c),c.v=0}}function ff(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=tc(g(c.Fa,c),ay(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,oy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=tc(g(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Qe(10),xd(this),oy(this))};function pf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function oy(c){c.g=new Jn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var u=Dn(c.qa);Gt(u,"RID","rpc"),Gt(u,"SID",c.K),Gt(u,"AID",c.T),Gt(u,"CI",c.F?"0":"1"),!c.F&&c.ja&&Gt(u,"TO",c.ja),Gt(u,"TYPE","xmlhttp"),dc(c,u),c.m&&c.o&&hf(u,c.m,c.o),c.L&&(c.g.I=c.L);var m=c.g;c=c.ia,m.L=1,m.v=vd(Dn(u)),m.m=null,m.P=!0,M0(m,c)}n.Za=function(){this.C!=null&&(this.C=null,xd(this),ff(this),Qe(19))};function Id(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function sy(c,u){var m=null;if(c.g==u){Id(c),pf(c),c.g=null;var p=2}else if(df(c.h,u))m=u.D,V0(c.h,u),p=1;else return;if(c.G!=0){if(u.o)if(p==1){m=u.m?u.m.length:0,u=Date.now()-u.F;var C=c.B;p=md(),Ke(p,new S0(p,m)),Ed(c)}else ry(c);else if(C=u.s,C==3||C==0&&0<u.X||!(p==1&&iD(c,u)||p==2&&ff(c)))switch(m&&0<m.length&&(u=c.h,u.i=u.i.concat(m)),C){case 1:to(c,5);break;case 4:to(c,10);break;case 3:to(c,6);break;default:to(c,2)}}}function ay(c,u){let m=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(m*=2),m*u}function to(c,u){if(c.j.info("Error code "+u),u==2){var m=g(c.fb,c),p=c.Xa;let C=!p;p=new Jr(p||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||_d(p,"https"),vd(p),C?Q1(p.toString(),m):Y1(p.toString(),m)}else Qe(2);c.G=0,c.l&&c.l.sa(u),cy(c),ey(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Qe(2)):(this.j.info("Failed to ping google.com"),Qe(1))};function cy(c){if(c.G=0,c.ka=[],c.l){let u=j0(c.h);(u.length!=0||c.i.length!=0)&&(M(c.ka,u),M(c.ka,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.ra()}}function ly(c,u,m){var p=m instanceof Jr?Dn(m):new Jr(m);if(p.g!="")u&&(p.g=u+"."+p.g),bd(p,p.s);else{var C=a.location;p=C.protocol,u=u?u+"."+C.hostname:C.hostname,C=+C.port;var F=new Jr(null);p&&_d(F,p),u&&(F.g=u),C&&bd(F,C),m&&(F.l=m),p=F}return m=c.D,u=c.ya,m&&u&&Gt(p,m,u),Gt(p,"VER",c.la),dc(c,p),p}function dy(c,u,m){if(u&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return u=c.Ca&&!c.pa?new re(new sc({eb:m})):new re(c.pa),u.Ha(c.J),u}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function uy(){}n=uy.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function kd(){}kd.prototype.g=function(c,u){return new pi(c,u)};function pi(c,u){Ue.call(this),this.g=new ty(u),this.l=c,this.h=u&&u.messageUrlParams||null,c=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(c?c["X-WebChannel-Content-Type"]=u.messageContentType:c={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.va&&(c?c["X-WebChannel-Client-Profile"]=u.va:c={"X-WebChannel-Client-Profile":u.va}),this.g.S=c,(c=u&&u.Sb)&&!it(c)&&(this.g.m=c),this.v=u&&u.supportsCrossDomainXhr||!1,this.u=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!it(u)&&(this.g.D=u,c=this.h,c!==null&&u in c&&(c=this.h,u in c&&delete c[u])),this.j=new ss(this)}S(pi,Ue),pi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pi.prototype.close=function(){mf(this.g)},pi.prototype.o=function(c){var u=this.g;if(typeof c=="string"){var m={};m.__data__=c,c=m}else this.u&&(m={},m.__data__=tf(c),c=m);u.i.push(new j1(u.Ya++,c)),u.G==3&&Ed(u)},pi.prototype.N=function(){this.g.l=null,delete this.j,mf(this.g),delete this.g,pi.aa.N.call(this)};function hy(c){nf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var u=c.__sm__;if(u){t:{for(let m in u){c=m;break t}c=void 0}(this.i=c)&&(c=this.i,u=u!==null&&c in u?u[c]:void 0),this.data=u}else this.data=c}S(hy,nf);function my(){rf.call(this),this.status=1}S(my,rf);function ss(c){this.g=c}S(ss,uy),ss.prototype.ua=function(){Ke(this.g,"a")},ss.prototype.ta=function(c){Ke(this.g,new hy(c))},ss.prototype.sa=function(c){Ke(this.g,new my)},ss.prototype.ra=function(){Ke(this.g,"b")},kd.prototype.createWebChannel=kd.prototype.g,pi.prototype.send=pi.prototype.o,pi.prototype.open=pi.prototype.m,pi.prototype.close=pi.prototype.close,m_=Un.createWebChannelTransport=function(){return new kd},h_=Un.getStatEventTarget=function(){return md()},u_=Un.Event=Xr,ph=Un.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fd.NO_ERROR=0,fd.TIMEOUT=8,fd.HTTP_ERROR=6,gl=Un.ErrorCode=fd,D0.COMPLETE="complete",d_=Un.EventType=D0,I0.EventType=Za,Za.OPEN="a",Za.CLOSE="b",Za.ERROR="c",Za.MESSAGE="d",Ue.prototype.listen=Ue.prototype.K,Js=Un.WebChannel=I0,l_=Un.FetchXmlHttpFactory=sc,re.prototype.listenOnce=re.prototype.L,re.prototype.getLastError=re.prototype.Ka,re.prototype.getLastErrorCode=re.prototype.Ba,re.prototype.getStatus=re.prototype.Z,re.prototype.getResponseJson=re.prototype.Oa,re.prototype.getResponseText=re.prototype.oa,re.prototype.send=re.prototype.ea,re.prototype.setWithCredentials=re.prototype.Ha,c_=Un.XhrIo=re}).apply(typeof fh<"u"?fh:typeof self<"u"?self:typeof window<"u"?window:{});var ck="@firebase/firestore";var we=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};we.UNAUTHENTICATED=new we(null),we.GOOGLE_CREDENTIALS=new we("google-credentials-uid"),we.FIRST_PARTY=new we("first-party-uid"),we.MOCK_USER=new we("mock-user");var Aa="10.12.1";var Nr=new Wd("@firebase/firestore");function ra(){return Nr.logLevel}function cC(n){Nr.setLogLevel(n)}function j(n,...t){if(Nr.logLevel<=sn.DEBUG){let i=t.map(gv);Nr.debug(`Firestore (${Aa}): ${n}`,...i)}}function fe(n,...t){if(Nr.logLevel<=sn.ERROR){let i=t.map(gv);Nr.error(`Firestore (${Aa}): ${n}`,...i)}}function Vi(n,...t){if(Nr.logLevel<=sn.WARN){let i=t.map(gv);Nr.warn(`Firestore (${Aa}): ${n}`,...i)}}function gv(n){if(typeof n=="string")return n;try{return function(i){return JSON.stringify(i)}(n)}catch{return n}}function et(n="Unexpected state"){let t=`FIRESTORE (${Aa}) INTERNAL ASSERTION FAILED: `+n;throw fe(t),new Error(t)}function at(n,t){n||et()}function lC(n,t){n||et()}function Q(n,t){return n}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends Gd{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var xe=class{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}};var Ch=class{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}},b_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(we.UNAUTHENTICATED))}shutdown(){}},v_=class{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}},y_=class{constructor(t){this.t=t,this.currentUser=we.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){let e=this.i,r=l=>this.i!==e?(e=this.i,i(l)):Promise.resolve(),o=new xe;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new xe,t.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let l=o;t.enqueueRetryable(()=>R(this,null,function*(){yield l.promise,yield r(this.currentUser)}))},a=l=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new xe)}},0),s()}getToken(){let t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(e=>this.i!==t?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(at(typeof e.accessToken=="string"),new Ch(e.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let t=this.auth&&this.auth.getUid();return at(t===null||typeof t=="string"),new we(t)}},w_=class{constructor(t,i,e){this.l=t,this.h=i,this.P=e,this.type="FirstParty",this.user=we.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},x_=class{constructor(t,i,e){this.l=t,this.h=i,this.P=e}getToken(){return Promise.resolve(new w_(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i(we.FIRST_PARTY))}shutdown(){}invalidateToken(){}},E_=class{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},I_=class{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,i){let e=o=>{o.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,j("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?i(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>e(o))};let r=o=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(at(typeof i.token=="string"),this.R=i.token,new E_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function cN(n){let t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let e=0;e<n;e++)i[e]=Math.floor(256*Math.random());return i}var Th=class{static newId(){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/t.length)*t.length,e="";for(;e.length<20;){let r=cN(40);for(let o=0;o<r.length;++o)e.length<20&&r[o]<i&&(e+=t.charAt(r[o]%t.length))}return e}};function vt(n,t){return n<t?-1:n>t?1:0}function ma(n,t,i){return n.length===t.length&&n.every((e,r)=>i(e,t[r]))}function dC(n){return n+"\0"}var ne=class n{constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new L(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new L(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<-62135596800)throw new L(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new L(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return n.fromMillis(Date.now())}static fromDate(t){return n.fromMillis(t.getTime())}static fromMillis(t){let i=Math.floor(t/1e3),e=Math.floor(1e6*(t-1e3*i));return new n(i,e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?vt(this.nanoseconds,t.nanoseconds):vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ut=class n{constructor(t){this.timestamp=t}static fromTimestamp(t){return new n(t)}static min(){return new n(new ne(0,0))}static max(){return new n(new ne(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Sh=class n{constructor(t,i,e){i===void 0?i=0:i>t.length&&et(),e===void 0?e=t.length-i:e>t.length-i&&et(),this.segments=t,this.offset=i,this.len=e}get length(){return this.len}isEqual(t){return n.comparator(this,t)===0}child(t){let i=this.segments.slice(this.offset,this.limit());return t instanceof n?t.forEach(e=>{i.push(e)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,e=this.limit();i<e;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){let e=Math.min(t.length,i.length);for(let r=0;r<e;r++){let o=t.get(r),s=i.get(r);if(o<s)return-1;if(o>s)return 1}return t.length<i.length?-1:t.length>i.length?1:0}},At=class n extends Sh{construct(t,i,e){return new n(t,i,e)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){let i=[];for(let e of t){if(e.indexOf("//")>=0)throw new L(N.INVALID_ARGUMENT,`Invalid segment (${e}). Paths must not contain // in them.`);i.push(...e.split("/").filter(r=>r.length>0))}return new n(i)}static emptyPath(){return new n([])}},lN=/^[_a-zA-Z][_a-zA-Z0-9]*$/,pe=class n extends Sh{construct(t,i,e){return new n(t,i,e)}static isValidIdentifier(t){return lN.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(t){let i=[],e="",r=0,o=()=>{if(e.length===0)throw new L(N.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(e),e=""},s=!1;for(;r<t.length;){let a=t[r];if(a==="\\"){if(r+1===t.length)throw new L(N.INVALID_ARGUMENT,"Path has trailing escape character: "+t);let l=t[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new L(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);e+=l,r+=2}else a==="`"?(s=!s,r++):a!=="."||s?(e+=a,r++):(o(),r++)}if(o(),s)throw new L(N.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new n(i)}static emptyPath(){return new n([])}};var W=class n{constructor(t){this.path=t}static fromPath(t){return new n(At.fromString(t))}static fromName(t){return new n(At.fromString(t).popFirst(5))}static empty(){return new n(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&At.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return At.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new n(new At(t.slice()))}};var fa=class{constructor(t,i,e,r){this.indexId=t,this.collectionGroup=i,this.fields=e,this.indexState=r}};function k_(n){return n.fields.find(t=>t.kind===2)}function Po(n){return n.fields.filter(t=>t.kind!==2)}fa.UNKNOWN_ID=-1;var da=class{constructor(t,i){this.fieldPath=t,this.kind=i}};var Sl=class n{constructor(t,i){this.sequenceNumber=t,this.offset=i}static empty(){return new n(0,ji.min())}};function uC(n,t){let i=n.toTimestamp().seconds,e=n.toTimestamp().nanoseconds+1,r=ut.fromTimestamp(e===1e9?new ne(i+1,0):new ne(i,e));return new ji(r,W.empty(),t)}function hC(n){return new ji(n.readTime,n.key,-1)}var ji=class n{constructor(t,i,e){this.readTime=t,this.documentKey=i,this.largestBatchId=e}static min(){return new n(ut.min(),W.empty(),-1)}static max(){return new n(ut.max(),W.empty(),-1)}};function _v(n,t){let i=n.readTime.compareTo(t.readTime);return i!==0?i:(i=W.comparator(n.documentKey,t.documentKey),i!==0?i:vt(n.largestBatchId,t.largestBatchId))}var mC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Dh=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}};function Gr(n){return R(this,null,function*(){if(n.code!==N.FAILED_PRECONDITION||n.message!==mC)throw n;j("LocalStore","Unexpectedly lost primary lease")})}var P=class n{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new n((e,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(e,r)},this.catchCallback=o=>{this.wrapFailure(i,o).next(e,r)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{let i=t();return i instanceof n?i:n.resolve(i)}catch(i){return n.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):n.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):n.reject(i)}static resolve(t){return new n((i,e)=>{i(t)})}static reject(t){return new n((i,e)=>{e(t)})}static waitFor(t){return new n((i,e)=>{let r=0,o=0,s=!1;t.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&i()},l=>e(l))}),s=!0,o===r&&i()})}static or(t){let i=n.resolve(!1);for(let e of t)i=i.next(r=>r?n.resolve(r):e());return i}static forEach(t,i){let e=[];return t.forEach((r,o)=>{e.push(i.call(this,r,o))}),this.waitFor(e)}static mapArray(t,i){return new n((e,r)=>{let o=t.length,s=new Array(o),a=0;for(let l=0;l<o;l++){let d=l;i(t[d]).next(h=>{s[d]=h,++a,a===o&&e(s)},h=>r(h))}})}static doWhile(t,i){return new n((e,r)=>{let o=()=>{t()===!0?i().next(()=>{o()},r):e()};o()})}};var Ah=class n{constructor(t,i){this.action=t,this.transaction=i,this.aborted=!1,this.V=new xe,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{i.error?this.V.reject(new jo(t,i.error)):this.V.resolve()},this.transaction.onerror=e=>{let r=bv(e.target.error);this.V.reject(new jo(t,r))}}static open(t,i,e,r){try{return new n(i,t.transaction(r,e))}catch(o){throw new jo(i,o)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(j("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){let i=this.transaction.objectStore(t);return new T_(i)}},Lr=class n{constructor(t,i,e){this.name=t,this.version=i,this.p=e,n.S(bc())===12.2&&fe("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return j("SimpleDb","Removing database:",t),Oo(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!Hd())return!1;if(n.C())return!0;let t=bc(),i=n.S(t),e=0<i&&i<10,r=fC(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||e||o)}static C(){var t;return typeof process<"u"&&((t=process.__PRIVATE_env)===null||t===void 0?void 0:t.v)==="YES"}static F(t,i){return t.store(i)}static S(t){let i=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),e=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(e)}M(t){return R(this,null,function*(){return this.db||(j("SimpleDb","Opening database:",this.name),this.db=yield new Promise((i,e)=>{let r=indexedDB.open(this.name,this.version);r.onsuccess=o=>{let s=o.target.result;i(s)},r.onblocked=()=>{e(new jo(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=o=>{let s=o.target.error;s.name==="VersionError"?e(new L(N.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?e(new L(N.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):e(new jo(t,s))},r.onupgradeneeded=o=>{j("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let s=o.target.result;this.p.O(s,r.transaction,o.oldVersion,this.version).next(()=>{j("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=i=>this.N(i)),this.db})}L(t){this.N=t,this.db&&(this.db.onversionchange=i=>t(i))}runTransaction(t,i,e,r){return R(this,null,function*(){let o=i==="readonly",s=0;for(;;){++s;try{this.db=yield this.M(t);let a=Ah.open(this.db,t,o?"readonly":"readwrite",e),l=r(a).next(d=>(a.g(),d)).catch(d=>(a.abort(d),P.reject(d))).toPromise();return l.catch(()=>{}),yield a.m,l}catch(a){let l=a,d=l.name!=="FirebaseError"&&s<3;if(j("SimpleDb","Transaction failed with error:",l.message,"Retrying:",d),this.close(),!d)return Promise.reject(l)}}})}close(){this.db&&this.db.close(),this.db=void 0}};function fC(n){let t=n.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}var C_=class{constructor(t){this.B=t,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(t){this.B=t}done(){this.k=!0}$(t){this.q=t}delete(){return Oo(this.B.delete())}},jo=class extends L{constructor(t,i){super(N.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${i}`),this.name="IndexedDbTransactionError"}};function Wr(n){return n.name==="IndexedDbTransactionError"}var T_=class{constructor(t){this.store=t}put(t,i){let e;return i!==void 0?(j("SimpleDb","PUT",this.store.name,t,i),e=this.store.put(i,t)):(j("SimpleDb","PUT",this.store.name,"<auto-key>",t),e=this.store.put(t)),Oo(e)}add(t){return j("SimpleDb","ADD",this.store.name,t,t),Oo(this.store.add(t))}get(t){return Oo(this.store.get(t)).next(i=>(i===void 0&&(i=null),j("SimpleDb","GET",this.store.name,t,i),i))}delete(t){return j("SimpleDb","DELETE",this.store.name,t),Oo(this.store.delete(t))}count(){return j("SimpleDb","COUNT",this.store.name),Oo(this.store.count())}U(t,i){let e=this.options(t,i),r=e.index?this.store.index(e.index):this.store;if(typeof r.getAll=="function"){let o=r.getAll(e.range);return new P((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{let o=this.cursor(e),s=[];return this.W(o,(a,l)=>{s.push(l)}).next(()=>s)}}G(t,i){let e=this.store.getAll(t,i===null?void 0:i);return new P((r,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{r(s.target.result)}})}j(t,i){j("SimpleDb","DELETE ALL",this.store.name);let e=this.options(t,i);e.H=!1;let r=this.cursor(e);return this.W(r,(o,s,a)=>a.delete())}J(t,i){let e;i?e=t:(e={},i=t);let r=this.cursor(e);return this.W(r,i)}Y(t){let i=this.cursor({});return new P((e,r)=>{i.onerror=o=>{let s=bv(o.target.error);r(s)},i.onsuccess=o=>{let s=o.target.result;s?t(s.primaryKey,s.value).next(a=>{a?s.continue():e()}):e()}})}W(t,i){let e=[];return new P((r,o)=>{t.onerror=s=>{o(s.target.error)},t.onsuccess=s=>{let a=s.target.result;if(!a)return void r();let l=new C_(a),d=i(a.primaryKey,a.value,l);if(d instanceof P){let h=d.catch(f=>(l.done(),P.reject(f)));e.push(h)}l.isDone?r():l.K===null?a.continue():a.continue(l.K)}}).next(()=>P.waitFor(e))}options(t,i){let e;return t!==void 0&&(typeof t=="string"?e=t:i=t),{index:e,range:i}}cursor(t){let i="next";if(t.reverse&&(i="prev"),t.index){let e=this.store.index(t.index);return t.H?e.openKeyCursor(t.range,i):e.openCursor(t.range,i)}return this.store.openCursor(t.range,i)}};function Oo(n){return new P((t,i)=>{n.onsuccess=e=>{let r=e.target.result;t(r)},n.onerror=e=>{let r=bv(e.target.error);i(r)}})}var lk=!1;function bv(n){let t=Lr.S(bc());if(t>=12.2&&t<13){let i="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(i)>=0){let e=new L("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return lk||(lk=!0,setTimeout(()=>{throw e},0)),e}}return n}var S_=class{constructor(t,i){this.asyncQueue=t,this.Z=i,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(t){j("IndexBackfiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,()=>R(this,null,function*(){this.task=null;try{j("IndexBackfiller",`Documents written: ${yield this.Z.ee()}`)}catch(i){Wr(i)?j("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",i):yield Gr(i)}yield this.X(6e4)}))}},D_=class{constructor(t,i){this.localStore=t,this.persistence=i}ee(t=50){return R(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>this.te(i,t))})}te(t,i){let e=new Set,r=i,o=!0;return P.doWhile(()=>o===!0&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(s=>{if(s!==null&&!e.has(s))return j("IndexBackfiller",`Processing collection: ${s}`),this.ne(t,s,r).next(a=>{r-=a,e.add(s)});o=!1})).next(()=>i-r)}ne(t,i,e){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,i).next(r=>this.localStore.localDocuments.getNextDocuments(t,i,r,e).next(o=>{let s=o.changes;return this.localStore.indexManager.updateIndexEntries(t,s).next(()=>this.re(r,o)).next(a=>(j("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(t,i,a))).next(()=>s.size)}))}re(t,i){let e=t;return i.changes.forEach((r,o)=>{let s=hC(o);_v(s,e)>0&&(e=s)}),new ji(e.readTime,e.documentKey,Math.max(i.batchId,t.largestBatchId))}};var Ci=(()=>{class n{constructor(i,e){this.previousValue=i,e&&(e.sequenceNumberHandler=r=>this.ie(r),this.se=r=>e.writeSequenceNumber(r))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){let i=++this.previousValue;return this.se&&this.se(i),i}}return n.oe=-1,n})();function Yl(n){return n==null}function Dl(n){return n===0&&1/n==-1/0}function pC(n){return typeof n=="number"&&Number.isInteger(n)&&!Dl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function ni(n){let t="";for(let i=0;i<n.length;i++)t.length>0&&(t=dk(t)),t=dN(n.get(i),t);return dk(t)}function dN(n,t){let i=t,e=n.length;for(let r=0;r<e;r++){let o=n.charAt(r);switch(o){case"\0":i+="";break;case"":i+="";break;default:i+=o}}return i}function dk(n){return n+""}function pn(n){let t=n.length;if(at(t>=2),t===2)return at(n.charAt(0)===""&&n.charAt(1)===""),At.emptyPath();let i=t-2,e=[],r="";for(let o=0;o<t;){let s=n.indexOf("",o);switch((s<0||s>i)&&et(),n.charAt(s+1)){case"":let a=n.substring(o,s),l;r.length===0?l=a:(r+=a,l=r,r=""),e.push(l);break;case"":r+=n.substring(o,s),r+="\0";break;case"":r+=n.substring(o,s+1);break;default:et()}o=s+2}return new At(e)}var uk=["userId","batchId"];function yh(n,t){return[n,ni(t)]}function gC(n,t,i){return[n,ni(t),i]}var uN={},hN=["prefixPath","collectionGroup","readTime","documentId"],mN=["prefixPath","collectionGroup","documentId"],fN=["collectionGroup","readTime","prefixPath","documentId"],pN=["canonicalId","targetId"],gN=["targetId","path"],_N=["path","targetId"],bN=["collectionId","parent"],vN=["indexId","uid"],yN=["uid","sequenceNumber"],wN=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],xN=["indexId","uid","orderedDocumentKey"],EN=["userId","collectionPath","documentId"],IN=["userId","collectionPath","largestBatchId"],kN=["userId","collectionGroup","largestBatchId"],_C=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],CN=[..._C,"documentOverlays"],bC=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],vC=bC,yC=[...vC,"indexConfiguration","indexState","indexEntries"],TN=yC;var Al=class extends Dh{constructor(t,i){super(),this._e=t,this.currentSequenceNumber=i}};function Oe(n,t){let i=Q(n);return Lr.F(i._e,t)}function hk(n){let t=0;for(let i in n)Object.prototype.hasOwnProperty.call(n,i)&&t++;return t}function Xo(n,t){for(let i in n)Object.prototype.hasOwnProperty.call(n,i)&&t(i,n[i])}function wC(n){for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}var Kt=class n{constructor(t,i){this.comparator=t,this.root=i||_n.EMPTY}insert(t,i){return new n(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(t){return new n(this.comparator,this.root.remove(t,this.comparator).copy(null,null,_n.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){let e=this.comparator(t,i.key);if(e===0)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}indexOf(t){let i=0,e=this.root;for(;!e.isEmpty();){let r=this.comparator(t,e.key);if(r===0)return i+e.left.size;r<0?e=e.left:(i+=e.left.size+1,e=e.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,e)=>(t(i,e),!1))}toString(){let t=[];return this.inorderTraversal((i,e)=>(t.push(`${i}:${e}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new la(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new la(this.root,t,this.comparator,!1)}getReverseIterator(){return new la(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new la(this.root,t,this.comparator,!0)}},la=class{constructor(t,i,e,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=i?e(t.key,i):1,i&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop(),i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}},_n=class n{constructor(t,i,e,r,o){this.key=t,this.value=i,this.color=e??n.RED,this.left=r??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,e,r,o){return new n(t??this.key,i??this.value,e??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,e){let r=this,o=e(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,i,e),null):o===0?r.copy(null,i,null,null,null):r.copy(null,null,null,null,r.right.insert(t,i,e)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let e,r=this;if(i(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),i(t,r.key)===0){if(r.right.isEmpty())return n.EMPTY;e=r.right.min(),r=r.copy(e.key,e.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){let t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){let t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw et();let t=this.left.check();if(t!==this.right.check())throw et();return t+(this.isRed()?0:1)}};_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw et()}get value(){throw et()}get color(){throw et()}get left(){throw et()}get right(){throw et()}copy(t,i,e,r,o){return this}insert(t,i,e){return new _n(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var qt=class n{constructor(t){this.comparator=t,this.data=new Kt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,e)=>(t(i),!1))}forEachInRange(t,i){let e=this.data.getIteratorFrom(t[0]);for(;e.hasNext();){let r=e.getNext();if(this.comparator(r.key,t[1])>=0)return;i(r.key)}}forEachWhile(t,i){let e;for(e=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();e.hasNext();)if(!t(e.getNext().key))return}firstAfterOrEqual(t){let i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Rh(this.data.getIterator())}getIteratorFrom(t){return new Rh(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(e=>{i=i.add(e)}),i}isEqual(t){if(!(t instanceof n)||this.size!==t.size)return!1;let i=this.data.getIterator(),e=t.data.getIterator();for(;i.hasNext();){let r=i.getNext().key,o=e.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let t=[];return this.forEach(i=>{t.push(i)}),t}toString(){let t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){let i=new n(this.comparator);return i.data=t,i}},Rh=class{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function ta(n){return n.hasNext()?n.getNext():void 0}var Ti=class n{constructor(t){this.fields=t,t.sort(pe.comparator)}static empty(){return new n([])}unionWith(t){let i=new qt(pe.comparator);for(let e of this.fields)i=i.add(e);for(let e of t)i=i.add(e);return new n(i.toArray())}covers(t){for(let i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return ma(this.fields,t.fields,(i,e)=>i.isEqual(e))}};var Mh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function xC(){return typeof atob<"u"}var Pe=class n{constructor(t){this.binaryString=t}static fromBase64String(t){let i=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Mh("Invalid base64 string: "+o):o}}(t);return new n(i)}static fromUint8Array(t){let i=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(t);return new n(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){let e=new Uint8Array(i.length);for(let r=0;r<i.length;r++)e[r]=i.charCodeAt(r);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}};Pe.EMPTY_BYTE_STRING=new Pe("");var SN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hn(n){if(at(!!n),typeof n=="string"){let t=0,i=SN.exec(n);if(at(!!i),i[1]){let r=i[1];r=(r+"000000000").substr(0,9),t=Number(r)}let e=new Date(n);return{seconds:Math.floor(e.getTime()/1e3),nanos:t}}return{seconds:ue(n.seconds),nanos:ue(n.nanos)}}function ue(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Vr(n){return typeof n=="string"?Pe.fromBase64String(n):Pe.fromUint8Array(n)}function xm(n){var t,i;return((i=(((t=n?.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function vv(n){let t=n.mapValue.fields.__previous_value__;return xm(t)?vv(t):t}function Rl(n){let t=Hn(n.mapValue.fields.__local_write_time__.timestampValue);return new ne(t.seconds,t.nanos)}var A_=class{constructor(t,i,e,r,o,s,a,l,d){this.databaseId=t,this.appId=i,this.persistenceKey=e,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=d}},jr=class n{constructor(t,i){this.projectId=t,this.database=i||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof n&&t.projectId===this.projectId&&t.database===this.database}};var Or={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},wh={nullValue:"NULL_VALUE"};function Bo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?xm(n)?4:EC(n)?9007199254740991:10:et()}function yn(n,t){if(n===t)return!0;let i=Bo(n);if(i!==Bo(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Rl(n).isEqual(Rl(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let s=Hn(r.timestampValue),a=Hn(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(r,o){return Vr(r.bytesValue).isEqual(Vr(o.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,o){return ue(r.geoPointValue.latitude)===ue(o.geoPointValue.latitude)&&ue(r.geoPointValue.longitude)===ue(o.geoPointValue.longitude)}(n,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return ue(r.integerValue)===ue(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let s=ue(r.doubleValue),a=ue(o.doubleValue);return s===a?Dl(s)===Dl(a):isNaN(s)&&isNaN(a)}return!1}(n,t);case 9:return ma(n.arrayValue.values||[],t.arrayValue.values||[],yn);case 10:return function(r,o){let s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(hk(s)!==hk(a))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!yn(s[l],a[l])))return!1;return!0}(n,t);default:return et()}}function Ml(n,t){return(n.values||[]).find(i=>yn(i,t))!==void 0}function Br(n,t){if(n===t)return 0;let i=Bo(n),e=Bo(t);if(i!==e)return vt(i,e);switch(i){case 0:case 9007199254740991:return 0;case 1:return vt(n.booleanValue,t.booleanValue);case 2:return function(o,s){let a=ue(o.integerValue||o.doubleValue),l=ue(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,t);case 3:return mk(n.timestampValue,t.timestampValue);case 4:return mk(Rl(n),Rl(t));case 5:return vt(n.stringValue,t.stringValue);case 6:return function(o,s){let a=Vr(o),l=Vr(s);return a.compareTo(l)}(n.bytesValue,t.bytesValue);case 7:return function(o,s){let a=o.split("/"),l=s.split("/");for(let d=0;d<a.length&&d<l.length;d++){let h=vt(a[d],l[d]);if(h!==0)return h}return vt(a.length,l.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,s){let a=vt(ue(o.latitude),ue(s.latitude));return a!==0?a:vt(ue(o.longitude),ue(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(o,s){let a=o.values||[],l=s.values||[];for(let d=0;d<a.length&&d<l.length;++d){let h=Br(a[d],l[d]);if(h)return h}return vt(a.length,l.length)}(n.arrayValue,t.arrayValue);case 10:return function(o,s){if(o===Or.mapValue&&s===Or.mapValue)return 0;if(o===Or.mapValue)return 1;if(s===Or.mapValue)return-1;let a=o.fields||{},l=Object.keys(a),d=s.fields||{},h=Object.keys(d);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){let g=vt(l[f],h[f]);if(g!==0)return g;let _=Br(a[l[f]],d[h[f]]);if(_!==0)return _}return vt(l.length,h.length)}(n.mapValue,t.mapValue);default:throw et()}}function mk(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return vt(n,t);let i=Hn(n),e=Hn(t),r=vt(i.seconds,e.seconds);return r!==0?r:vt(i.nanos,e.nanos)}function pa(n){return R_(n)}function R_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){let e=Hn(i);return`time(${e.seconds},${e.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(i){return Vr(i).toBase64()}(n.bytesValue):"referenceValue"in n?function(i){return W.fromName(i).toString()}(n.referenceValue):"geoPointValue"in n?function(i){return`geo(${i.latitude},${i.longitude})`}(n.geoPointValue):"arrayValue"in n?function(i){let e="[",r=!0;for(let o of i.values||[])r?r=!1:e+=",",e+=R_(o);return e+"]"}(n.arrayValue):"mapValue"in n?function(i){let e=Object.keys(i.fields||{}).sort(),r="{",o=!0;for(let s of e)o?o=!1:r+=",",r+=`${s}:${R_(i.fields[s])}`;return r+"}"}(n.mapValue):et()}function zo(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function M_(n){return!!n&&"integerValue"in n}function Pl(n){return!!n&&"arrayValue"in n}function fk(n){return!!n&&"nullValue"in n}function pk(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function xh(n){return!!n&&"mapValue"in n}function El(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let t={mapValue:{fields:{}}};return Xo(n.mapValue.fields,(i,e)=>t.mapValue.fields[i]=El(e)),t}if(n.arrayValue){let t={arrayValue:{values:[]}};for(let i=0;i<(n.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=El(n.arrayValue.values[i]);return t}return Object.assign({},n)}function EC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function DN(n){return"nullValue"in n?wh:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?zo(jr.empty(),W.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:et()}function AN(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?zo(jr.empty(),W.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Or:et()}function gk(n,t){let i=Br(n.value,t.value);return i!==0?i:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function _k(n,t){let i=Br(n.value,t.value);return i!==0?i:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}var We=class n{constructor(t){this.value=t}static empty(){return new n({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let e=0;e<t.length-1;++e)if(i=(i.mapValue.fields||{})[t.get(e)],!xh(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=El(i)}setAll(t){let i=pe.emptyPath(),e={},r=[];t.forEach((s,a)=>{if(!i.isImmediateParentOf(a)){let l=this.getFieldsMap(i);this.applyChanges(l,e,r),e={},r=[],i=a.popLast()}s?e[a.lastSegment()]=El(s):r.push(a.lastSegment())});let o=this.getFieldsMap(i);this.applyChanges(o,e,r)}delete(t){let i=this.field(t.popLast());xh(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return yn(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let e=0;e<t.length;++e){let r=i.mapValue.fields[t.get(e)];xh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},i.mapValue.fields[t.get(e)]=r),i=r}return i.mapValue.fields}applyChanges(t,i,e){Xo(i,(r,o)=>t[r]=o);for(let r of e)delete t[r]}clone(){return new n(El(this.value))}};function IC(n){let t=[];return Xo(n.fields,(i,e)=>{let r=new pe([i]);if(xh(e)){let o=IC(e.mapValue).fields;if(o.length===0)t.push(r);else for(let s of o)t.push(r.child(s))}else t.push(r)}),new Ti(t)}var Ee=class n{constructor(t,i,e,r,o,s,a){this.key=t,this.documentType=i,this.version=e,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(t){return new n(t,0,ut.min(),ut.min(),ut.min(),We.empty(),0)}static newFoundDocument(t,i,e,r){return new n(t,1,i,ut.min(),e,r,0)}static newNoDocument(t,i){return new n(t,2,i,ut.min(),ut.min(),We.empty(),0)}static newUnknownDocument(t,i){return new n(t,3,i,ut.min(),ut.min(),We.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(ut.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=We.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=We.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ut.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof n&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var wn=class{constructor(t,i){this.position=t,this.inclusive=i}};function bk(n,t,i){let e=0;for(let r=0;r<n.position.length;r++){let o=t[r],s=n.position[r];if(o.field.isKeyField()?e=W.comparator(W.fromName(s.referenceValue),i.key):e=Br(s,i.data.field(o.field)),o.dir==="desc"&&(e*=-1),e!==0)break}return e}function vk(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let i=0;i<n.position.length;i++)if(!yn(n.position[i],t.position[i]))return!1;return!0}var Uo=class{constructor(t,i="asc"){this.field=t,this.dir=i}};function RN(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}var Ph=class{},kt=class n extends Ph{constructor(t,i,e){super(),this.field=t,this.op=i,this.value=e}static create(t,i,e){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,e):new F_(t,i,e):i==="array-contains"?new V_(t,e):i==="in"?new Oh(t,e):i==="not-in"?new j_(t,e):i==="array-contains-any"?new B_(t,e):new n(t,i,e)}static createKeyFieldInFilter(t,i,e){return i==="in"?new N_(t,e):new L_(t,e)}matches(t){let i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Br(i,this.value)):i!==null&&Bo(this.value)===Bo(i)&&this.matchesComparison(Br(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return et()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Bt=class n extends Ph{constructor(t,i){super(),this.filters=t,this.op=i,this.ae=null}static create(t,i){return new n(t,i)}matches(t){return ga(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function ga(n){return n.op==="and"}function P_(n){return n.op==="or"}function yv(n){return kC(n)&&ga(n)}function kC(n){for(let t of n.filters)if(t instanceof Bt)return!1;return!0}function O_(n){if(n instanceof kt)return n.field.canonicalString()+n.op.toString()+pa(n.value);if(yv(n))return n.filters.map(t=>O_(t)).join(",");{let t=n.filters.map(i=>O_(i)).join(",");return`${n.op}(${t})`}}function CC(n,t){return n instanceof kt?function(e,r){return r instanceof kt&&e.op===r.op&&e.field.isEqual(r.field)&&yn(e.value,r.value)}(n,t):n instanceof Bt?function(e,r){return r instanceof Bt&&e.op===r.op&&e.filters.length===r.filters.length?e.filters.reduce((o,s,a)=>o&&CC(s,r.filters[a]),!0):!1}(n,t):void et()}function TC(n,t){let i=n.filters.concat(t);return Bt.create(i,n.op)}function SC(n){return n instanceof kt?function(i){return`${i.field.canonicalString()} ${i.op} ${pa(i.value)}`}(n):n instanceof Bt?function(i){return i.op.toString()+" {"+i.getFilters().map(SC).join(" ,")+"}"}(n):"Filter"}var F_=class extends kt{constructor(t,i,e){super(t,i,e),this.key=W.fromName(e.referenceValue)}matches(t){let i=W.comparator(t.key,this.key);return this.matchesComparison(i)}},N_=class extends kt{constructor(t,i){super(t,"in",i),this.keys=DC("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}},L_=class extends kt{constructor(t,i){super(t,"not-in",i),this.keys=DC("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}};function DC(n,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(e=>W.fromName(e.referenceValue))}var V_=class extends kt{constructor(t,i){super(t,"array-contains",i)}matches(t){let i=t.data.field(this.field);return Pl(i)&&Ml(i.arrayValue,this.value)}},Oh=class extends kt{constructor(t,i){super(t,"in",i)}matches(t){let i=t.data.field(this.field);return i!==null&&Ml(this.value.arrayValue,i)}},j_=class extends kt{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let i=t.data.field(this.field);return i!==null&&!Ml(this.value.arrayValue,i)}},B_=class extends kt{constructor(t,i){super(t,"array-contains-any",i)}matches(t){let i=t.data.field(this.field);return!(!Pl(i)||!i.arrayValue.values)&&i.arrayValue.values.some(e=>Ml(this.value.arrayValue,e))}};var z_=class{constructor(t,i=null,e=[],r=[],o=null,s=null,a=null){this.path=t,this.collectionGroup=i,this.orderBy=e,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function U_(n,t=null,i=[],e=[],r=null,o=null,s=null){return new z_(n,t,i,e,r,o,s)}function qo(n){let t=Q(n);if(t.ue===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(e=>O_(e)).join(","),i+="|ob:",i+=t.orderBy.map(e=>function(o){return o.field.canonicalString()+o.dir}(e)).join(","),Yl(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(e=>pa(e)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(e=>pa(e)).join(",")),t.ue=i}return t.ue}function Xl(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!RN(n.orderBy[i],t.orderBy[i]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if(!CC(n.filters[i],t.filters[i]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!vk(n.startAt,t.startAt)&&vk(n.endAt,t.endAt)}function Fh(n){return W.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Nh(n,t){return n.filters.filter(i=>i instanceof kt&&i.field.isEqual(t))}function yk(n,t,i){let e=wh,r=!0;for(let o of Nh(n,t)){let s=wh,a=!0;switch(o.op){case"<":case"<=":s=DN(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=wh}gk({value:e,inclusive:r},{value:s,inclusive:a})<0&&(e=s,r=a)}if(i!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){let s=i.position[o];gk({value:e,inclusive:r},{value:s,inclusive:i.inclusive})<0&&(e=s,r=i.inclusive);break}}return{value:e,inclusive:r}}function wk(n,t,i){let e=Or,r=!0;for(let o of Nh(n,t)){let s=Or,a=!0;switch(o.op){case">=":case">":s=AN(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Or}_k({value:e,inclusive:r},{value:s,inclusive:a})>0&&(e=s,r=a)}if(i!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){let s=i.position[o];_k({value:e,inclusive:r},{value:s,inclusive:i.inclusive})>0&&(e=s,r=i.inclusive);break}}return{value:e,inclusive:r}}var Xi=class{constructor(t,i=null,e=[],r=[],o=null,s="F",a=null,l=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=e,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function AC(n,t,i,e,r,o,s,a){return new Xi(n,t,i,e,r,o,s,a)}function Ra(n){return new Xi(n)}function xk(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function wv(n){return n.collectionGroup!==null}function ua(n){let t=Q(n);if(t.ce===null){t.ce=[];let i=new Set;for(let o of t.explicitOrderBy)t.ce.push(o),i.add(o.field.canonicalString());let e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new qt(pe.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(t).forEach(o=>{i.has(o.canonicalString())||o.isKeyField()||t.ce.push(new Uo(o,e))}),i.has(pe.keyField().canonicalString())||t.ce.push(new Uo(pe.keyField(),e))}return t.ce}function ri(n){let t=Q(n);return t.le||(t.le=MN(t,ua(n))),t.le}function MN(n,t){if(n.limitType==="F")return U_(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new Uo(r.field,o)});let i=n.endAt?new wn(n.endAt.position,n.endAt.inclusive):null,e=n.startAt?new wn(n.startAt.position,n.startAt.inclusive):null;return U_(n.path,n.collectionGroup,t,n.filters,n.limit,i,e)}}function q_(n,t){let i=n.filters.concat([t]);return new Xi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),i,n.limit,n.limitType,n.startAt,n.endAt)}function Lh(n,t,i){return new Xi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,i,n.startAt,n.endAt)}function Zl(n,t){return Xl(ri(n),ri(t))&&n.limitType===t.limitType}function RC(n){return`${qo(ri(n))}|lt:${n.limitType}`}function oa(n){return`Query(target=${function(i){let e=i.path.canonicalString();return i.collectionGroup!==null&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(r=>SC(r)).join(", ")}]`),Yl(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(r=>pa(r)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(r=>pa(r)).join(",")),`Target(${e})`}(ri(n))}; limitType=${n.limitType})`}function Jl(n,t){return t.isFoundDocument()&&function(e,r){let o=r.key.path;return e.collectionGroup!==null?r.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(o):W.isDocumentKey(e.path)?e.path.isEqual(o):e.path.isImmediateParentOf(o)}(n,t)&&function(e,r){for(let o of ua(e))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(n,t)&&function(e,r){for(let o of e.filters)if(!o.matches(r))return!1;return!0}(n,t)&&function(e,r){return!(e.startAt&&!function(s,a,l){let d=bk(s,a,l);return s.inclusive?d<=0:d<0}(e.startAt,ua(e),r)||e.endAt&&!function(s,a,l){let d=bk(s,a,l);return s.inclusive?d>=0:d>0}(e.endAt,ua(e),r))}(n,t)}function MC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function PC(n){return(t,i)=>{let e=!1;for(let r of ua(n)){let o=PN(r,t,i);if(o!==0)return o;e=e||r.field.isKeyField()}return 0}}function PN(n,t,i){let e=n.field.isKeyField()?W.comparator(t.key,i.key):function(o,s,a){let l=s.data.field(o),d=a.data.field(o);return l!==null&&d!==null?Br(l,d):et()}(n.field,t,i);switch(n.dir){case"asc":return e;case"desc":return-1*e;default:return et()}}var xn=class{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){let i=this.mapKeyFn(t),e=this.inner[i];if(e!==void 0){for(let[r,o]of e)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,i){let e=this.mapKeyFn(t),r=this.inner[e];if(r===void 0)return this.inner[e]=[[t,i]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,i]);r.push([t,i]),this.innerSize++}delete(t){let i=this.mapKeyFn(t),e=this.inner[i];if(e===void 0)return!1;for(let r=0;r<e.length;r++)if(this.equalsFn(e[r][0],t))return e.length===1?delete this.inner[i]:e.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Xo(this.inner,(i,e)=>{for(let[r,o]of e)t(r,o)})}isEmpty(){return wC(this.inner)}size(){return this.innerSize}};var ON=new Kt(W.comparator);function fi(){return ON}var OC=new Kt(W.comparator);function wl(...n){let t=OC;for(let i of n)t=t.insert(i.key,i);return t}function FC(n){let t=OC;return n.forEach((i,e)=>t=t.insert(i,e.overlayedDocument)),t}function gn(){return Il()}function NC(){return Il()}function Il(){return new xn(n=>n.toString(),(n,t)=>n.isEqual(t))}var FN=new Kt(W.comparator),NN=new qt(W.comparator);function yt(...n){let t=NN;for(let i of n)t=t.add(i);return t}var LN=new qt(vt);function xv(){return LN}function LC(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dl(t)?"-0":t}}function VC(n){return{integerValue:""+n}}function jC(n,t){return pC(t)?VC(t):LC(n,t)}var _a=class{constructor(){this._=void 0}};function VN(n,t,i){return n instanceof zr?function(r,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&xm(o)&&(o=vv(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(i,t):n instanceof Gn?zC(n,t):n instanceof Wn?UC(n,t):function(r,o){let s=BC(r,o),a=Ek(s)+Ek(r.Pe);return M_(s)&&M_(r.Pe)?VC(a):LC(r.serializer,a)}(n,t)}function jN(n,t,i){return n instanceof Gn?zC(n,t):n instanceof Wn?UC(n,t):i}function BC(n,t){return n instanceof Ur?function(e){return M_(e)||function(o){return!!o&&"doubleValue"in o}(e)}(t)?t:{integerValue:0}:null}var zr=class extends _a{},Gn=class extends _a{constructor(t){super(),this.elements=t}};function zC(n,t){let i=qC(t);for(let e of n.elements)i.some(r=>yn(r,e))||i.push(e);return{arrayValue:{values:i}}}var Wn=class extends _a{constructor(t){super(),this.elements=t}};function UC(n,t){let i=qC(t);for(let e of n.elements)i=i.filter(r=>!yn(r,e));return{arrayValue:{values:i}}}var Ur=class extends _a{constructor(t,i){super(),this.serializer=t,this.Pe=i}};function Ek(n){return ue(n.integerValue||n.doubleValue)}function qC(n){return Pl(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var $o=class{constructor(t,i){this.field=t,this.transform=i}};function BN(n,t){return n.field.isEqual(t.field)&&function(e,r){return e instanceof Gn&&r instanceof Gn||e instanceof Wn&&r instanceof Wn?ma(e.elements,r.elements,yn):e instanceof Ur&&r instanceof Ur?yn(e.Pe,r.Pe):e instanceof zr&&r instanceof zr}(n.transform,t.transform)}var $_=class{constructor(t,i){this.version=t,this.transformResults=i}},he=class n{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new n}static exists(t){return new n(void 0,t)}static updateTime(t){return new n(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}};function Eh(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}var ba=class{};function $C(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new $r(n.key,he.none()):new qr(n.key,n.data,he.none());{let i=n.data,e=We.empty(),r=new qt(pe.comparator);for(let o of t.fields)if(!r.has(o)){let s=i.field(o);s===null&&o.length>1&&(o=o.popLast(),s=i.field(o)),s===null?e.delete(o):e.set(o,s),r=r.add(o)}return new Zi(n.key,e,new Ti(r.toArray()),he.none())}}function zN(n,t,i){n instanceof qr?function(r,o,s){let a=r.value.clone(),l=kk(r.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,t,i):n instanceof Zi?function(r,o,s){if(!Eh(r.precondition,o))return void o.convertToUnknownDocument(s.version);let a=kk(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(HC(r)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,t,i):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,i)}function kl(n,t,i,e){return n instanceof qr?function(o,s,a,l){if(!Eh(o.precondition,s))return a;let d=o.value.clone(),h=Ck(o.fieldTransforms,l,s);return d.setAll(h),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(n,t,i,e):n instanceof Zi?function(o,s,a,l){if(!Eh(o.precondition,s))return a;let d=Ck(o.fieldTransforms,l,s),h=s.data;return h.setAll(HC(o)),h.setAll(d),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(n,t,i,e):function(o,s,a){return Eh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,t,i)}function UN(n,t){let i=null;for(let e of n.fieldTransforms){let r=t.data.field(e.field),o=BC(e.transform,r||null);o!=null&&(i===null&&(i=We.empty()),i.set(e.field,o))}return i||null}function Ik(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(e,r){return e===void 0&&r===void 0||!(!e||!r)&&ma(e,r,(o,s)=>BN(o,s))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}var qr=class extends ba{constructor(t,i,e,r=[]){super(),this.key=t,this.value=i,this.precondition=e,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Zi=class extends ba{constructor(t,i,e,r,o=[]){super(),this.key=t,this.data=i,this.fieldMask=e,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function HC(n){let t=new Map;return n.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){let e=n.data.field(i);t.set(i,e)}}),t}function kk(n,t,i){let e=new Map;at(n.length===i.length);for(let r=0;r<i.length;r++){let o=n[r],s=o.transform,a=t.data.field(o.field);e.set(o.field,jN(s,a,i[r]))}return e}function Ck(n,t,i){let e=new Map;for(let r of n){let o=r.transform,s=i.data.field(r.field);e.set(r.field,VN(o,s,t))}return e}var $r=class extends ba{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Ol=class extends ba{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Fl=class{constructor(t,i,e,r){this.batchId=t,this.localWriteTime=i,this.baseMutations=e,this.mutations=r}applyToRemoteDocument(t,i){let e=i.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(t.key)&&zN(o,t,e[r])}}applyToLocalView(t,i){for(let e of this.baseMutations)e.key.isEqual(t.key)&&(i=kl(e,t,i,this.localWriteTime));for(let e of this.mutations)e.key.isEqual(t.key)&&(i=kl(e,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){let e=NC();return this.mutations.forEach(r=>{let o=t.get(r.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=i.has(r.key)?null:a;let l=$C(s,a);l!==null&&e.set(r.key,l),s.isValidDocument()||s.convertToNoDocument(ut.min())}),e}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),yt())}isEqual(t){return this.batchId===t.batchId&&ma(this.mutations,t.mutations,(i,e)=>Ik(i,e))&&ma(this.baseMutations,t.baseMutations,(i,e)=>Ik(i,e))}},H_=class n{constructor(t,i,e,r){this.batch=t,this.commitVersion=i,this.mutationResults=e,this.docVersions=r}static from(t,i,e){at(t.mutations.length===e.length);let r=function(){return FN}(),o=t.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,e[s].version);return new n(t,i,e,r)}};var Nl=class{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var G_=class{constructor(t,i){this.count=t,this.unchangedNames=i}};var ve,Dt;function GC(n){switch(n){default:return et();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function WC(n){if(n===void 0)return fe("GRPC error has no .code"),N.UNKNOWN;switch(n){case ve.OK:return N.OK;case ve.CANCELLED:return N.CANCELLED;case ve.UNKNOWN:return N.UNKNOWN;case ve.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case ve.INTERNAL:return N.INTERNAL;case ve.UNAVAILABLE:return N.UNAVAILABLE;case ve.UNAUTHENTICATED:return N.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case ve.NOT_FOUND:return N.NOT_FOUND;case ve.ALREADY_EXISTS:return N.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return N.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case ve.ABORTED:return N.ABORTED;case ve.OUT_OF_RANGE:return N.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return N.UNIMPLEMENTED;case ve.DATA_LOSS:return N.DATA_LOSS;default:return et()}}(Dt=ve||(ve={}))[Dt.OK=0]="OK",Dt[Dt.CANCELLED=1]="CANCELLED",Dt[Dt.UNKNOWN=2]="UNKNOWN",Dt[Dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dt[Dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dt[Dt.NOT_FOUND=5]="NOT_FOUND",Dt[Dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dt[Dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dt[Dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dt[Dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dt[Dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dt[Dt.ABORTED=10]="ABORTED",Dt[Dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dt[Dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dt[Dt.INTERNAL=13]="INTERNAL",Dt[Dt.UNAVAILABLE=14]="UNAVAILABLE",Dt[Dt.DATA_LOSS=15]="DATA_LOSS";var Tk=null;function KC(){return new TextEncoder}var qN=new Dr([4294967295,4294967295],0);function Sk(n){let t=KC().encode(n),i=new a_;return i.update(t),new Uint8Array(i.digest())}function Dk(n){let t=new DataView(n.buffer),i=t.getUint32(0,!0),e=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Dr([i,e],0),new Dr([r,o],0)]}var W_=class n{constructor(t,i,e){if(this.bitmap=t,this.padding=i,this.hashCount=e,i<0||i>=8)throw new Vo(`Invalid padding: ${i}`);if(e<0)throw new Vo(`Invalid hash count: ${e}`);if(t.length>0&&this.hashCount===0)throw new Vo(`Invalid hash count: ${e}`);if(t.length===0&&i!==0)throw new Vo(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*t.length-i,this.Te=Dr.fromNumber(this.Ie)}Ee(t,i,e){let r=t.add(i.multiply(Dr.fromNumber(e)));return r.compare(qN)===1&&(r=new Dr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;let i=Sk(t),[e,r]=Dk(i);for(let o=0;o<this.hashCount;o++){let s=this.Ee(e,r,o);if(!this.de(s))return!1}return!0}static create(t,i,e){let r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new n(o,r,i);return e.forEach(a=>s.insert(a)),s}insert(t){if(this.Ie===0)return;let i=Sk(t),[e,r]=Dk(i);for(let o=0;o<this.hashCount;o++){let s=this.Ee(e,r,o);this.Ae(s)}}Ae(t){let i=Math.floor(t/8),e=t%8;this.bitmap[i]|=1<<e}},Vo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ll=class n{constructor(t,i,e,r,o){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=e,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,i,e){let r=new Map;return r.set(t,Vl.createSynthesizedTargetChangeForCurrentChange(t,i,e)),new n(ut.min(),r,new Kt(vt),fi(),yt())}},Vl=class n{constructor(t,i,e,r,o){this.resumeToken=t,this.current=i,this.addedDocuments=e,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,i,e){return new n(e,i,yt(),yt(),yt())}};var ha=class{constructor(t,i,e,r){this.Re=t,this.removedTargetIds=i,this.key=e,this.Ve=r}},Vh=class{constructor(t,i){this.targetId=t,this.me=i}},jh=class{constructor(t,i,e=Pe.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=i,this.resumeToken=e,this.cause=r}},Bh=class{constructor(){this.fe=0,this.ge=Rk(),this.pe=Pe.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}Ce(){let t=yt(),i=yt(),e=yt();return this.ge.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:i=i.add(r);break;case 1:e=e.add(r);break;default:et()}}),new Vl(this.pe,this.ye,t,i,e)}ve(){this.we=!1,this.ge=Rk()}Fe(t,i){this.we=!0,this.ge=this.ge.insert(t,i)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,at(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},K_=class{constructor(t){this.Le=t,this.Be=new Map,this.ke=fi(),this.qe=Ak(),this.Qe=new Kt(vt)}Ke(t){for(let i of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(i,t.Ve):this.Ue(i,t.key,t.Ve);for(let i of t.removedTargetIds)this.Ue(i,t.key,t.Ve)}We(t){this.forEachTarget(t,i=>{let e=this.Ge(i);switch(t.state){case 0:this.ze(i)&&e.De(t.resumeToken);break;case 1:e.Oe(),e.Se||e.ve(),e.De(t.resumeToken);break;case 2:e.Oe(),e.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(e.Ne(),e.De(t.resumeToken));break;case 4:this.ze(i)&&(this.je(i),e.De(t.resumeToken));break;default:et()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Be.forEach((e,r)=>{this.ze(r)&&i(r)})}He(t){let i=t.targetId,e=t.me.count,r=this.Je(i);if(r){let o=r.target;if(Fh(o))if(e===0){let s=new W(o.path);this.Ue(i,s,Ee.newNoDocument(s,ut.min()))}else at(e===1);else{let s=this.Ye(i);if(s!==e){let a=this.Ze(t),l=a?this.Xe(a,t,s):1;if(l!==0){this.je(i);let d=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(i,d)}Tk?.et(function(h,f,g,_,S){var O,M,K,it,U,nt;let ft={localCacheCount:h,existenceFilterCount:f.count,databaseId:g.database,projectId:g.projectId},pt=f.unchangedNames;return pt&&(ft.bloomFilter={applied:S===0,hashCount:(O=pt?.hashCount)!==null&&O!==void 0?O:0,bitmapLength:(it=(K=(M=pt?.bits)===null||M===void 0?void 0:M.bitmap)===null||K===void 0?void 0:K.length)!==null&&it!==void 0?it:0,padding:(nt=(U=pt?.bits)===null||U===void 0?void 0:U.padding)!==null&&nt!==void 0?nt:0,mightContain:x=>{var b;return(b=_?.mightContain(x))!==null&&b!==void 0&&b}}),ft}(s,t.me,this.Le.tt(),a,l))}}}}Ze(t){let i=t.me.unchangedNames;if(!i||!i.bits)return null;let{bits:{bitmap:e="",padding:r=0},hashCount:o=0}=i,s,a;try{s=Vr(e).toUint8Array()}catch(l){if(l instanceof Mh)return Vi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new W_(s,r,o)}catch(l){return Vi(l instanceof Vo?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(t,i,e){return i.me.count===e-this.nt(t,i.targetId)?0:2}nt(t,i){let e=this.Le.getRemoteKeysForTarget(i),r=0;return e.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(a)||(this.Ue(i,o,null),r++)}),r}rt(t){let i=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&Fh(a.target)){let l=new W(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,Ee.newNoDocument(l,t))}o.be&&(i.set(s,o.Ce()),o.ve())}});let e=yt();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{let d=this.Je(l);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(e=e.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(t));let r=new Ll(t,i,this.Qe,this.ke,e);return this.ke=fi(),this.qe=Ak(),this.Qe=new Kt(vt),r}$e(t,i){if(!this.ze(t))return;let e=this.it(t,i.key)?2:0;this.Ge(t).Fe(i.key,e),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(t))}Ue(t,i,e){if(!this.ze(t))return;let r=this.Ge(t);this.it(t,i)?r.Fe(i,1):r.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(t)),e&&(this.ke=this.ke.insert(i,e))}removeTarget(t){this.Be.delete(t)}Ye(t){let i=this.Ge(t).Ce();return this.Le.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let i=this.Be.get(t);return i||(i=new Bh,this.Be.set(t,i)),i}st(t){let i=this.qe.get(t);return i||(i=new qt(vt),this.qe=this.qe.insert(t,i)),i}ze(t){let i=this.Je(t)!==null;return i||j("WatchChangeAggregator","Detected inactive target",t),i}Je(t){let i=this.Be.get(t);return i&&i.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new Bh),this.Le.getRemoteKeysForTarget(t).forEach(i=>{this.Ue(t,i,null)})}it(t,i){return this.Le.getRemoteKeysForTarget(t).has(i)}};function Ak(){return new Kt(W.comparator)}function Rk(){return new Kt(W.comparator)}var $N={asc:"ASCENDING",desc:"DESCENDING"},HN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GN={and:"AND",or:"OR"},Q_=class{constructor(t,i){this.databaseId=t,this.useProto3Json=i}};function Y_(n,t){return n.useProto3Json||Yl(t)?t:{value:t}}function va(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function QC(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function WN(n,t){return va(n,t.toTimestamp())}function ge(n){return at(!!n),ut.fromTimestamp(function(i){let e=Hn(i);return new ne(e.seconds,e.nanos)}(n))}function Ev(n,t){return X_(n,t).canonicalString()}function X_(n,t){let i=function(r){return new At(["projects",r.projectId,"databases",r.database])}(n).child("documents");return t===void 0?i:i.child(t)}function YC(n){let t=At.fromString(n);return at(sT(t)),t}function jl(n,t){return Ev(n.databaseId,t.path)}function bn(n,t){let i=YC(t);if(i.get(1)!==n.databaseId.projectId)throw new L(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+n.databaseId.projectId);if(i.get(3)!==n.databaseId.database)throw new L(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+n.databaseId.database);return new W(JC(i))}function XC(n,t){return Ev(n.databaseId,t)}function ZC(n){let t=YC(n);return t.length===4?At.emptyPath():JC(t)}function Z_(n){return new At(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function JC(n){return at(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Mk(n,t,i){return{name:jl(n,t),fields:i.value.mapValue.fields}}function tT(n,t,i){let e=bn(n,t.name),r=ge(t.updateTime),o=t.createTime?ge(t.createTime):ut.min(),s=new We({mapValue:{fields:t.fields}}),a=Ee.newFoundDocument(e,r,o,s);return i&&a.setHasCommittedMutations(),i?a.setHasCommittedMutations():a}function KN(n,t){return"found"in t?function(e,r){at(!!r.found),r.found.name,r.found.updateTime;let o=bn(e,r.found.name),s=ge(r.found.updateTime),a=r.found.createTime?ge(r.found.createTime):ut.min(),l=new We({mapValue:{fields:r.found.fields}});return Ee.newFoundDocument(o,s,a,l)}(n,t):"missing"in t?function(e,r){at(!!r.missing),at(!!r.readTime);let o=bn(e,r.missing),s=ge(r.readTime);return Ee.newNoDocument(o,s)}(n,t):et()}function QN(n,t){let i;if("targetChange"in t){t.targetChange;let e=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:et()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=function(d,h){return d.useProto3Json?(at(h===void 0||typeof h=="string"),Pe.fromBase64String(h||"")):(at(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Pe.fromUint8Array(h||new Uint8Array))}(n,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(d){let h=d.code===void 0?N.UNKNOWN:WC(d.code);return new L(h,d.message||"")}(s);i=new jh(e,r,o,a||null)}else if("documentChange"in t){t.documentChange;let e=t.documentChange;e.document,e.document.name,e.document.updateTime;let r=bn(n,e.document.name),o=ge(e.document.updateTime),s=e.document.createTime?ge(e.document.createTime):ut.min(),a=new We({mapValue:{fields:e.document.fields}}),l=Ee.newFoundDocument(r,o,s,a),d=e.targetIds||[],h=e.removedTargetIds||[];i=new ha(d,h,l.key,l)}else if("documentDelete"in t){t.documentDelete;let e=t.documentDelete;e.document;let r=bn(n,e.document),o=e.readTime?ge(e.readTime):ut.min(),s=Ee.newNoDocument(r,o),a=e.removedTargetIds||[];i=new ha([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;let e=t.documentRemove;e.document;let r=bn(n,e.document),o=e.removedTargetIds||[];i=new ha([],o,r,null)}else{if(!("filter"in t))return et();{t.filter;let e=t.filter;e.targetId;let{count:r=0,unchangedNames:o}=e,s=new G_(r,o),a=e.targetId;i=new Vh(a,s)}}return i}function Bl(n,t){let i;if(t instanceof qr)i={update:Mk(n,t.key,t.value)};else if(t instanceof $r)i={delete:jl(n,t.key)};else if(t instanceof Zi)i={update:Mk(n,t.key,t.data),updateMask:e2(t.fieldMask)};else{if(!(t instanceof Ol))return et();i={verify:jl(n,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(e=>function(o,s){let a=s.transform;if(a instanceof zr)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Gn)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Wn)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ur)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw et()}(0,e))),t.precondition.isNone||(i.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:WN(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:et()}(n,t.precondition)),i}function J_(n,t){let i=t.currentDocument?function(o){return o.updateTime!==void 0?he.updateTime(ge(o.updateTime)):o.exists!==void 0?he.exists(o.exists):he.none()}(t.currentDocument):he.none(),e=t.updateTransforms?t.updateTransforms.map(r=>function(s,a){let l=null;if("setToServerValue"in a)at(a.setToServerValue==="REQUEST_TIME"),l=new zr;else if("appendMissingElements"in a){let h=a.appendMissingElements.values||[];l=new Gn(h)}else if("removeAllFromArray"in a){let h=a.removeAllFromArray.values||[];l=new Wn(h)}else"increment"in a?l=new Ur(s,a.increment):et();let d=pe.fromServerFormat(a.fieldPath);return new $o(d,l)}(n,r)):[];if(t.update){t.update.name;let r=bn(n,t.update.name),o=new We({mapValue:{fields:t.update.fields}});if(t.updateMask){let s=function(l){let d=l.fieldPaths||[];return new Ti(d.map(h=>pe.fromServerFormat(h)))}(t.updateMask);return new Zi(r,o,s,i,e)}return new qr(r,o,i,e)}if(t.delete){let r=bn(n,t.delete);return new $r(r,i)}if(t.verify){let r=bn(n,t.verify);return new Ol(r,i)}return et()}function YN(n,t){return n&&n.length>0?(at(t!==void 0),n.map(i=>function(r,o){let s=r.updateTime?ge(r.updateTime):ge(o);return s.isEqual(ut.min())&&(s=ge(o)),new $_(s,r.transformResults||[])}(i,t))):[]}function eT(n,t){return{documents:[XC(n,t.path)]}}function iT(n,t){let i={structuredQuery:{}},e=t.path,r;t.collectionGroup!==null?(r=e,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=e.popLast(),i.structuredQuery.from=[{collectionId:e.lastSegment()}]),i.parent=XC(n,r);let o=function(d){if(d.length!==0)return oT(Bt.create(d,"and"))}(t.filters);o&&(i.structuredQuery.where=o);let s=function(d){if(d.length!==0)return d.map(h=>function(g){return{field:sa(g.field),direction:ZN(g.dir)}}(h))}(t.orderBy);s&&(i.structuredQuery.orderBy=s);let a=Y_(n,t.limit);return a!==null&&(i.structuredQuery.limit=a),t.startAt&&(i.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(t.endAt)),{_t:i,parent:r}}function nT(n){let t=ZC(n.parent),i=n.structuredQuery,e=i.from?i.from.length:0,r=null;if(e>0){at(e===1);let h=i.from[0];h.allDescendants?r=h.collectionId:t=t.child(h.collectionId)}let o=[];i.where&&(o=function(f){let g=rT(f);return g instanceof Bt&&yv(g)?g.getFilters():[g]}(i.where));let s=[];i.orderBy&&(s=function(f){return f.map(g=>function(S){return new Uo(aa(S.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(g))}(i.orderBy));let a=null;i.limit&&(a=function(f){let g;return g=typeof f=="object"?f.value:f,Yl(g)?null:g}(i.limit));let l=null;i.startAt&&(l=function(f){let g=!!f.before,_=f.values||[];return new wn(_,g)}(i.startAt));let d=null;return i.endAt&&(d=function(f){let g=!f.before,_=f.values||[];return new wn(_,g)}(i.endAt)),AC(t,r,s,o,a,"F",l,d)}function XN(n,t){let i=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return et()}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function rT(n){return n.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":let e=aa(i.unaryFilter.field);return kt.create(e,"==",{doubleValue:NaN});case"IS_NULL":let r=aa(i.unaryFilter.field);return kt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=aa(i.unaryFilter.field);return kt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=aa(i.unaryFilter.field);return kt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return et()}}(n):n.fieldFilter!==void 0?function(i){return kt.create(aa(i.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return et()}}(i.fieldFilter.op),i.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(i){return Bt.create(i.compositeFilter.filters.map(e=>rT(e)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return et()}}(i.compositeFilter.op))}(n):et()}function ZN(n){return $N[n]}function JN(n){return HN[n]}function t2(n){return GN[n]}function sa(n){return{fieldPath:n.canonicalString()}}function aa(n){return pe.fromServerFormat(n.fieldPath)}function oT(n){return n instanceof kt?function(i){if(i.op==="=="){if(pk(i.value))return{unaryFilter:{field:sa(i.field),op:"IS_NAN"}};if(fk(i.value))return{unaryFilter:{field:sa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(pk(i.value))return{unaryFilter:{field:sa(i.field),op:"IS_NOT_NAN"}};if(fk(i.value))return{unaryFilter:{field:sa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sa(i.field),op:JN(i.op),value:i.value}}}(n):n instanceof Bt?function(i){let e=i.getFilters().map(r=>oT(r));return e.length===1?e[0]:{compositeFilter:{op:t2(i.op),filters:e}}}(n):et()}function e2(n){let t=[];return n.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function sT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var ya=class n{constructor(t,i,e,r,o=ut.min(),s=ut.min(),a=Pe.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=i,this.purpose=e,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new n(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}};var zh=class{constructor(t){this.ct=t}};function i2(n,t){let i;if(t.document)i=tT(n.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){let e=W.fromSegments(t.noDocument.path),r=Go(t.noDocument.readTime);i=Ee.newNoDocument(e,r),t.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!t.unknownDocument)return et();{let e=W.fromSegments(t.unknownDocument.path),r=Go(t.unknownDocument.version);i=Ee.newUnknownDocument(e,r)}}return t.readTime&&i.setReadTime(function(r){let o=new ne(r[0],r[1]);return ut.fromTimestamp(o)}(t.readTime)),i}function Pk(n,t){let i=t.key,e={prefixPath:i.getCollectionPath().popLast().toArray(),collectionGroup:i.collectionGroup,documentId:i.path.lastSegment(),readTime:Uh(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())e.document=function(o,s){return{name:jl(o,s.key),fields:s.data.value.mapValue.fields,updateTime:va(o,s.version.toTimestamp()),createTime:va(o,s.createTime.toTimestamp())}}(n.ct,t);else if(t.isNoDocument())e.noDocument={path:i.path.toArray(),readTime:Ho(t.version)};else{if(!t.isUnknownDocument())return et();e.unknownDocument={path:i.path.toArray(),version:Ho(t.version)}}return e}function Uh(n){let t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Ho(n){let t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Go(n){let t=new ne(n.seconds,n.nanoseconds);return ut.fromTimestamp(t)}function Fo(n,t){let i=(t.baseMutations||[]).map(o=>J_(n.ct,o));for(let o=0;o<t.mutations.length-1;++o){let s=t.mutations[o];if(o+1<t.mutations.length&&t.mutations[o+1].transform!==void 0){let a=t.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}let e=t.mutations.map(o=>J_(n.ct,o)),r=ne.fromMillis(t.localWriteTimeMs);return new Fl(t.batchId,r,i,e)}function xl(n){let t=Go(n.readTime),i=n.lastLimboFreeSnapshotVersion!==void 0?Go(n.lastLimboFreeSnapshotVersion):ut.min(),e;return e=function(o){return o.documents!==void 0}(n.query)?function(o){return at(o.documents.length===1),ri(Ra(ZC(o.documents[0])))}(n.query):function(o){return ri(nT(o))}(n.query),new ya(e,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,i,Pe.fromBase64String(n.resumeToken))}function aT(n,t){let i=Ho(t.snapshotVersion),e=Ho(t.lastLimboFreeSnapshotVersion),r;r=Fh(t.target)?eT(n.ct,t.target):iT(n.ct,t.target)._t;let o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:qo(t.target),readTime:i,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:e,query:r}}function Iv(n){let t=nT({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Lh(t,t.limit,"L"):t}function f_(n,t){return new Nl(t.largestBatchId,J_(n.ct,t.overlayMutation))}function Ok(n,t){let i=t.path.lastSegment();return[n,ni(t.path.popLast()),i]}function Fk(n,t,i,e){return{indexId:n,uid:t,sequenceNumber:i,readTime:Ho(e.readTime),documentKey:ni(e.documentKey.path),largestBatchId:e.largestBatchId}}var tb=class{getBundleMetadata(t,i){return Nk(t).get(i).next(e=>{if(e)return function(o){return{id:o.bundleId,createTime:Go(o.createTime),version:o.version}}(e)})}saveBundleMetadata(t,i){return Nk(t).put(function(r){return{bundleId:r.id,createTime:Ho(ge(r.createTime)),version:r.version}}(i))}getNamedQuery(t,i){return Lk(t).get(i).next(e=>{if(e)return function(o){return{name:o.name,query:Iv(o.bundledQuery),readTime:Go(o.readTime)}}(e)})}saveNamedQuery(t,i){return Lk(t).put(function(r){return{name:r.name,readTime:Ho(ge(r.readTime)),bundledQuery:r.bundledQuery}}(i))}};function Nk(n){return Oe(n,"bundles")}function Lk(n){return Oe(n,"namedQueries")}var qh=class n{constructor(t,i){this.serializer=t,this.userId=i}static lt(t,i){let e=i.uid||"";return new n(t,e)}getOverlay(t,i){return _l(t).get(Ok(this.userId,i)).next(e=>e?f_(this.serializer,e):null)}getOverlays(t,i){let e=gn();return P.forEach(i,r=>this.getOverlay(t,r).next(o=>{o!==null&&e.set(r,o)})).next(()=>e)}saveOverlays(t,i,e){let r=[];return e.forEach((o,s)=>{let a=new Nl(i,s);r.push(this.ht(t,a))}),P.waitFor(r)}removeOverlaysForBatchId(t,i,e){let r=new Set;i.forEach(s=>r.add(ni(s.getCollectionPath())));let o=[];return r.forEach(s=>{let a=IDBKeyRange.bound([this.userId,s,e],[this.userId,s,e+1],!1,!0);o.push(_l(t).j("collectionPathOverlayIndex",a))}),P.waitFor(o)}getOverlaysForCollection(t,i,e){let r=gn(),o=ni(i),s=IDBKeyRange.bound([this.userId,o,e],[this.userId,o,Number.POSITIVE_INFINITY],!0);return _l(t).U("collectionPathOverlayIndex",s).next(a=>{for(let l of a){let d=f_(this.serializer,l);r.set(d.getKey(),d)}return r})}getOverlaysForCollectionGroup(t,i,e,r){let o=gn(),s,a=IDBKeyRange.bound([this.userId,i,e],[this.userId,i,Number.POSITIVE_INFINITY],!0);return _l(t).J({index:"collectionGroupOverlayIndex",range:a},(l,d,h)=>{let f=f_(this.serializer,d);o.size()<r||f.largestBatchId===s?(o.set(f.getKey(),f),s=f.largestBatchId):h.done()}).next(()=>o)}ht(t,i){return _l(t).put(function(r,o,s){let[a,l,d]=Ok(o,s.mutation.key);return{userId:o,collectionPath:l,documentId:d,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Bl(r.ct,s.mutation)}}(this.serializer,this.userId,i))}};function _l(n){return Oe(n,"documentOverlays")}var qn=class{constructor(){}Pt(t,i){this.It(t,i),i.Tt()}It(t,i){if("nullValue"in t)this.Et(i,5);else if("booleanValue"in t)this.Et(i,10),i.dt(t.booleanValue?1:0);else if("integerValue"in t)this.Et(i,15),i.dt(ue(t.integerValue));else if("doubleValue"in t){let e=ue(t.doubleValue);isNaN(e)?this.Et(i,13):(this.Et(i,15),Dl(e)?i.dt(0):i.dt(e))}else if("timestampValue"in t){let e=t.timestampValue;this.Et(i,20),typeof e=="string"&&(e=Hn(e)),i.At(`${e.seconds||""}`),i.dt(e.nanos||0)}else if("stringValue"in t)this.Rt(t.stringValue,i),this.Vt(i);else if("bytesValue"in t)this.Et(i,30),i.ft(Vr(t.bytesValue)),this.Vt(i);else if("referenceValue"in t)this.gt(t.referenceValue,i);else if("geoPointValue"in t){let e=t.geoPointValue;this.Et(i,45),i.dt(e.latitude||0),i.dt(e.longitude||0)}else"mapValue"in t?EC(t)?this.Et(i,Number.MAX_SAFE_INTEGER):(this.yt(t.mapValue,i),this.Vt(i)):"arrayValue"in t?(this.wt(t.arrayValue,i),this.Vt(i)):et()}Rt(t,i){this.Et(i,25),this.St(t,i)}St(t,i){i.At(t)}yt(t,i){let e=t.fields||{};this.Et(i,55);for(let r of Object.keys(e))this.Rt(r,i),this.It(e[r],i)}wt(t,i){let e=t.values||[];this.Et(i,50);for(let r of e)this.It(r,i)}gt(t,i){this.Et(i,37),W.fromName(t).path.forEach(e=>{this.Et(i,60),this.St(e,i)})}Et(t,i){t.dt(i)}Vt(t){t.dt(2)}};qn.bt=new qn;function n2(n){if(n===0)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function Vk(n){let t=64-function(e){let r=0;for(let o=0;o<8;++o){let s=n2(255&e[o]);if(r+=s,s!==8)break}return r}(n);return Math.ceil(t/8)}var eb=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(t){let i=t[Symbol.iterator](),e=i.next();for(;!e.done;)this.Ct(e.value),e=i.next();this.vt()}Ft(t){let i=t[Symbol.iterator](),e=i.next();for(;!e.done;)this.Mt(e.value),e=i.next();this.xt()}Ot(t){for(let i of t){let e=i.charCodeAt(0);if(e<128)this.Ct(e);else if(e<2048)this.Ct(960|e>>>6),this.Ct(128|63&e);else if(i<"\uD800"||"\uDBFF"<i)this.Ct(480|e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e);else{let r=i.codePointAt(0);this.Ct(240|r>>>18),this.Ct(128|63&r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r)}}this.vt()}Nt(t){for(let i of t){let e=i.charCodeAt(0);if(e<128)this.Mt(e);else if(e<2048)this.Mt(960|e>>>6),this.Mt(128|63&e);else if(i<"\uD800"||"\uDBFF"<i)this.Mt(480|e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e);else{let r=i.codePointAt(0);this.Mt(240|r>>>18),this.Mt(128|63&r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r)}}this.xt()}Lt(t){let i=this.Bt(t),e=Vk(i);this.kt(1+e),this.buffer[this.position++]=255&e;for(let r=i.length-e;r<i.length;++r)this.buffer[this.position++]=255&i[r]}qt(t){let i=this.Bt(t),e=Vk(i);this.kt(1+e),this.buffer[this.position++]=~(255&e);for(let r=i.length-e;r<i.length;++r)this.buffer[this.position++]=~(255&i[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(t){this.kt(t.length),this.buffer.set(t,this.position),this.position+=t.length}Wt(){return this.buffer.slice(0,this.position)}Bt(t){let i=function(o){let s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(t),e=(128&i[0])!=0;i[0]^=e?255:128;for(let r=1;r<i.length;++r)i[r]^=e?255:0;return i}Ct(t){let i=255&t;i===0?(this.Kt(0),this.Kt(255)):i===255?(this.Kt(255),this.Kt(0)):this.Kt(i)}Mt(t){let i=255&t;i===0?(this.Ut(0),this.Ut(255)):i===255?(this.Ut(255),this.Ut(0)):this.Ut(t)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(t){this.kt(1),this.buffer[this.position++]=t}Ut(t){this.kt(1),this.buffer[this.position++]=~t}kt(t){let i=t+this.position;if(i<=this.buffer.length)return;let e=2*this.buffer.length;e<i&&(e=i);let r=new Uint8Array(e);r.set(this.buffer),this.buffer=r}},ib=class{constructor(t){this.Gt=t}ft(t){this.Gt.Dt(t)}At(t){this.Gt.Ot(t)}dt(t){this.Gt.Lt(t)}Tt(){this.Gt.Qt()}},nb=class{constructor(t){this.Gt=t}ft(t){this.Gt.Ft(t)}At(t){this.Gt.Nt(t)}dt(t){this.Gt.qt(t)}Tt(){this.Gt.$t()}},No=class{constructor(){this.Gt=new eb,this.zt=new ib(this.Gt),this.jt=new nb(this.Gt)}seed(t){this.Gt.seed(t)}Ht(t){return t===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}};var Lo=class n{constructor(t,i,e,r){this.indexId=t,this.documentKey=i,this.arrayValue=e,this.directionalValue=r}Jt(){let t=this.directionalValue.length,i=t===0||this.directionalValue[t-1]===255?t+1:t,e=new Uint8Array(i);return e.set(this.directionalValue,0),i!==t?e.set([0],this.directionalValue.length):++e[e.length-1],new n(this.indexId,this.documentKey,this.arrayValue,e)}};function Ar(n,t){let i=n.indexId-t.indexId;return i!==0?i:(i=jk(n.arrayValue,t.arrayValue),i!==0?i:(i=jk(n.directionalValue,t.directionalValue),i!==0?i:W.comparator(n.documentKey,t.documentKey)))}function jk(n,t){for(let i=0;i<n.length&&i<t.length;++i){let e=n[i]-t[i];if(e!==0)return e}return n.length-t.length}var $h=class{constructor(t){this.Yt=new qt((i,e)=>pe.comparator(i.field,e.field)),this.collectionId=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment(),this.Zt=t.orderBy,this.Xt=[];for(let i of t.filters){let e=i;e.isInequality()?this.Yt=this.Yt.add(e):this.Xt.push(e)}}get en(){return this.Yt.size>1}tn(t){if(at(t.collectionGroup===this.collectionId),this.en)return!1;let i=k_(t);if(i!==void 0&&!this.nn(i))return!1;let e=Po(t),r=new Set,o=0,s=0;for(;o<e.length&&this.nn(e[o]);++o)r=r.add(e[o].fieldPath.canonicalString());if(o===e.length)return!0;if(this.Yt.size>0){let a=this.Yt.getIterator().getNext();if(!r.has(a.field.canonicalString())){let l=e[o];if(!this.rn(a,l)||!this.sn(this.Zt[s++],l))return!1}++o}for(;o<e.length;++o){let a=e[o];if(s>=this.Zt.length||!this.sn(this.Zt[s++],a))return!1}return!0}on(){if(this.en)return null;let t=new qt(pe.comparator),i=[];for(let e of this.Xt)if(!e.field.isKeyField())if(e.op==="array-contains"||e.op==="array-contains-any")i.push(new da(e.field,2));else{if(t.has(e.field))continue;t=t.add(e.field),i.push(new da(e.field,0))}for(let e of this.Zt)e.field.isKeyField()||t.has(e.field)||(t=t.add(e.field),i.push(new da(e.field,e.dir==="asc"?0:1)));return new fa(fa.UNKNOWN_ID,this.collectionId,i,Sl.empty())}nn(t){for(let i of this.Xt)if(this.rn(i,t))return!0;return!1}rn(t,i){if(t===void 0||!t.field.isEqual(i.fieldPath))return!1;let e=t.op==="array-contains"||t.op==="array-contains-any";return i.kind===2===e}sn(t,i){return!!t.field.isEqual(i.fieldPath)&&(i.kind===0&&t.dir==="asc"||i.kind===1&&t.dir==="desc")}};function cT(n){var t,i;if(at(n instanceof kt||n instanceof Bt),n instanceof kt){if(n instanceof Oh){let r=((i=(t=n.value.arrayValue)===null||t===void 0?void 0:t.values)===null||i===void 0?void 0:i.map(o=>kt.create(n.field,"==",o)))||[];return Bt.create(r,"or")}return n}let e=n.filters.map(r=>cT(r));return Bt.create(e,n.op)}function r2(n){if(n.getFilters().length===0)return[];let t=sb(cT(n));return at(lT(t)),rb(t)||ob(t)?[t]:t.getFilters()}function rb(n){return n instanceof kt}function ob(n){return n instanceof Bt&&yv(n)}function lT(n){return rb(n)||ob(n)||function(i){if(i instanceof Bt&&P_(i)){for(let e of i.getFilters())if(!rb(e)&&!ob(e))return!1;return!0}return!1}(n)}function sb(n){if(at(n instanceof kt||n instanceof Bt),n instanceof kt)return n;if(n.filters.length===1)return sb(n.filters[0]);let t=n.filters.map(e=>sb(e)),i=Bt.create(t,n.op);return i=Hh(i),lT(i)?i:(at(i instanceof Bt),at(ga(i)),at(i.filters.length>1),i.filters.reduce((e,r)=>kv(e,r)))}function kv(n,t){let i;return at(n instanceof kt||n instanceof Bt),at(t instanceof kt||t instanceof Bt),i=n instanceof kt?t instanceof kt?function(r,o){return Bt.create([r,o],"and")}(n,t):Bk(n,t):t instanceof kt?Bk(t,n):function(r,o){if(at(r.filters.length>0&&o.filters.length>0),ga(r)&&ga(o))return TC(r,o.getFilters());let s=P_(r)?r:o,a=P_(r)?o:r,l=s.filters.map(d=>kv(d,a));return Bt.create(l,"or")}(n,t),Hh(i)}function Bk(n,t){if(ga(t))return TC(t,n.getFilters());{let i=t.filters.map(e=>kv(n,e));return Bt.create(i,"or")}}function Hh(n){if(at(n instanceof kt||n instanceof Bt),n instanceof kt)return n;let t=n.getFilters();if(t.length===1)return Hh(t[0]);if(kC(n))return n;let i=t.map(r=>Hh(r)),e=[];return i.forEach(r=>{r instanceof kt?e.push(r):r instanceof Bt&&(r.op===n.op?e.push(...r.filters):e.push(r))}),e.length===1?e[0]:Bt.create(e,n.op)}var ab=class{constructor(){this._n=new zl}addToCollectionParentIndex(t,i){return this._n.add(i),P.resolve()}getCollectionParents(t,i){return P.resolve(this._n.getEntries(i))}addFieldIndex(t,i){return P.resolve()}deleteFieldIndex(t,i){return P.resolve()}deleteAllFieldIndexes(t){return P.resolve()}createTargetIndexes(t,i){return P.resolve()}getDocumentsMatchingTarget(t,i){return P.resolve(null)}getIndexType(t,i){return P.resolve(0)}getFieldIndexes(t,i){return P.resolve([])}getNextCollectionGroupToUpdate(t){return P.resolve(null)}getMinOffset(t,i){return P.resolve(ji.min())}getMinOffsetFromCollectionGroup(t,i){return P.resolve(ji.min())}updateCollectionGroup(t,i,e){return P.resolve()}updateIndexEntries(t,i){return P.resolve()}},zl=class{constructor(){this.index={}}add(t){let i=t.lastSegment(),e=t.popLast(),r=this.index[i]||new qt(At.comparator),o=!r.has(e);return this.index[i]=r.add(e),o}has(t){let i=t.lastSegment(),e=t.popLast(),r=this.index[i];return r&&r.has(e)}getEntries(t){return(this.index[t]||new qt(At.comparator)).toArray()}};var gh=new Uint8Array(0),cb=class{constructor(t,i){this.databaseId=i,this.an=new zl,this.un=new xn(e=>qo(e),(e,r)=>Xl(e,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,i){if(!this.an.has(i)){let e=i.lastSegment(),r=i.popLast();t.addOnCommittedListener(()=>{this.an.add(i)});let o={collectionId:e,parent:ni(r)};return zk(t).put(o)}return P.resolve()}getCollectionParents(t,i){let e=[],r=IDBKeyRange.bound([i,""],[dC(i),""],!1,!0);return zk(t).U(r).next(o=>{for(let s of o){if(s.collectionId!==i)break;e.push(pn(s.parent))}return e})}addFieldIndex(t,i){let e=bl(t),r=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(i);delete r.indexId;let o=e.add(r);if(i.indexState){let s=ia(t);return o.next(a=>{s.put(Fk(a,this.uid,i.indexState.sequenceNumber,i.indexState.offset))})}return o.next()}deleteFieldIndex(t,i){let e=bl(t),r=ia(t),o=ea(t);return e.delete(i.indexId).next(()=>r.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){let i=bl(t),e=ea(t),r=ia(t);return i.j().next(()=>e.j()).next(()=>r.j())}createTargetIndexes(t,i){return P.forEach(this.cn(i),e=>this.getIndexType(t,e).next(r=>{if(r===0||r===1){let o=new $h(e).on();if(o!=null)return this.addFieldIndex(t,o)}}))}getDocumentsMatchingTarget(t,i){let e=ea(t),r=!0,o=new Map;return P.forEach(this.cn(i),s=>this.ln(t,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=yt(),a=[];return P.forEach(o,(l,d)=>{j("IndexedDbIndexManager",`Using index ${function(U){return`id=${U.indexId}|cg=${U.collectionGroup}|f=${U.fields.map(nt=>`${nt.fieldPath}:${nt.kind}`).join(",")}`}(l)} to execute ${qo(i)}`);let h=function(U,nt){let ft=k_(nt);if(ft===void 0)return null;for(let pt of Nh(U,ft.fieldPath))switch(pt.op){case"array-contains-any":return pt.value.arrayValue.values||[];case"array-contains":return[pt.value]}return null}(d,l),f=function(U,nt){let ft=new Map;for(let pt of Po(nt))for(let x of Nh(U,pt.fieldPath))switch(x.op){case"==":case"in":ft.set(pt.fieldPath.canonicalString(),x.value);break;case"not-in":case"!=":return ft.set(pt.fieldPath.canonicalString(),x.value),Array.from(ft.values())}return null}(d,l),g=function(U,nt){let ft=[],pt=!0;for(let x of Po(nt)){let b=x.kind===0?yk(U,x.fieldPath,U.startAt):wk(U,x.fieldPath,U.startAt);ft.push(b.value),pt&&(pt=b.inclusive)}return new wn(ft,pt)}(d,l),_=function(U,nt){let ft=[],pt=!0;for(let x of Po(nt)){let b=x.kind===0?wk(U,x.fieldPath,U.endAt):yk(U,x.fieldPath,U.endAt);ft.push(b.value),pt&&(pt=b.inclusive)}return new wn(ft,pt)}(d,l),S=this.hn(l,d,g),O=this.hn(l,d,_),M=this.Pn(l,d,f),K=this.In(l.indexId,h,S,g.inclusive,O,_.inclusive,M);return P.forEach(K,it=>e.G(it,i.limit).next(U=>{U.forEach(nt=>{let ft=W.fromSegments(nt.documentKey);s.has(ft)||(s=s.add(ft),a.push(ft))})}))}).next(()=>a)}return P.resolve(null)})}cn(t){let i=this.un.get(t);return i||(t.filters.length===0?i=[t]:i=r2(Bt.create(t.filters,"and")).map(e=>U_(t.path,t.collectionGroup,t.orderBy,e.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,i),i)}In(t,i,e,r,o,s,a){let l=(i!=null?i.length:1)*Math.max(e.length,o.length),d=l/(i!=null?i.length:1),h=[];for(let f=0;f<l;++f){let g=i?this.Tn(i[f/d]):gh,_=this.En(t,g,e[f%d],r),S=this.dn(t,g,o[f%d],s),O=a.map(M=>this.En(t,g,M,!0));h.push(...this.createRange(_,S,O))}return h}En(t,i,e,r){let o=new Lo(t,W.empty(),i,e);return r?o:o.Jt()}dn(t,i,e,r){let o=new Lo(t,W.empty(),i,e);return r?o.Jt():o}ln(t,i){let e=new $h(i),r=i.collectionGroup!=null?i.collectionGroup:i.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let s=null;for(let a of o)e.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(t,i){let e=2,r=this.cn(i);return P.forEach(r,o=>this.ln(t,o).next(s=>{s?e!==0&&s.fields.length<function(l){let d=new qt(pe.comparator),h=!1;for(let f of l.filters)for(let g of f.getFlattenedFilters())g.field.isKeyField()||(g.op==="array-contains"||g.op==="array-contains-any"?h=!0:d=d.add(g.field));for(let f of l.orderBy)f.field.isKeyField()||(d=d.add(f.field));return d.size+(h?1:0)}(o)&&(e=1):e=0})).next(()=>function(s){return s.limit!==null}(i)&&r.length>1&&e===2?1:e)}An(t,i){let e=new No;for(let r of Po(t)){let o=i.data.field(r.fieldPath);if(o==null)return null;let s=e.Ht(r.kind);qn.bt.Pt(o,s)}return e.Wt()}Tn(t){let i=new No;return qn.bt.Pt(t,i.Ht(0)),i.Wt()}Rn(t,i){let e=new No;return qn.bt.Pt(zo(this.databaseId,i),e.Ht(function(o){let s=Po(o);return s.length===0?0:s[s.length-1].kind}(t))),e.Wt()}Pn(t,i,e){if(e===null)return[];let r=[];r.push(new No);let o=0;for(let s of Po(t)){let a=e[o++];for(let l of r)if(this.Vn(i,s.fieldPath)&&Pl(a))r=this.mn(r,s,a);else{let d=l.Ht(s.kind);qn.bt.Pt(a,d)}}return this.fn(r)}hn(t,i,e){return this.Pn(t,i,e.position)}fn(t){let i=[];for(let e=0;e<t.length;++e)i[e]=t[e].Wt();return i}mn(t,i,e){let r=[...t],o=[];for(let s of e.arrayValue.values||[])for(let a of r){let l=new No;l.seed(a.Wt()),qn.bt.Pt(s,l.Ht(i.kind)),o.push(l)}return o}Vn(t,i){return!!t.filters.find(e=>e instanceof kt&&e.field.isEqual(i)&&(e.op==="in"||e.op==="not-in"))}getFieldIndexes(t,i){let e=bl(t),r=ia(t);return(i?e.U("collectionGroupIndex",IDBKeyRange.bound(i,i)):e.U()).next(o=>{let s=[];return P.forEach(o,a=>r.get([a.indexId,this.uid]).next(l=>{s.push(function(h,f){let g=f?new Sl(f.sequenceNumber,new ji(Go(f.readTime),new W(pn(f.documentKey)),f.largestBatchId)):Sl.empty(),_=h.fields.map(([S,O])=>new da(pe.fromServerFormat(S),O));return new fa(h.indexId,h.collectionGroup,_,g)}(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(i=>i.length===0?null:(i.sort((e,r)=>{let o=e.indexState.sequenceNumber-r.indexState.sequenceNumber;return o!==0?o:vt(e.collectionGroup,r.collectionGroup)}),i[0].collectionGroup))}updateCollectionGroup(t,i,e){let r=bl(t),o=ia(t);return this.gn(t).next(s=>r.U("collectionGroupIndex",IDBKeyRange.bound(i,i)).next(a=>P.forEach(a,l=>o.put(Fk(l.indexId,this.uid,s,e)))))}updateIndexEntries(t,i){let e=new Map;return P.forEach(i,(r,o)=>{let s=e.get(r.collectionGroup);return(s?P.resolve(s):this.getFieldIndexes(t,r.collectionGroup)).next(a=>(e.set(r.collectionGroup,a),P.forEach(a,l=>this.pn(t,r,l).next(d=>{let h=this.yn(o,l);return d.isEqual(h)?P.resolve():this.wn(t,o,l,d,h)}))))})}Sn(t,i,e,r){return ea(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(e,i.key),documentKey:i.key.path.toArray()})}bn(t,i,e,r){return ea(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(e,i.key),i.key.path.toArray()])}pn(t,i,e){let r=ea(t),o=new qt(Ar);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([e.indexId,this.uid,this.Rn(e,i)])},(s,a)=>{o=o.add(new Lo(e.indexId,i,a.arrayValue,a.directionalValue))}).next(()=>o)}yn(t,i){let e=new qt(Ar),r=this.An(i,t);if(r==null)return e;let o=k_(i);if(o!=null){let s=t.data.field(o.fieldPath);if(Pl(s))for(let a of s.arrayValue.values||[])e=e.add(new Lo(i.indexId,t.key,this.Tn(a),r))}else e=e.add(new Lo(i.indexId,t.key,gh,r));return e}wn(t,i,e,r,o){j("IndexedDbIndexManager","Updating index entries for document '%s'",i.key);let s=[];return function(l,d,h,f,g){let _=l.getIterator(),S=d.getIterator(),O=ta(_),M=ta(S);for(;O||M;){let K=!1,it=!1;if(O&&M){let U=h(O,M);U<0?it=!0:U>0&&(K=!0)}else O!=null?it=!0:K=!0;K?(f(M),M=ta(S)):it?(g(O),O=ta(_)):(O=ta(_),M=ta(S))}}(r,o,Ar,a=>{s.push(this.Sn(t,i,e,a))},a=>{s.push(this.bn(t,i,e,a))}),P.waitFor(s)}gn(t){let i=1;return ia(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(e,r,o)=>{o.done(),i=r.sequenceNumber+1}).next(()=>i)}createRange(t,i,e){e=e.sort((s,a)=>Ar(s,a)).filter((s,a,l)=>!a||Ar(s,l[a-1])!==0);let r=[];r.push(t);for(let s of e){let a=Ar(s,t),l=Ar(s,i);if(a===0)r[0]=t.Jt();else if(a>0&&l<0)r.push(s),r.push(s.Jt());else if(l>0)break}r.push(i);let o=[];for(let s=0;s<r.length;s+=2){if(this.Dn(r[s],r[s+1]))return[];let a=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,gh,[]],l=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,gh,[]];o.push(IDBKeyRange.bound(a,l))}return o}Dn(t,i){return Ar(t,i)>0}getMinOffsetFromCollectionGroup(t,i){return this.getFieldIndexes(t,i).next(Uk)}getMinOffset(t,i){return P.mapArray(this.cn(i),e=>this.ln(t,e).next(r=>r||et())).next(Uk)}};function zk(n){return Oe(n,"collectionParents")}function ea(n){return Oe(n,"indexEntries")}function bl(n){return Oe(n,"indexConfiguration")}function ia(n){return Oe(n,"indexState")}function Uk(n){at(n.length!==0);let t=n[0].indexState.offset,i=t.largestBatchId;for(let e=1;e<n.length;e++){let r=n[e].indexState.offset;_v(r,t)<0&&(t=r),i<r.largestBatchId&&(i=r.largestBatchId)}return new ji(t.readTime,t.documentKey,i)}var qk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Li=class n{constructor(t,i,e){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=e}static withCacheSize(t){return new n(t,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function dT(n,t,i){let e=n.store("mutations"),r=n.store("documentMutations"),o=[],s=IDBKeyRange.only(i.batchId),a=0,l=e.J({range:s},(h,f,g)=>(a++,g.delete()));o.push(l.next(()=>{at(a===1)}));let d=[];for(let h of i.mutations){let f=gC(t,h.key.path,i.batchId);o.push(r.delete(f)),d.push(h.key)}return P.waitFor(o).next(()=>d)}function Gh(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw et();t=n.noDocument}return JSON.stringify(t).length}Li.DEFAULT_COLLECTION_PERCENTILE=10,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Li.DEFAULT=new Li(41943040,Li.DEFAULT_COLLECTION_PERCENTILE,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Li.DISABLED=new Li(-1,0,0);var Wh=class n{constructor(t,i,e,r){this.userId=t,this.serializer=i,this.indexManager=e,this.referenceDelegate=r,this.Cn={}}static lt(t,i,e,r){at(t.uid!=="");let o=t.isAuthenticated()?t.uid:"";return new n(o,i,e,r)}checkEmpty(t){let i=!0,e=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Rr(t).J({index:"userMutationsIndex",range:e},(r,o,s)=>{i=!1,s.done()}).next(()=>i)}addMutationBatch(t,i,e,r){let o=ca(t),s=Rr(t);return s.add({}).next(a=>{at(typeof a=="number");let l=new Fl(a,i,e,r),d=function(_,S,O){let M=O.baseMutations.map(it=>Bl(_.ct,it)),K=O.mutations.map(it=>Bl(_.ct,it));return{userId:S,batchId:O.batchId,localWriteTimeMs:O.localWriteTime.toMillis(),baseMutations:M,mutations:K}}(this.serializer,this.userId,l),h=[],f=new qt((g,_)=>vt(g.canonicalString(),_.canonicalString()));for(let g of r){let _=gC(this.userId,g.key.path,a);f=f.add(g.key.path.popLast()),h.push(s.put(d)),h.push(o.put(_,uN))}return f.forEach(g=>{h.push(this.indexManager.addToCollectionParentIndex(t,g))}),t.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),P.waitFor(h).next(()=>l)})}lookupMutationBatch(t,i){return Rr(t).get(i).next(e=>e?(at(e.userId===this.userId),Fo(this.serializer,e)):null)}vn(t,i){return this.Cn[i]?P.resolve(this.Cn[i]):this.lookupMutationBatch(t,i).next(e=>{if(e){let r=e.keys();return this.Cn[i]=r,r}return null})}getNextMutationBatchAfterBatchId(t,i){let e=i+1,r=IDBKeyRange.lowerBound([this.userId,e]),o=null;return Rr(t).J({index:"userMutationsIndex",range:r},(s,a,l)=>{a.userId===this.userId&&(at(a.batchId>=e),o=Fo(this.serializer,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){let i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),e=-1;return Rr(t).J({index:"userMutationsIndex",range:i,reverse:!0},(r,o,s)=>{e=o.batchId,s.done()}).next(()=>e)}getAllMutationBatches(t){let i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Rr(t).U("userMutationsIndex",i).next(e=>e.map(r=>Fo(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,i){let e=yh(this.userId,i.path),r=IDBKeyRange.lowerBound(e),o=[];return ca(t).J({range:r},(s,a,l)=>{let[d,h,f]=s,g=pn(h);if(d===this.userId&&i.path.isEqual(g))return Rr(t).get(f).next(_=>{if(!_)throw et();at(_.userId===this.userId),o.push(Fo(this.serializer,_))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,i){let e=new qt(vt),r=[];return i.forEach(o=>{let s=yh(this.userId,o.path),a=IDBKeyRange.lowerBound(s),l=ca(t).J({range:a},(d,h,f)=>{let[g,_,S]=d,O=pn(_);g===this.userId&&o.path.isEqual(O)?e=e.add(S):f.done()});r.push(l)}),P.waitFor(r).next(()=>this.Fn(t,e))}getAllMutationBatchesAffectingQuery(t,i){let e=i.path,r=e.length+1,o=yh(this.userId,e),s=IDBKeyRange.lowerBound(o),a=new qt(vt);return ca(t).J({range:s},(l,d,h)=>{let[f,g,_]=l,S=pn(g);f===this.userId&&e.isPrefixOf(S)?S.length===r&&(a=a.add(_)):h.done()}).next(()=>this.Fn(t,a))}Fn(t,i){let e=[],r=[];return i.forEach(o=>{r.push(Rr(t).get(o).next(s=>{if(s===null)throw et();at(s.userId===this.userId),e.push(Fo(this.serializer,s))}))}),P.waitFor(r).next(()=>e)}removeMutationBatch(t,i){return dT(t._e,this.userId,i).next(e=>(t.addOnCommittedListener(()=>{this.Mn(i.batchId)}),P.forEach(e,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Mn(t){delete this.Cn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(i=>{if(!i)return P.resolve();let e=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),r=[];return ca(t).J({range:e},(o,s,a)=>{if(o[0]===this.userId){let l=pn(o[1]);r.push(l)}else a.done()}).next(()=>{at(r.length===0)})})}containsKey(t,i){return uT(t,this.userId,i)}xn(t){return hT(t).get(this.userId).next(i=>i||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function uT(n,t,i){let e=yh(t,i.path),r=e[1],o=IDBKeyRange.lowerBound(e),s=!1;return ca(n).J({range:o,H:!0},(a,l,d)=>{let[h,f,g]=a;h===t&&f===r&&(s=!0),d.done()}).next(()=>s)}function Rr(n){return Oe(n,"mutations")}function ca(n){return Oe(n,"documentMutations")}function hT(n){return Oe(n,"mutationQueues")}var wa=class n{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new n(0)}static Ln(){return new n(-1)}};var lb=class{constructor(t,i){this.referenceDelegate=t,this.serializer=i}allocateTargetId(t){return this.Bn(t).next(i=>{let e=new wa(i.highestTargetId);return i.highestTargetId=e.next(),this.kn(t,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Bn(t).next(i=>ut.fromTimestamp(new ne(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Bn(t).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(t,i,e){return this.Bn(t).next(r=>(r.highestListenSequenceNumber=i,e&&(r.lastRemoteSnapshotVersion=e.toTimestamp()),i>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=i),this.kn(t,r)))}addTargetData(t,i){return this.qn(t,i).next(()=>this.Bn(t).next(e=>(e.targetCount+=1,this.Qn(i,e),this.kn(t,e))))}updateTargetData(t,i){return this.qn(t,i)}removeTargetData(t,i){return this.removeMatchingKeysForTargetId(t,i.targetId).next(()=>na(t).delete(i.targetId)).next(()=>this.Bn(t)).next(e=>(at(e.targetCount>0),e.targetCount-=1,this.kn(t,e)))}removeTargets(t,i,e){let r=0,o=[];return na(t).J((s,a)=>{let l=xl(a);l.sequenceNumber<=i&&e.get(l.targetId)===null&&(r++,o.push(this.removeTargetData(t,l)))}).next(()=>P.waitFor(o)).next(()=>r)}forEachTarget(t,i){return na(t).J((e,r)=>{let o=xl(r);i(o)})}Bn(t){return $k(t).get("targetGlobalKey").next(i=>(at(i!==null),i))}kn(t,i){return $k(t).put("targetGlobalKey",i)}qn(t,i){return na(t).put(aT(this.serializer,i))}Qn(t,i){let e=!1;return t.targetId>i.highestTargetId&&(i.highestTargetId=t.targetId,e=!0),t.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t.sequenceNumber,e=!0),e}getTargetCount(t){return this.Bn(t).next(i=>i.targetCount)}getTargetData(t,i){let e=qo(i),r=IDBKeyRange.bound([e,Number.NEGATIVE_INFINITY],[e,Number.POSITIVE_INFINITY]),o=null;return na(t).J({range:r,index:"queryTargetsIndex"},(s,a,l)=>{let d=xl(a);Xl(i,d.target)&&(o=d,l.done())}).next(()=>o)}addMatchingKeys(t,i,e){let r=[],o=Mr(t);return i.forEach(s=>{let a=ni(s.path);r.push(o.put({targetId:e,path:a})),r.push(this.referenceDelegate.addReference(t,e,s))}),P.waitFor(r)}removeMatchingKeys(t,i,e){let r=Mr(t);return P.forEach(i,o=>{let s=ni(o.path);return P.waitFor([r.delete([e,s]),this.referenceDelegate.removeReference(t,e,o)])})}removeMatchingKeysForTargetId(t,i){let e=Mr(t),r=IDBKeyRange.bound([i],[i+1],!1,!0);return e.delete(r)}getMatchingKeysForTargetId(t,i){let e=IDBKeyRange.bound([i],[i+1],!1,!0),r=Mr(t),o=yt();return r.J({range:e,H:!0},(s,a,l)=>{let d=pn(s[1]),h=new W(d);o=o.add(h)}).next(()=>o)}containsKey(t,i){let e=ni(i.path),r=IDBKeyRange.bound([e],[dC(e)],!1,!0),o=0;return Mr(t).J({index:"documentTargetsIndex",H:!0,range:r},([s,a],l,d)=>{s!==0&&(o++,d.done())}).next(()=>o>0)}ot(t,i){return na(t).get(i).next(e=>e?xl(e):null)}};function na(n){return Oe(n,"targets")}function $k(n){return Oe(n,"targetGlobal")}function Mr(n){return Oe(n,"targetDocuments")}function Hk([n,t],[i,e]){let r=vt(n,i);return r===0?vt(t,e):r}var db=class{constructor(t){this.Kn=t,this.buffer=new qt(Hk),this.$n=0}Un(){return++this.$n}Wn(t){let i=[t,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(i);else{let e=this.buffer.last();Hk(i,e)<0&&(this.buffer=this.buffer.delete(e).add(i))}}get maxValue(){return this.buffer.last()[0]}},ub=class{constructor(t,i,e){this.garbageCollector=t,this.asyncQueue=i,this.localStore=e,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(t){j("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,()=>R(this,null,function*(){this.Gn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(i){Wr(i)?j("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Gr(i)}yield this.zn(3e5)}))}},hb=class{constructor(t,i){this.jn=t,this.params=i}calculateTargetCount(t,i){return this.jn.Hn(t).next(e=>Math.floor(i/100*e))}nthSequenceNumber(t,i){if(i===0)return P.resolve(Ci.oe);let e=new db(i);return this.jn.forEachTarget(t,r=>e.Wn(r.sequenceNumber)).next(()=>this.jn.Jn(t,r=>e.Wn(r))).next(()=>e.maxValue)}removeTargets(t,i,e){return this.jn.removeTargets(t,i,e)}removeOrphanedDocuments(t,i){return this.jn.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(j("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(qk)):this.getCacheSize(t).next(e=>e<this.params.cacheSizeCollectionThreshold?(j("LruGarbageCollector",`Garbage collection skipped; Cache size ${e} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qk):this.Yn(t,i))}getCacheSize(t){return this.jn.getCacheSize(t)}Yn(t,i){let e,r,o,s,a,l,d,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(j("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),r=this.params.maximumSequenceNumbersToCollect):r=f,s=Date.now(),this.nthSequenceNumber(t,r))).next(f=>(e=f,a=Date.now(),this.removeTargets(t,e,i))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(t,e))).next(f=>(d=Date.now(),ra()<=sn.DEBUG&&j("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${r} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(d-l)+`ms
Total Duration: ${d-h}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:f})))}};function o2(n,t){return new hb(n,t)}var mb=class{constructor(t,i){this.db=t,this.garbageCollector=o2(this,i)}Hn(t){let i=this.Zn(t);return this.db.getTargetCache().getTargetCount(t).next(e=>i.next(r=>e+r))}Zn(t){let i=0;return this.Jn(t,e=>{i++}).next(()=>i)}forEachTarget(t,i){return this.db.getTargetCache().forEachTarget(t,i)}Jn(t,i){return this.Xn(t,(e,r)=>i(r))}addReference(t,i,e){return _h(t,e)}removeReference(t,i,e){return _h(t,e)}removeTargets(t,i,e){return this.db.getTargetCache().removeTargets(t,i,e)}markPotentiallyOrphaned(t,i){return _h(t,i)}er(t,i){return function(r,o){let s=!1;return hT(r).Y(a=>uT(r,a,o).next(l=>(l&&(s=!0),P.resolve(!l)))).next(()=>s)}(t,i)}removeOrphanedDocuments(t,i){let e=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[],o=0;return this.Xn(t,(s,a)=>{if(a<=i){let l=this.er(t,s).next(d=>{if(!d)return o++,e.getEntry(t,s).next(()=>(e.removeEntry(s,ut.min()),Mr(t).delete(function(f){return[0,ni(f.path)]}(s))))});r.push(l)}}).next(()=>P.waitFor(r)).next(()=>e.apply(t)).next(()=>o)}removeTarget(t,i){let e=i.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,e)}updateLimboDocument(t,i){return _h(t,i)}Xn(t,i){let e=Mr(t),r,o=Ci.oe;return e.J({index:"documentTargetsIndex"},([s,a],{path:l,sequenceNumber:d})=>{s===0?(o!==Ci.oe&&i(new W(pn(r)),o),o=d,r=l):o=Ci.oe}).next(()=>{o!==Ci.oe&&i(new W(pn(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}};function _h(n,t){return Mr(n).put(function(e,r){return{targetId:0,path:ni(e.path),sequenceNumber:r}}(t,n.currentSequenceNumber))}var Kh=class{constructor(){this.changes=new xn(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ee.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();let e=this.changes.get(i);return e!==void 0?P.resolve(e):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}};var fb=class{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,i,e){return Mo(t).put(e)}removeEntry(t,i,e){return Mo(t).delete(function(o,s){let a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Uh(s),a[a.length-1]]}(i,e))}updateMetadata(t,i){return this.getMetadata(t).next(e=>(e.byteSize+=i,this.tr(t,e)))}getEntry(t,i){let e=Ee.newInvalidDocument(i);return Mo(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(vl(i))},(r,o)=>{e=this.nr(i,o)}).next(()=>e)}rr(t,i){let e={size:0,document:Ee.newInvalidDocument(i)};return Mo(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(vl(i))},(r,o)=>{e={document:this.nr(i,o),size:Gh(o)}}).next(()=>e)}getEntries(t,i){let e=fi();return this.ir(t,i,(r,o)=>{let s=this.nr(r,o);e=e.insert(r,s)}).next(()=>e)}sr(t,i){let e=fi(),r=new Kt(W.comparator);return this.ir(t,i,(o,s)=>{let a=this.nr(o,s);e=e.insert(o,a),r=r.insert(o,Gh(s))}).next(()=>({documents:e,_r:r}))}ir(t,i,e){if(i.isEmpty())return P.resolve();let r=new qt(Kk);i.forEach(l=>r=r.add(l));let o=IDBKeyRange.bound(vl(r.first()),vl(r.last())),s=r.getIterator(),a=s.getNext();return Mo(t).J({index:"documentKeyIndex",range:o},(l,d,h)=>{let f=W.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;a&&Kk(a,f)<0;)e(a,null),a=s.getNext();a&&a.isEqual(f)&&(e(a,d),a=s.hasNext()?s.getNext():null),a?h.$(vl(a)):h.done()}).next(()=>{for(;a;)e(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(t,i,e,r,o){let s=i.path,a=[s.popLast().toArray(),s.lastSegment(),Uh(e.readTime),e.documentKey.path.isEmpty()?"":e.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Mo(t).U(IDBKeyRange.bound(a,l,!0)).next(d=>{o?.incrementDocumentReadCount(d.length);let h=fi();for(let f of d){let g=this.nr(W.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);g.isFoundDocument()&&(Jl(i,g)||r.has(g.key))&&(h=h.insert(g.key,g))}return h})}getAllFromCollectionGroup(t,i,e,r){let o=fi(),s=Wk(i,e),a=Wk(i,ji.max());return Mo(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(l,d,h)=>{let f=this.nr(W.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);o=o.insert(f.key,f),o.size===r&&h.done()}).next(()=>o)}newChangeBuffer(t){return new pb(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(i=>i.byteSize)}getMetadata(t){return Gk(t).get("remoteDocumentGlobalKey").next(i=>(at(!!i),i))}tr(t,i){return Gk(t).put("remoteDocumentGlobalKey",i)}nr(t,i){if(i){let e=i2(this.serializer,i);if(!(e.isNoDocument()&&e.version.isEqual(ut.min())))return e}return Ee.newInvalidDocument(t)}};function mT(n){return new fb(n)}var pb=class extends Kh{constructor(t,i){super(),this.ar=t,this.trackRemovals=i,this.ur=new xn(e=>e.toString(),(e,r)=>e.isEqual(r))}applyChanges(t){let i=[],e=0,r=new qt((o,s)=>vt(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{let a=this.ur.get(o);if(i.push(this.ar.removeEntry(t,o,a.readTime)),s.isValidDocument()){let l=Pk(this.ar.serializer,s);r=r.add(o.path.popLast());let d=Gh(l);e+=d-a.size,i.push(this.ar.addEntry(t,o,l))}else if(e-=a.size,this.trackRemovals){let l=Pk(this.ar.serializer,s.convertToNoDocument(ut.min()));i.push(this.ar.addEntry(t,o,l))}}),r.forEach(o=>{i.push(this.ar.indexManager.addToCollectionParentIndex(t,o))}),i.push(this.ar.updateMetadata(t,e)),P.waitFor(i)}getFromCache(t,i){return this.ar.rr(t,i).next(e=>(this.ur.set(i,{size:e.size,readTime:e.document.readTime}),e.document))}getAllFromCache(t,i){return this.ar.sr(t,i).next(({documents:e,_r:r})=>(r.forEach((o,s)=>{this.ur.set(o,{size:s,readTime:e.get(o).readTime})}),e))}};function Gk(n){return Oe(n,"remoteDocumentGlobal")}function Mo(n){return Oe(n,"remoteDocumentsV14")}function vl(n){let t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Wk(n,t){let i=t.documentKey.path.toArray();return[n,Uh(t.readTime),i.slice(0,i.length-2),i.length>0?i[i.length-1]:""]}function Kk(n,t){let i=n.path.toArray(),e=t.path.toArray(),r=0;for(let o=0;o<i.length-2&&o<e.length-2;++o)if(r=vt(i[o],e[o]),r)return r;return r=vt(i.length,e.length),r||(r=vt(i[i.length-2],e[e.length-2]),r||vt(i[i.length-1],e[e.length-1]))}var gb=class{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}};var Qh=class{constructor(t,i,e,r){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=e,this.indexManager=r}getDocument(t,i){let e=null;return this.documentOverlayCache.getOverlay(t,i).next(r=>(e=r,this.remoteDocumentCache.getEntry(t,i))).next(r=>(e!==null&&kl(e.mutation,r,Ti.empty(),ne.now()),r))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(e=>this.getLocalViewOfDocuments(t,e,yt()).next(()=>e))}getLocalViewOfDocuments(t,i,e=yt()){let r=gn();return this.populateOverlays(t,r,i).next(()=>this.computeViews(t,i,r,e).next(o=>{let s=wl();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,i){let e=gn();return this.populateOverlays(t,e,i).next(()=>this.computeViews(t,i,e,yt()))}populateOverlays(t,i,e){let r=[];return e.forEach(o=>{i.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((s,a)=>{i.set(s,a)})})}computeViews(t,i,e,r){let o=fi(),s=Il(),a=function(){return Il()}();return i.forEach((l,d)=>{let h=e.get(d.key);r.has(d.key)&&(h===void 0||h.mutation instanceof Zi)?o=o.insert(d.key,d):h!==void 0?(s.set(d.key,h.mutation.getFieldMask()),kl(h.mutation,d,h.mutation.getFieldMask(),ne.now())):s.set(d.key,Ti.empty())}),this.recalculateAndSaveOverlays(t,o).next(l=>(l.forEach((d,h)=>s.set(d,h)),i.forEach((d,h)=>{var f;return a.set(d,new gb(h,(f=s.get(d))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(t,i){let e=Il(),r=new Kt((s,a)=>s-a),o=yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(s=>{for(let a of s)a.keys().forEach(l=>{let d=i.get(l);if(d===null)return;let h=e.get(l)||Ti.empty();h=a.applyToLocalView(d,h),e.set(l,h);let f=(r.get(a.batchId)||yt()).add(l);r=r.insert(a.batchId,f)})}).next(()=>{let s=[],a=r.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),d=l.key,h=l.value,f=NC();h.forEach(g=>{if(!o.has(g)){let _=$C(i.get(g),e.get(g));_!==null&&f.set(g,_),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(t,d,f))}return P.waitFor(s)}).next(()=>e)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(e=>this.recalculateAndSaveOverlays(t,e))}getDocumentsMatchingQuery(t,i,e,r){return function(s){return W.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):wv(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,e,r):this.getDocumentsMatchingCollectionQuery(t,i,e,r)}getNextDocuments(t,i,e,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,e,r).next(o=>{let s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,e.largestBatchId,r-o.size):P.resolve(gn()),a=-1,l=o;return s.next(d=>P.forEach(d,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(h)?P.resolve():this.remoteDocumentCache.getEntry(t,h).next(g=>{l=l.insert(h,g)}))).next(()=>this.populateOverlays(t,d,o)).next(()=>this.computeViews(t,l,d,yt())).next(h=>({batchId:a,changes:FC(h)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new W(i)).next(e=>{let r=wl();return e.isFoundDocument()&&(r=r.insert(e.key,e)),r})}getDocumentsMatchingCollectionGroupQuery(t,i,e,r){let o=i.collectionGroup,s=wl();return this.indexManager.getCollectionParents(t,o).next(a=>P.forEach(a,l=>{let d=function(f,g){return new Xi(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(i,l.child(o));return this.getDocumentsMatchingCollectionQuery(t,d,e,r).next(h=>{h.forEach((f,g)=>{s=s.insert(f,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,i,e,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,e.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,e,o,r))).next(s=>{o.forEach((l,d)=>{let h=d.getKey();s.get(h)===null&&(s=s.insert(h,Ee.newInvalidDocument(h)))});let a=wl();return s.forEach((l,d)=>{let h=o.get(l);h!==void 0&&kl(h.mutation,d,Ti.empty(),ne.now()),Jl(i,d)&&(a=a.insert(l,d))}),a})}};var _b=class{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,i){return P.resolve(this.cr.get(i))}saveBundleMetadata(t,i){return this.cr.set(i.id,function(r){return{id:r.id,version:r.version,createTime:ge(r.createTime)}}(i)),P.resolve()}getNamedQuery(t,i){return P.resolve(this.lr.get(i))}saveNamedQuery(t,i){return this.lr.set(i.name,function(r){return{name:r.name,query:Iv(r.bundledQuery),readTime:ge(r.readTime)}}(i)),P.resolve()}};var bb=class{constructor(){this.overlays=new Kt(W.comparator),this.hr=new Map}getOverlay(t,i){return P.resolve(this.overlays.get(i))}getOverlays(t,i){let e=gn();return P.forEach(i,r=>this.getOverlay(t,r).next(o=>{o!==null&&e.set(r,o)})).next(()=>e)}saveOverlays(t,i,e){return e.forEach((r,o)=>{this.ht(t,i,o)}),P.resolve()}removeOverlaysForBatchId(t,i,e){let r=this.hr.get(e);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(e)),P.resolve()}getOverlaysForCollection(t,i,e){let r=gn(),o=i.length+1,s=new W(i.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let l=a.getNext().value,d=l.getKey();if(!i.isPrefixOf(d.path))break;d.path.length===o&&l.largestBatchId>e&&r.set(l.getKey(),l)}return P.resolve(r)}getOverlaysForCollectionGroup(t,i,e,r){let o=new Kt((d,h)=>d-h),s=this.overlays.getIterator();for(;s.hasNext();){let d=s.getNext().value;if(d.getKey().getCollectionGroup()===i&&d.largestBatchId>e){let h=o.get(d.largestBatchId);h===null&&(h=gn(),o=o.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}let a=gn(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=r)););return P.resolve(a)}ht(t,i,e){let r=this.overlays.get(e.key);if(r!==null){let s=this.hr.get(r.largestBatchId).delete(e.key);this.hr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(e.key,new Nl(i,e));let o=this.hr.get(i);o===void 0&&(o=yt(),this.hr.set(i,o)),this.hr.set(i,o.add(e.key))}};var Ul=class{constructor(){this.Pr=new qt(ye.Ir),this.Tr=new qt(ye.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,i){let e=new ye(t,i);this.Pr=this.Pr.add(e),this.Tr=this.Tr.add(e)}dr(t,i){t.forEach(e=>this.addReference(e,i))}removeReference(t,i){this.Ar(new ye(t,i))}Rr(t,i){t.forEach(e=>this.removeReference(e,i))}Vr(t){let i=new W(new At([])),e=new ye(i,t),r=new ye(i,t+1),o=[];return this.Tr.forEachInRange([e,r],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){let i=new W(new At([])),e=new ye(i,t),r=new ye(i,t+1),o=yt();return this.Tr.forEachInRange([e,r],s=>{o=o.add(s.key)}),o}containsKey(t){let i=new ye(t,0),e=this.Pr.firstAfterOrEqual(i);return e!==null&&t.isEqual(e.key)}},ye=class{constructor(t,i){this.key=t,this.pr=i}static Ir(t,i){return W.comparator(t.key,i.key)||vt(t.pr,i.pr)}static Er(t,i){return vt(t.pr,i.pr)||W.comparator(t.key,i.key)}};var vb=class{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.yr=1,this.wr=new qt(ye.Ir)}checkEmpty(t){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,e,r){let o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Fl(o,i,e,r);this.mutationQueue.push(s);for(let a of r)this.wr=this.wr.add(new ye(a.key,o)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(t,i){return P.resolve(this.Sr(i))}getNextMutationBatchAfterBatchId(t,i){let e=i+1,r=this.br(e),o=r<0?0:r;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(t){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){let e=new ye(i,0),r=new ye(i,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([e,r],s=>{let a=this.Sr(s.pr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,i){let e=new qt(vt);return i.forEach(r=>{let o=new ye(r,0),s=new ye(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{e=e.add(a.pr)})}),P.resolve(this.Dr(e))}getAllMutationBatchesAffectingQuery(t,i){let e=i.path,r=e.length+1,o=e;W.isDocumentKey(o)||(o=o.child(""));let s=new ye(new W(o),0),a=new qt(vt);return this.wr.forEachWhile(l=>{let d=l.key.path;return!!e.isPrefixOf(d)&&(d.length===r&&(a=a.add(l.pr)),!0)},s),P.resolve(this.Dr(a))}Dr(t){let i=[];return t.forEach(e=>{let r=this.Sr(e);r!==null&&i.push(r)}),i}removeMutationBatch(t,i){at(this.Cr(i.batchId,"removed")===0),this.mutationQueue.shift();let e=this.wr;return P.forEach(i.mutations,r=>{let o=new ye(r.key,i.batchId);return e=e.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.wr=e})}Mn(t){}containsKey(t,i){let e=new ye(i,0),r=this.wr.firstAfterOrEqual(e);return P.resolve(i.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,P.resolve()}Cr(t,i){return this.br(t)}br(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Sr(t){let i=this.br(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}};var yb=class{constructor(t){this.vr=t,this.docs=function(){return new Kt(W.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){let e=i.key,r=this.docs.get(e),o=r?r.size:0,s=this.vr(i);return this.docs=this.docs.insert(e,{document:i.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,e.path.popLast())}removeEntry(t){let i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){let e=this.docs.get(i);return P.resolve(e?e.document.mutableCopy():Ee.newInvalidDocument(i))}getEntries(t,i){let e=fi();return i.forEach(r=>{let o=this.docs.get(r);e=e.insert(r,o?o.document.mutableCopy():Ee.newInvalidDocument(r))}),P.resolve(e)}getDocumentsMatchingQuery(t,i,e,r){let o=fi(),s=i.path,a=new W(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:d,value:{document:h}}=l.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||_v(hC(h),e)<=0||(r.has(h.key)||Jl(i,h))&&(o=o.insert(h.key,h.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(t,i,e,r){et()}Fr(t,i){return P.forEach(this.docs,e=>i(e))}newChangeBuffer(t){return new wb(this)}getSize(t){return P.resolve(this.size)}},wb=class extends Kh{constructor(t){super(),this.ar=t}applyChanges(t){let i=[];return this.changes.forEach((e,r)=>{r.isValidDocument()?i.push(this.ar.addEntry(t,r)):this.ar.removeEntry(e)}),P.waitFor(i)}getFromCache(t,i){return this.ar.getEntry(t,i)}getAllFromCache(t,i){return this.ar.getEntries(t,i)}};var xb=class{constructor(t){this.persistence=t,this.Mr=new xn(i=>qo(i),Xl),this.lastRemoteSnapshotVersion=ut.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Ul,this.targetCount=0,this.Lr=wa.Nn()}forEachTarget(t,i){return this.Mr.forEach((e,r)=>i(r)),P.resolve()}getLastRemoteSnapshotVersion(t){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return P.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Lr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(t,i,e){return e&&(this.lastRemoteSnapshotVersion=e),i>this.Or&&(this.Or=i),P.resolve()}qn(t){this.Mr.set(t.target,t);let i=t.targetId;i>this.highestTargetId&&(this.Lr=new wa(i),this.highestTargetId=i),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,i){return this.qn(i),this.targetCount+=1,P.resolve()}updateTargetData(t,i){return this.qn(i),P.resolve()}removeTargetData(t,i){return this.Mr.delete(i.target),this.Nr.Vr(i.targetId),this.targetCount-=1,P.resolve()}removeTargets(t,i,e){let r=0,o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=i&&e.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),P.waitFor(o).next(()=>r)}getTargetCount(t){return P.resolve(this.targetCount)}getTargetData(t,i){let e=this.Mr.get(i)||null;return P.resolve(e)}addMatchingKeys(t,i,e){return this.Nr.dr(i,e),P.resolve()}removeMatchingKeys(t,i,e){this.Nr.Rr(i,e);let r=this.persistence.referenceDelegate,o=[];return r&&i.forEach(s=>{o.push(r.markPotentiallyOrphaned(t,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(t,i){return this.Nr.Vr(i),P.resolve()}getMatchingKeysForTargetId(t,i){let e=this.Nr.gr(i);return P.resolve(e)}containsKey(t,i){return P.resolve(this.Nr.containsKey(i))}};var Yh=class{constructor(t,i){this.Br={},this.overlays={},this.kr=new Ci(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new xb(this),this.indexManager=new ab,this.remoteDocumentCache=function(r){return new yb(r)}(e=>this.referenceDelegate.Kr(e)),this.serializer=new zh(i),this.$r=new _b(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new bb,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let e=this.Br[t.toKey()];return e||(e=new vb(i,this.referenceDelegate),this.Br[t.toKey()]=e),e}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,i,e){j("MemoryPersistence","Starting transaction:",t);let r=new Eb(this.kr.next());return this.referenceDelegate.Ur(),e(r).next(o=>this.referenceDelegate.Wr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gr(t,i){return P.or(Object.values(this.Br).map(e=>()=>e.containsKey(t,i)))}},Eb=class extends Dh{constructor(t){super(),this.currentSequenceNumber=t}},Xh=class n{constructor(t){this.persistence=t,this.zr=new Ul,this.jr=null}static Hr(t){return new n(t)}get Jr(){if(this.jr)return this.jr;throw et()}addReference(t,i,e){return this.zr.addReference(e,i),this.Jr.delete(e.toString()),P.resolve()}removeReference(t,i,e){return this.zr.removeReference(e,i),this.Jr.add(e.toString()),P.resolve()}markPotentiallyOrphaned(t,i){return this.Jr.add(i.toString()),P.resolve()}removeTarget(t,i){this.zr.Vr(i.targetId).forEach(r=>this.Jr.add(r.toString()));let e=this.persistence.getTargetCache();return e.getMatchingKeysForTargetId(t,i.targetId).next(r=>{r.forEach(o=>this.Jr.add(o.toString()))}).next(()=>e.removeTargetData(t,i))}Ur(){this.jr=new Set}Wr(t){let i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Jr,e=>{let r=W.fromPath(e);return this.Yr(t,r).next(o=>{o||i.removeEntry(r,ut.min())})}).next(()=>(this.jr=null,i.apply(t)))}updateLimboDocument(t,i){return this.Yr(t,i).next(e=>{e?this.Jr.delete(i.toString()):this.Jr.add(i.toString())})}Kr(t){return 0}Yr(t,i){return P.or([()=>P.resolve(this.zr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Gr(t,i)])}};var Ib=class{constructor(t){this.serializer=t}O(t,i,e,r){let o=new Ah("createOrUpgrade",i);e<1&&r>=1&&(function(l){l.createObjectStore("owner")}(t),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",uk,{unique:!0}),l.createObjectStore("documentMutations")}(t),Qk(t),function(l){l.createObjectStore("remoteDocuments")}(t));let s=P.resolve();return e<3&&r>=3&&(e!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(t),Qk(t)),s=s.next(()=>function(l){let d=l.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ut.min().toTimestamp(),targetCount:0};return d.put("targetGlobalKey",h)}(o))),e<4&&r>=4&&(e!==0&&(s=s.next(()=>function(l,d){return d.store("mutations").U().next(h=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",uk,{unique:!0});let f=d.store("mutations"),g=h.map(_=>f.put(_));return P.waitFor(g)})}(t,o))),s=s.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(t)})),e<5&&r>=5&&(s=s.next(()=>this.Xr(o))),e<6&&r>=6&&(s=s.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(t),this.ei(o)))),e<7&&r>=7&&(s=s.next(()=>this.ti(o))),e<8&&r>=8&&(s=s.next(()=>this.ni(t,o))),e<9&&r>=9&&(s=s.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(t)})),e<10&&r>=10&&(s=s.next(()=>this.ri(o))),e<11&&r>=11&&(s=s.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),e<12&&r>=12&&(s=s.next(()=>{(function(l){let d=l.createObjectStore("documentOverlays",{keyPath:EN});d.createIndex("collectionPathOverlayIndex",IN,{unique:!1}),d.createIndex("collectionGroupOverlayIndex",kN,{unique:!1})})(t)})),e<13&&r>=13&&(s=s.next(()=>function(l){let d=l.createObjectStore("remoteDocumentsV14",{keyPath:hN});d.createIndex("documentKeyIndex",mN),d.createIndex("collectionGroupIndex",fN)}(t)).next(()=>this.ii(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),e<14&&r>=14&&(s=s.next(()=>this.si(t,o))),e<15&&r>=15&&(s=s.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:vN}).createIndex("sequenceNumberIndex",yN,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:wN}).createIndex("documentKeyIndex",xN,{unique:!1})}(t))),e<16&&r>=16&&(s=s.next(()=>{i.objectStore("indexState").clear()}).next(()=>{i.objectStore("indexEntries").clear()})),s}ei(t){let i=0;return t.store("remoteDocuments").J((e,r)=>{i+=Gh(r)}).next(()=>{let e={byteSize:i};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",e)})}Xr(t){let i=t.store("mutationQueues"),e=t.store("mutations");return i.U().next(r=>P.forEach(r,o=>{let s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return e.U("userMutationsIndex",s).next(a=>P.forEach(a,l=>{at(l.userId===o.userId);let d=Fo(this.serializer,l);return dT(t,o.userId,d).next(()=>{})}))}))}ti(t){let i=t.store("targetDocuments"),e=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{let o=[];return e.J((s,a)=>{let l=new At(s),d=function(f){return[0,ni(f)]}(l);o.push(i.get(d).next(h=>h?P.resolve():(f=>i.put({targetId:0,path:ni(f),sequenceNumber:r.highestListenSequenceNumber}))(l)))}).next(()=>P.waitFor(o))})}ni(t,i){t.createObjectStore("collectionParents",{keyPath:bN});let e=i.store("collectionParents"),r=new zl,o=s=>{if(r.add(s)){let a=s.lastSegment(),l=s.popLast();return e.put({collectionId:a,parent:ni(l)})}};return i.store("remoteDocuments").J({H:!0},(s,a)=>{let l=new At(s);return o(l.popLast())}).next(()=>i.store("documentMutations").J({H:!0},([s,a,l],d)=>{let h=pn(a);return o(h.popLast())}))}ri(t){let i=t.store("targets");return i.J((e,r)=>{let o=xl(r),s=aT(this.serializer,o);return i.put(s)})}ii(t,i){let e=i.store("remoteDocuments"),r=[];return e.J((o,s)=>{let a=i.store("remoteDocumentsV14"),l=function(f){return f.document?new W(At.fromString(f.document.name).popFirst(5)):f.noDocument?W.fromSegments(f.noDocument.path):f.unknownDocument?W.fromSegments(f.unknownDocument.path):et()}(s).path.toArray(),d={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};r.push(a.put(d))}).next(()=>P.waitFor(r))}si(t,i){let e=i.store("mutations"),r=mT(this.serializer),o=new Yh(Xh.Hr,this.serializer.ct);return e.U().next(s=>{let a=new Map;return s.forEach(l=>{var d;let h=(d=a.get(l.userId))!==null&&d!==void 0?d:yt();Fo(this.serializer,l).keys().forEach(f=>h=h.add(f)),a.set(l.userId,h)}),P.forEach(a,(l,d)=>{let h=new we(d),f=qh.lt(this.serializer,h),g=o.getIndexManager(h),_=Wh.lt(h,this.serializer,g,o.referenceDelegate);return new Qh(r,_,f,g).recalculateAndSaveOverlaysForDocumentKeys(new Al(i,Ci.oe),l).next()})})}};function Qk(n){n.createObjectStore("targetDocuments",{keyPath:gN}).createIndex("documentTargetsIndex",_N,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",pN,{unique:!0}),n.createObjectStore("targetGlobal")}var p_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",kb=class n{constructor(t,i,e,r,o,s,a,l,d,h,f=16){if(this.allowTabSynchronization=t,this.persistenceKey=i,this.clientId=e,this.oi=o,this.window=s,this.document=a,this._i=d,this.ai=h,this.ui=f,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=g=>Promise.resolve(),!n.D())throw new L(N.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new mb(this,r),this.Ti=i+"main",this.serializer=new zh(l),this.Ei=new Lr(this.Ti,this.ui,new Ib(this.serializer)),this.Qr=new lb(this.referenceDelegate,this.serializer),this.remoteDocumentCache=mT(this.serializer),this.$r=new tb,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,h===!1&&fe("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new L(N.FAILED_PRECONDITION,p_);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Qr.getHighestSequenceNumber(t))}).then(t=>{this.kr=new Ci(t,this._i)}).then(()=>{this.qr=!0}).catch(t=>(this.Ei&&this.Ei.close(),Promise.reject(t)))}fi(t){return this.Ii=i=>R(this,null,function*(){if(this.started)return t(i)}),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ei.L(i=>R(this,null,function*(){i.newVersion===null&&(yield t())}))}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.oi.enqueueAndForget(()=>R(this,null,function*(){this.started&&(yield this.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>bh(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(t).next(i=>{i||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(t)).next(i=>this.isPrimary&&!i?this.yi(t).next(()=>!1):!!i&&this.wi(t).next(()=>!0))).catch(t=>{if(Wr(t))return j("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return j("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.oi.enqueueRetryable(()=>this.Ii(t)),this.isPrimary=t})}gi(t){return yl(t).get("owner").next(i=>P.resolve(this.Si(i)))}bi(t){return bh(t).delete(this.clientId)}Di(){return R(this,null,function*(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();let t=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{let e=Oe(i,"clientMetadata");return e.U().next(r=>{let o=this.vi(r,18e5),s=r.filter(a=>o.indexOf(a)===-1);return P.forEach(s,a=>e.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.di)for(let i of t)this.di.removeItem(this.Fi(i.clientId))}})}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(t){return!!t&&t.ownerId===this.clientId}pi(t){return this.ai?P.resolve(!0):yl(t).get("owner").next(i=>{if(i!==null&&this.Ci(i.leaseTimestampMs,5e3)&&!this.Mi(i.ownerId)){if(this.Si(i)&&this.networkEnabled)return!0;if(!this.Si(i)){if(!i.allowTabSynchronization)throw new L(N.FAILED_PRECONDITION,p_);return!1}}return!(!this.networkEnabled||!this.inForeground)||bh(t).U().next(e=>this.vi(e,5e3).find(r=>{if(this.clientId!==r.clientId){let o=!this.networkEnabled&&r.networkEnabled,s=!this.inForeground&&r.inForeground,a=this.networkEnabled===r.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(i=>(this.isPrimary!==i&&j("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){return R(this,null,function*(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),yield this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{let i=new Al(t,Ci.oe);return this.yi(i).next(()=>this.bi(i))}),this.Ei.close(),this.Li()})}vi(t,i){return t.filter(e=>this.Ci(e.updateTimeMs,i)&&!this.Mi(e.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",t=>bh(t).U().next(i=>this.vi(i,18e5).map(e=>e.clientId)))}get started(){return this.qr}getMutationQueue(t,i){return Wh.lt(t,this.serializer,i,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new cb(t,this.serializer.ct.databaseId)}getDocumentOverlayCache(t){return qh.lt(this.serializer,t)}getBundleCache(){return this.$r}runTransaction(t,i,e){j("IndexedDbPersistence","Starting transaction:",t);let r=i==="readonly"?"readonly":"readwrite",o=function(l){return l===16?TN:l===15?yC:l===14?vC:l===13?bC:l===12?CN:l===11?_C:void et()}(this.ui),s;return this.Ei.runTransaction(t,r,o,a=>(s=new Al(a,this.kr?this.kr.next():Ci.oe),i==="readwrite-primary"?this.gi(s).next(l=>!!l||this.pi(s)).next(l=>{if(!l)throw fe(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new L(N.FAILED_PRECONDITION,mC);return e(s)}).next(l=>this.wi(s).next(()=>l)):this.ki(s).next(()=>e(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}ki(t){return yl(t).get("owner").next(i=>{if(i!==null&&this.Ci(i.leaseTimestampMs,5e3)&&!this.Mi(i.ownerId)&&!this.Si(i)&&!(this.ai||this.allowTabSynchronization&&i.allowTabSynchronization))throw new L(N.FAILED_PRECONDITION,p_)})}wi(t){let i={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return yl(t).put("owner",i)}static D(){return Lr.D()}yi(t){let i=yl(t);return i.get("owner").next(e=>this.Si(e)?(j("IndexedDbPersistence","Releasing primary lease."),i.delete("owner")):P.resolve())}Ci(t,i){let e=Date.now();return!(t<e-i)&&(!(t>e)||(fe(`Detected an update time that is in the future: ${t} > ${e}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var t;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ci=()=>{this.xi();let i=/(?:Version|Mobile)\/1[456]/;Nf()&&(navigator.appVersion.match(i)||navigator.userAgent.match(i))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(t){var i;try{let e=((i=this.di)===null||i===void 0?void 0:i.getItem(this.Fi(t)))!==null;return j("IndexedDbPersistence",`Client '${t}' ${e?"is":"is not"} zombied in LocalStorage`),e}catch(e){return fe("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(t){fe("Failed to set zombie client id.",t)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}};function yl(n){return Oe(n,"owner")}function bh(n){return Oe(n,"clientMetadata")}function Cv(n,t){let i=n.projectId;return n.isDefaultDatabase||(i+="."+n.database),"firestore/"+t+"/"+i+"/"}var Cb=class n{constructor(t,i,e,r){this.targetId=t,this.fromCache=i,this.qi=e,this.Qi=r}static Ki(t,i){let e=yt(),r=yt();for(let o of i.docChanges)switch(o.type){case 0:e=e.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new n(t,i.fromCache,e,r)}};var Tb=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}};var Zh=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return Nf()?8:fC(bc())>0?6:4}()}initialize(t,i){this.zi=t,this.indexManager=i,this.$i=!0}getDocumentsMatchingQuery(t,i,e,r){let o={result:null};return this.ji(t,i).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(t,i,r,e).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Tb;return this.Ji(t,i,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(t,i,s,a.size)})}).next(()=>o.result)}Yi(t,i,e,r){return e.documentReadCount<this.Wi?(ra()<=sn.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",oa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),P.resolve()):(ra()<=sn.DEBUG&&j("QueryEngine","Query:",oa(i),"scans",e.documentReadCount,"local documents and returns",r,"documents as results."),e.documentReadCount>this.Gi*r?(ra()<=sn.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",oa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ri(i))):P.resolve())}ji(t,i){if(xk(i))return P.resolve(null);let e=ri(i);return this.indexManager.getIndexType(t,e).next(r=>r===0?null:(i.limit!==null&&r===1&&(i=Lh(i,null,"F"),e=ri(i)),this.indexManager.getDocumentsMatchingTarget(t,e).next(o=>{let s=yt(...o);return this.zi.getDocuments(t,s).next(a=>this.indexManager.getMinOffset(t,e).next(l=>{let d=this.Zi(i,a);return this.Xi(i,d,s,l.readTime)?this.ji(t,Lh(i,null,"F")):this.es(t,d,i,l)}))})))}Hi(t,i,e,r){return xk(i)||r.isEqual(ut.min())?P.resolve(null):this.zi.getDocuments(t,e).next(o=>{let s=this.Zi(i,o);return this.Xi(i,s,e,r)?P.resolve(null):(ra()<=sn.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),oa(i)),this.es(t,s,i,uC(r,-1)).next(a=>a))})}Zi(t,i){let e=new qt(PC(t));return i.forEach((r,o)=>{Jl(t,o)&&(e=e.add(o))}),e}Xi(t,i,e,r){if(t.limit===null)return!1;if(e.size!==i.size)return!0;let o=t.limitType==="F"?i.last():i.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ji(t,i,e){return ra()<=sn.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",oa(i)),this.zi.getDocumentsMatchingQuery(t,i,ji.min(),e)}es(t,i,e,r){return this.zi.getDocumentsMatchingQuery(t,e,r).next(o=>(i.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Sb=class{constructor(t,i,e,r){this.persistence=t,this.ts=i,this.serializer=r,this.ns=new Kt(vt),this.rs=new xn(o=>qo(o),Xl),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(e)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Qh(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.ns))}};function fT(n,t,i,e){return new Sb(n,t,i,e)}function pT(n,t){return R(this,null,function*(){let i=Q(n);return yield i.persistence.runTransaction("Handle user change","readonly",e=>{let r;return i.mutationQueue.getAllMutationBatches(e).next(o=>(r=o,i._s(t),i.mutationQueue.getAllMutationBatches(e))).next(o=>{let s=[],a=[],l=yt();for(let d of r){s.push(d.batchId);for(let h of d.mutations)l=l.add(h.key)}for(let d of o){a.push(d.batchId);for(let h of d.mutations)l=l.add(h.key)}return i.localDocuments.getDocuments(e,l).next(d=>({us:d,removedBatchIds:s,addedBatchIds:a}))})})})}function s2(n,t){let i=Q(n);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{let r=t.batch.keys(),o=i.os.newChangeBuffer({trackRemovals:!0});return function(a,l,d,h){let f=d.batch,g=f.keys(),_=P.resolve();return g.forEach(S=>{_=_.next(()=>h.getEntry(l,S)).next(O=>{let M=d.docVersions.get(S);at(M!==null),O.version.compareTo(M)<0&&(f.applyToRemoteDocument(O,d),O.isValidDocument()&&(O.setReadTime(d.commitVersion),h.addEntry(O)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(i,e,t,o).next(()=>o.apply(e)).next(()=>i.mutationQueue.performConsistencyCheck(e)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(a){let l=yt();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(l=l.add(a.batch.mutations[d].key));return l}(t))).next(()=>i.localDocuments.getDocuments(e,r))})}function gT(n){let t=Q(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Qr.getLastRemoteSnapshotVersion(i))}function a2(n,t){let i=Q(n),e=t.snapshotVersion,r=i.ns;return i.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=i.os.newChangeBuffer({trackRemovals:!0});r=i.ns;let a=[];t.targetChanges.forEach((h,f)=>{let g=r.get(f);if(!g)return;a.push(i.Qr.removeMatchingKeys(o,h.removedDocuments,f).next(()=>i.Qr.addMatchingKeys(o,h.addedDocuments,f)));let _=g.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(f)!==null?_=_.withResumeToken(Pe.EMPTY_BYTE_STRING,ut.min()).withLastLimboFreeSnapshotVersion(ut.min()):h.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(h.resumeToken,e)),r=r.insert(f,_),function(O,M,K){return O.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(g,_,h)&&a.push(i.Qr.updateTargetData(o,_))});let l=fi(),d=yt();if(t.documentUpdates.forEach(h=>{t.resolvedLimboDocuments.has(h)&&a.push(i.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(_T(o,s,t.documentUpdates).next(h=>{l=h.cs,d=h.ls})),!e.isEqual(ut.min())){let h=i.Qr.getLastRemoteSnapshotVersion(o).next(f=>i.Qr.setTargetsMetadata(o,o.currentSequenceNumber,e));a.push(h)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>i.localDocuments.getLocalViewOfDocuments(o,l,d)).next(()=>l)}).then(o=>(i.ns=r,o))}function _T(n,t,i){let e=yt(),r=yt();return i.forEach(o=>e=e.add(o)),t.getEntries(n,e).next(o=>{let s=fi();return i.forEach((a,l)=>{let d=o.get(a);l.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(ut.min())?(t.removeEntry(a,l.readTime),s=s.insert(a,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||l.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(l),s=s.insert(a,l)):j("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",l.version)}),{cs:s,ls:r}})}function c2(n,t){let i=Q(n);return i.persistence.runTransaction("Get next mutation batch","readonly",e=>(t===void 0&&(t=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function xa(n,t){let i=Q(n);return i.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return i.Qr.getTargetData(e,t).next(o=>o?(r=o,P.resolve(r)):i.Qr.allocateTargetId(e).next(s=>(r=new ya(t,s,"TargetPurposeListen",e.currentSequenceNumber),i.Qr.addTargetData(e,r).next(()=>r))))}).then(e=>{let r=i.ns.get(e.targetId);return(r===null||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(i.ns=i.ns.insert(e.targetId,e),i.rs.set(t,e.targetId)),e})}function Ea(n,t,i){return R(this,null,function*(){let e=Q(n),r=e.ns.get(t),o=i?"readwrite":"readwrite-primary";try{i||(yield e.persistence.runTransaction("Release target",o,s=>e.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Wr(s))throw s;j("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}e.ns=e.ns.remove(t),e.rs.delete(r.target)})}function Jh(n,t,i){let e=Q(n),r=ut.min(),o=yt();return e.persistence.runTransaction("Execute query","readwrite",s=>function(l,d,h){let f=Q(l),g=f.rs.get(h);return g!==void 0?P.resolve(f.ns.get(g)):f.Qr.getTargetData(d,h)}(e,s,ri(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,e.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>e.ts.getDocumentsMatchingQuery(s,t,i?r:ut.min(),i?o:yt())).next(a=>(yT(e,MC(t),a),{documents:a,hs:o})))}function bT(n,t){let i=Q(n),e=Q(i.Qr),r=i.ns.get(t);return r?Promise.resolve(r.target):i.persistence.runTransaction("Get target data","readonly",o=>e.ot(o,t).next(s=>s?s.target:null))}function vT(n,t){let i=Q(n),e=i.ss.get(t)||ut.min();return i.persistence.runTransaction("Get new document changes","readonly",r=>i.os.getAllFromCollectionGroup(r,t,uC(e,-1),Number.MAX_SAFE_INTEGER)).then(r=>(yT(i,t,r),r))}function yT(n,t,i){let e=n.ss.get(t)||ut.min();i.forEach((r,o)=>{o.readTime.compareTo(e)>0&&(e=o.readTime)}),n.ss.set(t,e)}function l2(n,t,i,e){return R(this,null,function*(){let r=Q(n),o=yt(),s=fi();for(let d of i){let h=t.Ps(d.metadata.name);d.document&&(o=o.add(h));let f=t.Is(d);f.setReadTime(t.Ts(d.metadata.readTime)),s=s.insert(h,f)}let a=r.os.newChangeBuffer({trackRemovals:!0}),l=yield xa(r,function(h){return ri(Ra(At.fromString(`__bundle__/docs/${h}`)))}(e));return r.persistence.runTransaction("Apply bundle documents","readwrite",d=>_T(d,a,s).next(h=>(a.apply(d),h)).next(h=>r.Qr.removeMatchingKeysForTargetId(d,l.targetId).next(()=>r.Qr.addMatchingKeys(d,o,l.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(d,h.cs,h.ls)).next(()=>h.cs)))})}function d2(e,r){return R(this,arguments,function*(n,t,i=yt()){let o=yield xa(n,ri(Iv(t.bundledQuery))),s=Q(n);return s.persistence.runTransaction("Save named query","readwrite",a=>{let l=ge(t.readTime);if(o.snapshotVersion.compareTo(l)>=0)return s.$r.saveNamedQuery(a,t);let d=o.withResumeToken(Pe.EMPTY_BYTE_STRING,l);return s.ns=s.ns.insert(d.targetId,d),s.Qr.updateTargetData(a,d).next(()=>s.Qr.removeMatchingKeysForTargetId(a,o.targetId)).next(()=>s.Qr.addMatchingKeys(a,i,o.targetId)).next(()=>s.$r.saveNamedQuery(a,t))})})}function Yk(n,t){return`firestore_clients_${n}_${t}`}function Xk(n,t,i){let e=`firestore_mutations_${n}_${i}`;return t.isAuthenticated()&&(e+=`_${t.uid}`),e}function g_(n,t){return`firestore_targets_${n}_${t}`}var tm=class n{constructor(t,i,e,r){this.user=t,this.batchId=i,this.state=e,this.error=r}static Es(t,i,e){let r=JSON.parse(e),o,s=typeof r=="object"&&["pending","acknowledged","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(o=new L(r.error.code,r.error.message))),s?new n(t,i,r.state,o):(fe("SharedClientState",`Failed to parse mutation state for ID '${i}': ${e}`),null)}ds(){let t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}},Cl=class n{constructor(t,i,e){this.targetId=t,this.state=i,this.error=e}static Es(t,i){let e=JSON.parse(i),r,o=typeof e=="object"&&["not-current","current","rejected"].indexOf(e.state)!==-1&&(e.error===void 0||typeof e.error=="object");return o&&e.error&&(o=typeof e.error.message=="string"&&typeof e.error.code=="string",o&&(r=new L(e.error.code,e.error.message))),o?new n(t,e.state,r):(fe("SharedClientState",`Failed to parse target state for ID '${t}': ${i}`),null)}ds(){let t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}},em=class n{constructor(t,i){this.clientId=t,this.activeTargetIds=i}static Es(t,i){let e=JSON.parse(i),r=typeof e=="object"&&e.activeTargetIds instanceof Array,o=xv();for(let s=0;r&&s<e.activeTargetIds.length;++s)r=pC(e.activeTargetIds[s]),o=o.add(e.activeTargetIds[s]);return r?new n(t,o):(fe("SharedClientState",`Failed to parse client data for instance '${t}': ${i}`),null)}},Db=class n{constructor(t,i){this.clientId=t,this.onlineState=i}static Es(t){let i=JSON.parse(t);return typeof i=="object"&&["Unknown","Online","Offline"].indexOf(i.onlineState)!==-1&&typeof i.clientId=="string"?new n(i.clientId,i.onlineState):(fe("SharedClientState",`Failed to parse online state: ${t}`),null)}},ql=class{constructor(){this.activeTargetIds=xv()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){let t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}},Tl=class{constructor(t,i,e,r,o){this.window=t,this.oi=i,this.persistenceKey=e,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Kt(vt),this.started=!1,this.ys=[];let s=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ws=Yk(this.persistenceKey,this.Vs),this.Ss=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new ql),this.bs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.vs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.Fs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(t){return!(!t||!t.localStorage)}start(){return R(this,null,function*(){let t=yield this.syncEngine.Bi();for(let e of t){if(e===this.Vs)continue;let r=this.getItem(Yk(this.persistenceKey,e));if(r){let o=em.Es(e,r);o&&(this.ps=this.ps.insert(o.clientId,o))}}this.Ms();let i=this.storage.getItem(this.vs);if(i){let e=this.xs(i);e&&this.Os(e)}for(let e of this.ys)this.gs(e);this.ys=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(t){this.setItem(this.Ss,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(t){let i=!1;return this.ps.forEach((e,r)=>{r.activeTargetIds.has(t)&&(i=!0)}),i}addPendingMutation(t){this.Ls(t,"pending")}updateMutationState(t,i,e){this.Ls(t,i,e),this.Bs(t)}addLocalQueryTarget(t){let i="not-current";if(this.isActiveQueryTarget(t)){let e=this.storage.getItem(g_(this.persistenceKey,t));if(e){let r=Cl.Es(t,e);r&&(i=r.state)}}return this.ks.As(t),this.Ms(),i}removeLocalQueryTarget(t){this.ks.Rs(t),this.Ms()}isLocalQueryTarget(t){return this.ks.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(g_(this.persistenceKey,t))}updateQueryState(t,i,e){this.qs(t,i,e)}handleUserChange(t,i,e){i.forEach(r=>{this.Bs(r)}),this.currentUser=t,e.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Qs(t)}notifyBundleLoaded(t){this.Ks(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(t){let i=this.storage.getItem(t);return j("SharedClientState","READ",t,i),i}setItem(t,i){j("SharedClientState","SET",t,i),this.storage.setItem(t,i)}removeItem(t){j("SharedClientState","REMOVE",t),this.storage.removeItem(t)}gs(t){let i=t;if(i.storageArea===this.storage){if(j("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ws)return void fe("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(()=>R(this,null,function*(){if(this.started){if(i.key!==null){if(this.bs.test(i.key)){if(i.newValue==null){let e=this.$s(i.key);return this.Us(e,null)}{let e=this.Ws(i.key,i.newValue);if(e)return this.Us(e.clientId,e)}}else if(this.Ds.test(i.key)){if(i.newValue!==null){let e=this.Gs(i.key,i.newValue);if(e)return this.zs(e)}}else if(this.Cs.test(i.key)){if(i.newValue!==null){let e=this.js(i.key,i.newValue);if(e)return this.Hs(e)}}else if(i.key===this.vs){if(i.newValue!==null){let e=this.xs(i.newValue);if(e)return this.Os(e)}}else if(i.key===this.Ss){let e=function(o){let s=Ci.oe;if(o!=null)try{let a=JSON.parse(o);at(typeof a=="number"),s=a}catch(a){fe("SharedClientState","Failed to read sequence number from WebStorage",a)}return s}(i.newValue);e!==Ci.oe&&this.sequenceNumberHandler(e)}else if(i.key===this.Fs){let e=this.Js(i.newValue);yield Promise.all(e.map(r=>this.syncEngine.Ys(r)))}}}else this.ys.push(i)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(t,i,e){let r=new tm(this.currentUser,t,i,e),o=Xk(this.persistenceKey,this.currentUser,t);this.setItem(o,r.ds())}Bs(t){let i=Xk(this.persistenceKey,this.currentUser,t);this.removeItem(i)}Qs(t){let i={clientId:this.Vs,onlineState:t};this.storage.setItem(this.vs,JSON.stringify(i))}qs(t,i,e){let r=g_(this.persistenceKey,t),o=new Cl(t,i,e);this.setItem(r,o.ds())}Ks(t){let i=JSON.stringify(Array.from(t));this.setItem(this.Fs,i)}$s(t){let i=this.bs.exec(t);return i?i[1]:null}Ws(t,i){let e=this.$s(t);return em.Es(e,i)}Gs(t,i){let e=this.Ds.exec(t),r=Number(e[1]),o=e[2]!==void 0?e[2]:null;return tm.Es(new we(o),r,i)}js(t,i){let e=this.Cs.exec(t),r=Number(e[1]);return Cl.Es(r,i)}xs(t){return Db.Es(t)}Js(t){return JSON.parse(t)}zs(t){return R(this,null,function*(){if(t.user.uid===this.currentUser.uid)return this.syncEngine.Zs(t.batchId,t.state,t.error);j("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})}Hs(t){return this.syncEngine.Xs(t.targetId,t.state,t.error)}Us(t,i){let e=i?this.ps.insert(t,i):this.ps.remove(t),r=this.Ns(this.ps),o=this.Ns(e),s=[],a=[];return o.forEach(l=>{r.has(l)||s.push(l)}),r.forEach(l=>{o.has(l)||a.push(l)}),this.syncEngine.eo(s,a).then(()=>{this.ps=e})}Os(t){this.ps.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ns(t){let i=xv();return t.forEach((e,r)=>{i=i.unionWith(r.activeTargetIds)}),i}},im=class{constructor(){this.no=new ql,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,e){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,i,e){this.ro[t]=i}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new ql,Promise.resolve()}handleUserChange(t,i,e){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}};var Ab=class{io(t){}shutdown(){}};var nm=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let t of this.uo)t(0)}ao(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let t of this.uo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var vh=null;function __(){return vh===null?vh=function(){return 268435456+Math.round(2147483648*Math.random())}():vh++,"0x"+vh.toString(16)}var u2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Rb=class{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}Ao(t){this.Ro=t}onMessage(t){this.Vo=t}close(){this.ho()}send(t){this.lo(t)}mo(){this.Io()}fo(){this.Eo()}po(t){this.Ro(t)}yo(t){this.Vo(t)}};var Ge="WebChannelConnection",Mb=class extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;let e=i.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=e+"://"+i.host,this.So=`projects/${r}/databases/${o}`,this.bo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get Do(){return!1}Co(i,e,r,o,s){let a=__(),l=this.vo(i,e.toUriEncodedString());j("RestConnection",`Sending RPC '${i}' ${a}:`,l,r);let d={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(d,o,s),this.Mo(i,l,d,r).then(h=>(j("RestConnection",`Received RPC '${i}' ${a}: `,h),h),h=>{throw Vi("RestConnection",`RPC '${i}' ${a} failed with error: `,h,"url: ",l,"request:",r),h})}xo(i,e,r,o,s,a){return this.Co(i,e,r,o,s)}Fo(i,e,r){i["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Aa}(),i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((o,s)=>i[s]=o),r&&r.headers.forEach((o,s)=>i[s]=o)}vo(i,e){let r=u2[i];return`${this.wo}/v1/${e}:${r}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Mo(t,i,e,r){let o=__();return new Promise((s,a)=>{let l=new c_;l.setWithCredentials(!0),l.listenOnce(d_.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case gl.NO_ERROR:let h=l.getResponseJson();j(Ge,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(h)),s(h);break;case gl.TIMEOUT:j(Ge,`RPC '${t}' ${o} timed out`),a(new L(N.DEADLINE_EXCEEDED,"Request time out"));break;case gl.HTTP_ERROR:let f=l.getStatus();if(j(Ge,`RPC '${t}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);let _=g?.error;if(_&&_.status&&_.message){let S=function(M){let K=M.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(K)>=0?K:N.UNKNOWN}(_.status);a(new L(S,_.message))}else a(new L(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new L(N.UNAVAILABLE,"Connection failed."));break;default:et()}}finally{j(Ge,`RPC '${t}' ${o} completed.`)}});let d=JSON.stringify(r);j(Ge,`RPC '${t}' ${o} sending request:`,r),l.send(i,"POST",d,e,15)})}Oo(t,i,e){let r=__(),o=[this.wo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=m_(),a=h_(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.xmlHttpFactory=new l_({})),this.Fo(l.initMessageHeaders,i,e),l.encodeInitMessageHeaders=!0;let h=o.join("");j(Ge,`Creating RPC '${t}' stream ${r}: ${h}`,l);let f=s.createWebChannel(h,l),g=!1,_=!1,S=new Rb({lo:M=>{_?j(Ge,`Not sending because RPC '${t}' stream ${r} is closed:`,M):(g||(j(Ge,`Opening RPC '${t}' stream ${r} transport.`),f.open(),g=!0),j(Ge,`RPC '${t}' stream ${r} sending:`,M),f.send(M))},ho:()=>f.close()}),O=(M,K,it)=>{M.listen(K,U=>{try{it(U)}catch(nt){setTimeout(()=>{throw nt},0)}})};return O(f,Js.EventType.OPEN,()=>{_||(j(Ge,`RPC '${t}' stream ${r} transport opened.`),S.mo())}),O(f,Js.EventType.CLOSE,()=>{_||(_=!0,j(Ge,`RPC '${t}' stream ${r} transport closed`),S.po())}),O(f,Js.EventType.ERROR,M=>{_||(_=!0,Vi(Ge,`RPC '${t}' stream ${r} transport errored:`,M),S.po(new L(N.UNAVAILABLE,"The operation could not be completed")))}),O(f,Js.EventType.MESSAGE,M=>{var K;if(!_){let it=M.data[0];at(!!it);let U=it,nt=U.error||((K=U[0])===null||K===void 0?void 0:K.error);if(nt){j(Ge,`RPC '${t}' stream ${r} received error:`,nt);let ft=nt.status,pt=function(y){let I=ve[y];if(I!==void 0)return WC(I)}(ft),x=nt.message;pt===void 0&&(pt=N.INTERNAL,x="Unknown error status: "+ft+" with message "+nt.message),_=!0,S.po(new L(pt,x)),f.close()}else j(Ge,`RPC '${t}' stream ${r} received:`,it),S.yo(it)}}),O(a,u_.STAT_EVENT,M=>{M.stat===ph.PROXY?j(Ge,`RPC '${t}' stream ${r} detected buffering proxy`):M.stat===ph.NOPROXY&&j(Ge,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{S.fo()},0),S}};function wT(){return typeof window<"u"?window:null}function Ih(){return typeof document<"u"?document:null}function td(n){return new Q_(n,!0)}var $l=class{constructor(t,i,e=1e3,r=1.5,o=6e4){this.oi=t,this.timerId=i,this.No=e,this.Lo=r,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(t){this.cancel();let i=Math.floor(this.ko+this.Uo()),e=Math.max(0,Date.now()-this.Qo),r=Math.max(0,i-e);r>0&&j("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${i} ms, last attempt: ${e} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Qo=Date.now(),t())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var rm=class{constructor(t,i,e,r,o,s,a,l){this.oi=t,this.Go=e,this.zo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new $l(t,i)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return R(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(t){this.s_(),this.stream.send(t)}r_(){return R(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(t,i){return R(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,t!==4?this.Yo.reset():i&&i.code===N.RESOURCE_EXHAUSTED?(fe(i.toString()),fe("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):i&&i.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=t,yield this.listener.Ao(i)})}__(){}auth(){this.state=1;let t=this.a_(this.jo),i=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,r])=>{this.jo===i&&this.u_(e,r)},e=>{t(()=>{let r=new L(N.UNKNOWN,"Fetching auth token failed: "+e.message);return this.c_(r)})})}u_(t,i){let e=this.a_(this.jo);this.stream=this.l_(t,i),this.stream.Po(()=>{e(()=>this.listener.Po())}),this.stream.To(()=>{e(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(r=>{e(()=>this.c_(r))}),this.stream.onMessage(r=>{e(()=>this.onMessage(r))})}e_(){this.state=5,this.Yo.$o(()=>R(this,null,function*(){this.state=0,this.start()}))}c_(t){return j("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}a_(t){return i=>{this.oi.enqueueAndForget(()=>this.jo===t?i():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Pb=class extends rm{constructor(t,i,e,r,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,e,r,s),this.serializer=o}l_(t,i){return this.connection.Oo("Listen",t,i)}onMessage(t){this.Yo.reset();let i=QN(this.serializer,t),e=function(o){if(!("targetChange"in o))return ut.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ut.min():s.readTime?ge(s.readTime):ut.min()}(t);return this.listener.h_(i,e)}P_(t){let i={};i.database=Z_(this.serializer),i.addTarget=function(o,s){let a,l=s.target;if(a=Fh(l)?{documents:eT(o,l)}:{query:iT(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=QC(o,s.resumeToken);let d=Y_(o,s.expectedCount);d!==null&&(a.expectedCount=d)}else if(s.snapshotVersion.compareTo(ut.min())>0){a.readTime=va(o,s.snapshotVersion.toTimestamp());let d=Y_(o,s.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,t);let e=XN(this.serializer,t);e&&(i.labels=e),this.i_(i)}I_(t){let i={};i.database=Z_(this.serializer),i.removeTarget=t,this.i_(i)}},Ob=class extends rm{constructor(t,i,e,r,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,e,r,s),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(t,i){return this.connection.Oo("Write",t,i)}onMessage(t){if(at(!!t.streamToken),this.lastStreamToken=t.streamToken,this.T_){this.Yo.reset();let i=YN(t.writeResults,t.commitTime),e=ge(t.commitTime);return this.listener.A_(e,i)}return at(!t.writeResults||t.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let t={};t.database=Z_(this.serializer),this.i_(t)}d_(t){let i={streamToken:this.lastStreamToken,writes:t.map(e=>Bl(this.serializer,e))};this.i_(i)}};var Fb=class extends class{}{constructor(t,i,e,r){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=e,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new L(N.FAILED_PRECONDITION,"The client has already been terminated.")}Co(t,i,e,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(t,X_(i,e),r,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(N.UNKNOWN,o.toString())})}xo(t,i,e,r,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.xo(t,X_(i,e),r,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(N.UNKNOWN,s.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},Nb=class{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(t){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.S_("Offline")))}set(t){this.C_(),this.g_=0,t==="Online"&&(this.y_=!1),this.S_(t)}S_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}b_(t){let i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(fe(i),this.y_=!1):j("OnlineStateTracker",i)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var Lb=class{constructor(t,i,e,r,o){this.localStore=t,this.datastore=i,this.asyncQueue=e,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(s=>{e.enqueueAndForget(()=>R(this,null,function*(){Kr(this)&&(j("RemoteStore","Restarting streams for network reachability change."),yield function(l){return R(this,null,function*(){let d=Q(l);d.M_.add(4),yield Ma(d),d.N_.set("Unknown"),d.M_.delete(4),yield ed(d)})}(this))}))}),this.N_=new Nb(e,r)}};function ed(n){return R(this,null,function*(){if(Kr(n))for(let t of n.x_)yield t(!0)})}function Ma(n){return R(this,null,function*(){for(let t of n.x_)yield t(!1)})}function Em(n,t){let i=Q(n);i.F_.has(t.targetId)||(i.F_.set(t.targetId,t),Dv(i)?Sv(i):Oa(i).Xo()&&Tv(i,t))}function Ia(n,t){let i=Q(n),e=Oa(i);i.F_.delete(t),e.Xo()&&xT(i,t),i.F_.size===0&&(e.Xo()?e.n_():Kr(i)&&i.N_.set("Unknown"))}function Tv(n,t){if(n.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ut.min())>0){let i=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Oa(n).P_(t)}function xT(n,t){n.L_.xe(t),Oa(n).I_(t)}function Sv(n){n.L_=new K_({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>n.F_.get(t)||null,tt:()=>n.datastore.serializer.databaseId}),Oa(n).start(),n.N_.w_()}function Dv(n){return Kr(n)&&!Oa(n).Zo()&&n.F_.size>0}function Kr(n){return Q(n).M_.size===0}function ET(n){n.L_=void 0}function h2(n){return R(this,null,function*(){n.N_.set("Online")})}function m2(n){return R(this,null,function*(){n.F_.forEach((t,i)=>{Tv(n,t)})})}function f2(n,t){return R(this,null,function*(){ET(n),Dv(n)?(n.N_.D_(t),Sv(n)):n.N_.set("Unknown")})}function p2(n,t,i){return R(this,null,function*(){if(n.N_.set("Online"),t instanceof jh&&t.state===2&&t.cause)try{yield function(r,o){return R(this,null,function*(){let s=o.cause;for(let a of o.targetIds)r.F_.has(a)&&(yield r.remoteSyncer.rejectListen(a,s),r.F_.delete(a),r.L_.removeTarget(a))})}(n,t)}catch(e){j("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),e),yield om(n,e)}else if(t instanceof ha?n.L_.Ke(t):t instanceof Vh?n.L_.He(t):n.L_.We(t),!i.isEqual(ut.min()))try{let e=yield gT(n.localStore);i.compareTo(e)>=0&&(yield function(o,s){let a=o.L_.rt(s);return a.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){let h=o.F_.get(d);h&&o.F_.set(d,h.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,d)=>{let h=o.F_.get(l);if(!h)return;o.F_.set(l,h.withResumeToken(Pe.EMPTY_BYTE_STRING,h.snapshotVersion)),xT(o,l);let f=new ya(h.target,l,d,h.sequenceNumber);Tv(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(n,i))}catch(e){j("RemoteStore","Failed to raise snapshot:",e),yield om(n,e)}})}function om(n,t,i){return R(this,null,function*(){if(!Wr(t))throw t;n.M_.add(1),yield Ma(n),n.N_.set("Offline"),i||(i=()=>gT(n.localStore)),n.asyncQueue.enqueueRetryable(()=>R(this,null,function*(){j("RemoteStore","Retrying IndexedDB access"),yield i(),n.M_.delete(1),yield ed(n)}))})}function IT(n,t){return t().catch(i=>om(n,i,t))}function Pa(n){return R(this,null,function*(){let t=Q(n),i=Hr(t),e=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;g2(t);)try{let r=yield c2(t.localStore,e);if(r===null){t.v_.length===0&&i.n_();break}e=r.batchId,_2(t,r)}catch(r){yield om(t,r)}kT(t)&&CT(t)})}function g2(n){return Kr(n)&&n.v_.length<10}function _2(n,t){n.v_.push(t);let i=Hr(n);i.Xo()&&i.E_&&i.d_(t.mutations)}function kT(n){return Kr(n)&&!Hr(n).Zo()&&n.v_.length>0}function CT(n){Hr(n).start()}function b2(n){return R(this,null,function*(){Hr(n).V_()})}function v2(n){return R(this,null,function*(){let t=Hr(n);for(let i of n.v_)t.d_(i.mutations)})}function y2(n,t,i){return R(this,null,function*(){let e=n.v_.shift(),r=H_.from(e,t,i);yield IT(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Pa(n)})}function w2(n,t){return R(this,null,function*(){t&&Hr(n).E_&&(yield function(e,r){return R(this,null,function*(){if(function(s){return GC(s)&&s!==N.ABORTED}(r.code)){let o=e.v_.shift();Hr(e).t_(),yield IT(e,()=>e.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield Pa(e)}})}(n,t)),kT(n)&&CT(n)})}function Zk(n,t){return R(this,null,function*(){let i=Q(n);i.asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials");let e=Kr(i);i.M_.add(3),yield Ma(i),e&&i.N_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(t),i.M_.delete(3),yield ed(i)})}function Vb(n,t){return R(this,null,function*(){let i=Q(n);t?(i.M_.delete(2),yield ed(i)):t||(i.M_.add(2),yield Ma(i),i.N_.set("Unknown"))})}function Oa(n){return n.B_||(n.B_=function(i,e,r){let o=Q(i);return o.f_(),new Pb(e,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Po:h2.bind(null,n),To:m2.bind(null,n),Ao:f2.bind(null,n),h_:p2.bind(null,n)}),n.x_.push(t=>R(this,null,function*(){t?(n.B_.t_(),Dv(n)?Sv(n):n.N_.set("Unknown")):(yield n.B_.stop(),ET(n))}))),n.B_}function Hr(n){return n.k_||(n.k_=function(i,e,r){let o=Q(i);return o.f_(),new Ob(e,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Po:()=>Promise.resolve(),To:b2.bind(null,n),Ao:w2.bind(null,n),R_:v2.bind(null,n),A_:y2.bind(null,n)}),n.x_.push(t=>R(this,null,function*(){t?(n.k_.t_(),yield Pa(n)):(yield n.k_.stop(),n.v_.length>0&&(j("RemoteStore",`Stopping write stream with ${n.v_.length} pending writes`),n.v_=[]))}))),n.k_}var jb=class n{constructor(t,i,e,r,o){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=e,this.op=r,this.removalCallback=o,this.deferred=new xe,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,e,r,o){let s=Date.now()+e,a=new n(t,i,s,r,o);return a.start(e),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(N.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Fa(n,t){if(fe("AsyncQueue",`${t}: ${n}`),Wr(n))return new L(N.UNAVAILABLE,`${t}: ${n}`);throw n}var sm=class n{constructor(t){this.comparator=t?(i,e)=>t(i,e)||W.comparator(i.key,e.key):(i,e)=>W.comparator(i.key,e.key),this.keyedMap=wl(),this.sortedSet=new Kt(this.comparator)}static emptySet(t){return new n(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){let i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,e)=>(t(i),!1))}add(t){let i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){let i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof n)||this.size!==t.size)return!1;let i=this.sortedSet.getIterator(),e=t.sortedSet.getIterator();for(;i.hasNext();){let r=i.getNext().key,o=e.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){let e=new n;return e.comparator=this.comparator,e.keyedMap=t,e.sortedSet=i,e}};var am=class{constructor(){this.q_=new Kt(W.comparator)}track(t){let i=t.doc.key,e=this.q_.get(i);e?t.type!==0&&e.type===3?this.q_=this.q_.insert(i,t):t.type===3&&e.type!==1?this.q_=this.q_.insert(i,{type:e.type,doc:t.doc}):t.type===2&&e.type===2?this.q_=this.q_.insert(i,{type:2,doc:t.doc}):t.type===2&&e.type===0?this.q_=this.q_.insert(i,{type:0,doc:t.doc}):t.type===1&&e.type===0?this.q_=this.q_.remove(i):t.type===1&&e.type===2?this.q_=this.q_.insert(i,{type:1,doc:e.doc}):t.type===0&&e.type===1?this.q_=this.q_.insert(i,{type:2,doc:t.doc}):et():this.q_=this.q_.insert(i,t)}Q_(){let t=[];return this.q_.inorderTraversal((i,e)=>{t.push(e)}),t}},ka=class n{constructor(t,i,e,r,o,s,a,l,d){this.query=t,this.docs=i,this.oldDocs=e,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(t,i,e,r,o){let s=[];return i.forEach(a=>{s.push({type:0,doc:a})}),new n(t,i,sm.emptySet(i),s,e,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Zl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;let i=this.docChanges,e=t.docChanges;if(i.length!==e.length)return!1;for(let r=0;r<i.length;r++)if(i[r].type!==e[r].type||!i[r].doc.isEqual(e[r].doc))return!1;return!0}};var Bb=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(t=>t.G_())}},zb=class{constructor(){this.queries=new xn(t=>RC(t),Zl),this.onlineState="Unknown",this.z_=new Set}};function Av(n,t){return R(this,null,function*(){let i=Q(n),e=3,r=t.query,o=i.queries.get(r);o?!o.W_()&&t.G_()&&(e=2):(o=new Bb,e=t.G_()?0:1);try{switch(e){case 0:o.K_=yield i.onListen(r,!0);break;case 1:o.K_=yield i.onListen(r,!1);break;case 2:yield i.onFirstRemoteStoreListen(r)}}catch(s){let a=Fa(s,`Initialization of query '${oa(t.query)}' failed`);return void t.onError(a)}i.queries.set(r,o),o.U_.push(t),t.j_(i.onlineState),o.K_&&t.H_(o.K_)&&Mv(i)})}function Rv(n,t){return R(this,null,function*(){let i=Q(n),e=t.query,r=3,o=i.queries.get(e);if(o){let s=o.U_.indexOf(t);s>=0&&(o.U_.splice(s,1),o.U_.length===0?r=t.G_()?0:1:!o.W_()&&t.G_()&&(r=2))}switch(r){case 0:return i.queries.delete(e),i.onUnlisten(e,!0);case 1:return i.queries.delete(e),i.onUnlisten(e,!1);case 2:return i.onLastRemoteStoreUnlisten(e);default:return}})}function x2(n,t){let i=Q(n),e=!1;for(let r of t){let o=r.query,s=i.queries.get(o);if(s){for(let a of s.U_)a.H_(r)&&(e=!0);s.K_=r}}e&&Mv(i)}function E2(n,t,i){let e=Q(n),r=e.queries.get(t);if(r)for(let o of r.U_)o.onError(i);e.queries.delete(t)}function Mv(n){n.z_.forEach(t=>{t.next()})}var Ub,Jk;(Jk=Ub||(Ub={})).J_="default",Jk.Cache="cache";var Hl=class{constructor(t,i,e){this.query=t,this.Y_=i,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=e||{}}H_(t){if(!this.options.includeMetadataChanges){let e=[];for(let r of t.docChanges)r.type!==3&&e.push(r);t=new ka(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Z_?this.ea(t)&&(this.Y_.next(t),i=!0):this.ta(t,this.onlineState)&&(this.na(t),i=!0),this.X_=t,i}onError(t){this.Y_.error(t)}j_(t){this.onlineState=t;let i=!1;return this.X_&&!this.Z_&&this.ta(this.X_,t)&&(this.na(this.X_),i=!0),i}ta(t,i){if(!t.fromCache||!this.G_())return!0;let e=i!=="Offline";return(!this.options.ra||!e)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}ea(t){if(t.docChanges.length>0)return!0;let i=this.X_&&this.X_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}na(t){t=ka.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Z_=!0,this.Y_.next(t)}G_(){return this.options.source!==Ub.Cache}};var qb=class{constructor(t,i){this.ia=t,this.byteLength=i}sa(){return"metadata"in this.ia}};var cm=class{constructor(t){this.serializer=t}Ps(t){return bn(this.serializer,t)}Is(t){return t.metadata.exists?tT(this.serializer,t.document,!1):Ee.newNoDocument(this.Ps(t.metadata.name),this.Ts(t.metadata.readTime))}Ts(t){return ge(t)}},$b=class{constructor(t,i,e){this.oa=t,this.localStore=i,this.serializer=e,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=TT(t)}_a(t){this.progress.bytesLoaded+=t.byteLength;let i=this.progress.documentsLoaded;if(t.ia.namedQuery)this.queries.push(t.ia.namedQuery);else if(t.ia.documentMetadata){this.documents.push({metadata:t.ia.documentMetadata}),t.ia.documentMetadata.exists||++i;let e=At.fromString(t.ia.documentMetadata.name);this.collectionGroups.add(e.get(e.length-2))}else t.ia.document&&(this.documents[this.documents.length-1].document=t.ia.document,++i);return i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}aa(t){let i=new Map,e=new cm(this.serializer);for(let r of t)if(r.metadata.queries){let o=e.Ps(r.metadata.name);for(let s of r.metadata.queries){let a=(i.get(s)||yt()).add(o);i.set(s,a)}}return i}complete(){return R(this,null,function*(){let t=yield l2(this.localStore,new cm(this.serializer),this.documents,this.oa.id),i=this.aa(this.documents);for(let e of this.queries)yield d2(this.localStore,e,i.get(e.name));return this.progress.taskState="Success",{progress:this.progress,ua:this.collectionGroups,ca:t}})}};function TT(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}var lm=class{constructor(t){this.key=t}},dm=class{constructor(t){this.key=t}},um=class{constructor(t,i){this.query=t,this.la=i,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=yt(),this.mutatedKeys=yt(),this.Ia=PC(t),this.Ta=new sm(this.Ia)}get Ea(){return this.la}da(t,i){let e=i?i.Aa:new am,r=i?i.Ta:this.Ta,o=i?i.mutatedKeys:this.mutatedKeys,s=r,a=!1,l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((h,f)=>{let g=r.get(h),_=Jl(this.query,f)?f:null,S=!!g&&this.mutatedKeys.has(g.key),O=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations),M=!1;g&&_?g.data.isEqual(_.data)?S!==O&&(e.track({type:3,doc:_}),M=!0):this.Ra(g,_)||(e.track({type:2,doc:_}),M=!0,(l&&this.Ia(_,l)>0||d&&this.Ia(_,d)<0)&&(a=!0)):!g&&_?(e.track({type:0,doc:_}),M=!0):g&&!_&&(e.track({type:1,doc:g}),M=!0,(l||d)&&(a=!0)),M&&(_?(s=s.add(_),o=O?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),e.track({type:1,doc:h})}return{Ta:s,Aa:e,Xi:a,mutatedKeys:o}}Ra(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,e,r){let o=this.Ta;this.Ta=t.Ta,this.mutatedKeys=t.mutatedKeys;let s=t.Aa.Q_();s.sort((h,f)=>function(_,S){let O=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return et()}};return O(_)-O(S)}(h.type,f.type)||this.Ia(h.doc,f.doc)),this.Va(e),r=r!=null&&r;let a=i&&!r?this.ma():[],l=this.Pa.size===0&&this.current&&!r?1:0,d=l!==this.ha;return this.ha=l,s.length!==0||d?{snapshot:new ka(this.query,t.Ta,o,s,t.mutatedKeys,l===0,d,!1,!!e&&e.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new am,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(t){return!this.la.has(t)&&!!this.Ta.has(t)&&!this.Ta.get(t).hasLocalMutations}Va(t){t&&(t.addedDocuments.forEach(i=>this.la=this.la.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.la=this.la.delete(i)),this.current=t.current)}ma(){if(!this.current)return[];let t=this.Pa;this.Pa=yt(),this.Ta.forEach(e=>{this.ga(e.key)&&(this.Pa=this.Pa.add(e.key))});let i=[];return t.forEach(e=>{this.Pa.has(e)||i.push(new dm(e))}),this.Pa.forEach(e=>{t.has(e)||i.push(new lm(e))}),i}pa(t){this.la=t.hs,this.Pa=yt();let i=this.da(t.documents);return this.applyChanges(i,!0)}ya(){return ka.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},Hb=class{constructor(t,i,e){this.query=t,this.targetId=i,this.view=e}},Gb=class{constructor(t){this.key=t,this.wa=!1}},Wb=class{constructor(t,i,e,r,o,s){this.localStore=t,this.remoteStore=i,this.eventManager=e,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new xn(a=>RC(a),Zl),this.Da=new Map,this.Ca=new Set,this.va=new Kt(W.comparator),this.Fa=new Map,this.Ma=new Ul,this.xa={},this.Oa=new Map,this.Na=wa.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function I2(n,t,i=!0){return R(this,null,function*(){let e=Im(n),r,o=e.ba.get(t);return o?(e.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.ya()):r=yield ST(e,t,i,!0),r})}function k2(n,t){return R(this,null,function*(){let i=Im(n);yield ST(i,t,!0,!1)})}function ST(n,t,i,e){return R(this,null,function*(){let r=yield xa(n.localStore,ri(t)),o=r.targetId,s=i?n.sharedClientState.addLocalQueryTarget(o):"not-current",a;return e&&(a=yield Pv(n,t,o,s==="current",r.resumeToken)),n.isPrimaryClient&&i&&Em(n.remoteStore,r),a})}function Pv(n,t,i,e,r){return R(this,null,function*(){n.Ba=(f,g,_)=>function(O,M,K,it){return R(this,null,function*(){let U=M.view.da(K);U.Xi&&(U=yield Jh(O.localStore,M.query,!1).then(({documents:x})=>M.view.da(x,U)));let nt=it&&it.targetChanges.get(M.targetId),ft=it&&it.targetMismatches.get(M.targetId)!=null,pt=M.view.applyChanges(U,O.isPrimaryClient,nt,ft);return Kb(O,M.targetId,pt.fa),pt.snapshot})}(n,f,g,_);let o=yield Jh(n.localStore,t,!0),s=new um(t,o.hs),a=s.da(o.documents),l=Vl.createSynthesizedTargetChangeForCurrentChange(i,e&&n.onlineState!=="Offline",r),d=s.applyChanges(a,n.isPrimaryClient,l);Kb(n,i,d.fa);let h=new Hb(t,i,s);return n.ba.set(t,h),n.Da.has(i)?n.Da.get(i).push(t):n.Da.set(i,[t]),d.snapshot})}function C2(n,t,i){return R(this,null,function*(){let e=Q(n),r=e.ba.get(t),o=e.Da.get(r.targetId);if(o.length>1)return e.Da.set(r.targetId,o.filter(s=>!Zl(s,t))),void e.ba.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(r.targetId),e.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ea(e.localStore,r.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(r.targetId),i&&Ia(e.remoteStore,r.targetId),Ca(e,r.targetId)}).catch(Gr))):(Ca(e,r.targetId),yield Ea(e.localStore,r.targetId,!0))})}function T2(n,t){return R(this,null,function*(){let i=Q(n),e=i.ba.get(t),r=i.Da.get(e.targetId);i.isPrimaryClient&&r.length===1&&(i.sharedClientState.removeLocalQueryTarget(e.targetId),Ia(i.remoteStore,e.targetId))})}function S2(n,t,i){return R(this,null,function*(){let e=Lv(n);try{let r=yield function(s,a){let l=Q(s),d=ne.now(),h=a.reduce((_,S)=>_.add(S.key),yt()),f,g;return l.persistence.runTransaction("Locally write mutations","readwrite",_=>{let S=fi(),O=yt();return l.os.getEntries(_,h).next(M=>{S=M,S.forEach((K,it)=>{it.isValidDocument()||(O=O.add(K))})}).next(()=>l.localDocuments.getOverlayedDocuments(_,S)).next(M=>{f=M;let K=[];for(let it of a){let U=UN(it,f.get(it.key).overlayedDocument);U!=null&&K.push(new Zi(it.key,U,IC(U.value.mapValue),he.exists(!0)))}return l.mutationQueue.addMutationBatch(_,d,K,a)}).next(M=>{g=M;let K=M.applyToLocalDocumentSet(f,O);return l.documentOverlayCache.saveOverlays(_,M.batchId,K)})}).then(()=>({batchId:g.batchId,changes:FC(f)}))}(e.localStore,t);e.sharedClientState.addPendingMutation(r.batchId),function(s,a,l){let d=s.xa[s.currentUser.toKey()];d||(d=new Kt(vt)),d=d.insert(a,l),s.xa[s.currentUser.toKey()]=d}(e,r.batchId,i),yield Yn(e,r.changes),yield Pa(e.remoteStore)}catch(r){let o=Fa(r,"Failed to persist write");i.reject(o)}})}function DT(n,t){return R(this,null,function*(){let i=Q(n);try{let e=yield a2(i.localStore,t);t.targetChanges.forEach((r,o)=>{let s=i.Fa.get(o);s&&(at(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.wa=!0:r.modifiedDocuments.size>0?at(s.wa):r.removedDocuments.size>0&&(at(s.wa),s.wa=!1))}),yield Yn(i,e,t)}catch(e){yield Gr(e)}})}function tC(n,t,i){let e=Q(n);if(e.isPrimaryClient&&i===0||!e.isPrimaryClient&&i===1){let r=[];e.ba.forEach((o,s)=>{let a=s.view.j_(t);a.snapshot&&r.push(a.snapshot)}),function(s,a){let l=Q(s);l.onlineState=a;let d=!1;l.queries.forEach((h,f)=>{for(let g of f.U_)g.j_(a)&&(d=!0)}),d&&Mv(l)}(e.eventManager,t),r.length&&e.Sa.h_(r),e.onlineState=t,e.isPrimaryClient&&e.sharedClientState.setOnlineState(t)}}function D2(n,t,i){return R(this,null,function*(){let e=Q(n);e.sharedClientState.updateQueryState(t,"rejected",i);let r=e.Fa.get(t),o=r&&r.key;if(o){let s=new Kt(W.comparator);s=s.insert(o,Ee.newNoDocument(o,ut.min()));let a=yt().add(o),l=new Ll(ut.min(),new Map,new Kt(vt),s,a);yield DT(e,l),e.va=e.va.remove(o),e.Fa.delete(t),Nv(e)}else yield Ea(e.localStore,t,!1).then(()=>Ca(e,t,i)).catch(Gr)})}function A2(n,t){return R(this,null,function*(){let i=Q(n),e=t.batch.batchId;try{let r=yield s2(i.localStore,t);Fv(i,e,null),Ov(i,e),i.sharedClientState.updateMutationState(e,"acknowledged"),yield Yn(i,r)}catch(r){yield Gr(r)}})}function R2(n,t,i){return R(this,null,function*(){let e=Q(n);try{let r=yield function(s,a){let l=Q(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return l.mutationQueue.lookupMutationBatch(d,a).next(f=>(at(f!==null),h=f.keys(),l.mutationQueue.removeMutationBatch(d,f))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>l.localDocuments.getDocuments(d,h))})}(e.localStore,t);Fv(e,t,i),Ov(e,t),e.sharedClientState.updateMutationState(t,"rejected",i),yield Yn(e,r)}catch(r){yield Gr(r)}})}function M2(n,t){return R(this,null,function*(){let i=Q(n);Kr(i.remoteStore)||j("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let e=yield function(s){let a=Q(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(i.localStore);if(e===-1)return void t.resolve();let r=i.Oa.get(e)||[];r.push(t),i.Oa.set(e,r)}catch(e){let r=Fa(e,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}})}function Ov(n,t){(n.Oa.get(t)||[]).forEach(i=>{i.resolve()}),n.Oa.delete(t)}function Fv(n,t,i){let e=Q(n),r=e.xa[e.currentUser.toKey()];if(r){let o=r.get(t);o&&(i?o.reject(i):o.resolve(),r=r.remove(t)),e.xa[e.currentUser.toKey()]=r}}function Ca(n,t,i=null){n.sharedClientState.removeLocalQueryTarget(t);for(let e of n.Da.get(t))n.ba.delete(e),i&&n.Sa.ka(e,i);n.Da.delete(t),n.isPrimaryClient&&n.Ma.Vr(t).forEach(e=>{n.Ma.containsKey(e)||AT(n,e)})}function AT(n,t){n.Ca.delete(t.path.canonicalString());let i=n.va.get(t);i!==null&&(Ia(n.remoteStore,i),n.va=n.va.remove(t),n.Fa.delete(i),Nv(n))}function Kb(n,t,i){for(let e of i)e instanceof lm?(n.Ma.addReference(e.key,t),P2(n,e)):e instanceof dm?(j("SyncEngine","Document no longer in limbo: "+e.key),n.Ma.removeReference(e.key,t),n.Ma.containsKey(e.key)||AT(n,e.key)):et()}function P2(n,t){let i=t.key,e=i.path.canonicalString();n.va.get(i)||n.Ca.has(e)||(j("SyncEngine","New document in limbo: "+i),n.Ca.add(e),Nv(n))}function Nv(n){for(;n.Ca.size>0&&n.va.size<n.maxConcurrentLimboResolutions;){let t=n.Ca.values().next().value;n.Ca.delete(t);let i=new W(At.fromString(t)),e=n.Na.next();n.Fa.set(e,new Gb(i)),n.va=n.va.insert(i,e),Em(n.remoteStore,new ya(ri(Ra(i.path)),e,"TargetPurposeLimboResolution",Ci.oe))}}function Yn(n,t,i){return R(this,null,function*(){let e=Q(n),r=[],o=[],s=[];e.ba.isEmpty()||(e.ba.forEach((a,l)=>{s.push(e.Ba(l,t,i).then(d=>{if((d||i)&&e.isPrimaryClient){let h=d&&!d.fromCache;e.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(d){r.push(d);let h=Cb.Ki(l.targetId,d);o.push(h)}}))}),yield Promise.all(s),e.Sa.h_(r),yield function(l,d){return R(this,null,function*(){let h=Q(l);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>P.forEach(d,g=>P.forEach(g.qi,_=>h.persistence.referenceDelegate.addReference(f,g.targetId,_)).next(()=>P.forEach(g.Qi,_=>h.persistence.referenceDelegate.removeReference(f,g.targetId,_)))))}catch(f){if(!Wr(f))throw f;j("LocalStore","Failed to update sequence numbers: "+f)}for(let f of d){let g=f.targetId;if(!f.fromCache){let _=h.ns.get(g),S=_.snapshotVersion,O=_.withLastLimboFreeSnapshotVersion(S);h.ns=h.ns.insert(g,O)}}})}(e.localStore,o))})}function O2(n,t){return R(this,null,function*(){let i=Q(n);if(!i.currentUser.isEqual(t)){j("SyncEngine","User change. New user:",t.toKey());let e=yield pT(i.localStore,t);i.currentUser=t,function(o,s){o.Oa.forEach(a=>{a.forEach(l=>{l.reject(new L(N.CANCELLED,s))})}),o.Oa.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),yield Yn(i,e.us)}})}function F2(n,t){let i=Q(n),e=i.Fa.get(t);if(e&&e.wa)return yt().add(e.key);{let r=yt(),o=i.Da.get(t);if(!o)return r;for(let s of o){let a=i.ba.get(s);r=r.unionWith(a.view.Ea)}return r}}function N2(n,t){return R(this,null,function*(){let i=Q(n),e=yield Jh(i.localStore,t.query,!0),r=t.view.pa(e);return i.isPrimaryClient&&Kb(i,t.targetId,r.fa),r})}function L2(n,t){return R(this,null,function*(){let i=Q(n);return vT(i.localStore,t).then(e=>Yn(i,e))})}function V2(n,t,i,e){return R(this,null,function*(){let r=Q(n),o=yield function(a,l){let d=Q(a),h=Q(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",f=>h.vn(f,l).next(g=>g?d.localDocuments.getDocuments(f,g):P.resolve(null)))}(r.localStore,t);o!==null?(i==="pending"?yield Pa(r.remoteStore):i==="acknowledged"||i==="rejected"?(Fv(r,t,e||null),Ov(r,t),function(a,l){Q(Q(a).mutationQueue).Mn(l)}(r.localStore,t)):et(),yield Yn(r,o)):j("SyncEngine","Cannot apply mutation batch with id: "+t)})}function j2(n,t){return R(this,null,function*(){let i=Q(n);if(Im(i),Lv(i),t===!0&&i.La!==!0){let e=i.sharedClientState.getAllActiveQueryTargets(),r=yield eC(i,e.toArray());i.La=!0,yield Vb(i.remoteStore,!0);for(let o of r)Em(i.remoteStore,o)}else if(t===!1&&i.La!==!1){let e=[],r=Promise.resolve();i.Da.forEach((o,s)=>{i.sharedClientState.isLocalQueryTarget(s)?e.push(s):r=r.then(()=>(Ca(i,s),Ea(i.localStore,s,!0))),Ia(i.remoteStore,s)}),yield r,yield eC(i,e),function(s){let a=Q(s);a.Fa.forEach((l,d)=>{Ia(a.remoteStore,d)}),a.Ma.mr(),a.Fa=new Map,a.va=new Kt(W.comparator)}(i),i.La=!1,yield Vb(i.remoteStore,!1)}})}function eC(n,t,i){return R(this,null,function*(){let e=Q(n),r=[],o=[];for(let s of t){let a,l=e.Da.get(s);if(l&&l.length!==0){a=yield xa(e.localStore,ri(l[0]));for(let d of l){let h=e.ba.get(d),f=yield N2(e,h);f.snapshot&&o.push(f.snapshot)}}else{let d=yield bT(e.localStore,s);a=yield xa(e.localStore,d),yield Pv(e,RT(d),s,!1,a.resumeToken)}r.push(a)}return e.Sa.h_(o),r})}function RT(n){return AC(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function B2(n){return function(i){return Q(Q(i).persistence).Bi()}(Q(n).localStore)}function z2(n,t,i,e){return R(this,null,function*(){let r=Q(n);if(r.La)return void j("SyncEngine","Ignoring unexpected query state notification.");let o=r.Da.get(t);if(o&&o.length>0)switch(i){case"current":case"not-current":{let s=yield vT(r.localStore,MC(o[0])),a=Ll.createSynthesizedRemoteEventForCurrentChange(t,i==="current",Pe.EMPTY_BYTE_STRING);yield Yn(r,s,a);break}case"rejected":yield Ea(r.localStore,t,!0),Ca(r,t,e);break;default:et()}})}function U2(n,t,i){return R(this,null,function*(){let e=Im(n);if(e.La){for(let r of t){if(e.Da.has(r)&&e.sharedClientState.isActiveQueryTarget(r)){j("SyncEngine","Adding an already active target "+r);continue}let o=yield bT(e.localStore,r),s=yield xa(e.localStore,o);yield Pv(e,RT(o),s.targetId,!1,s.resumeToken),Em(e.remoteStore,s)}for(let r of i)e.Da.has(r)&&(yield Ea(e.localStore,r,!1).then(()=>{Ia(e.remoteStore,r),Ca(e,r)}).catch(Gr))}})}function Im(n){let t=Q(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=DT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=F2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=D2.bind(null,t),t.Sa.h_=x2.bind(null,t.eventManager),t.Sa.ka=E2.bind(null,t.eventManager),t}function Lv(n){let t=Q(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=A2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=R2.bind(null,t),t}function q2(n,t,i){let e=Q(n);(function(o,s,a){return R(this,null,function*(){try{let l=yield s.getMetadata();if(yield function(_,S){let O=Q(_),M=ge(S.createTime);return O.persistence.runTransaction("hasNewerBundle","readonly",K=>O.$r.getBundleMetadata(K,S.id)).then(K=>!!K&&K.createTime.compareTo(M)>=0)}(o.localStore,l))return yield s.close(),a._completeWith(function(_){return{taskState:"Success",documentsLoaded:_.totalDocuments,bytesLoaded:_.totalBytes,totalDocuments:_.totalDocuments,totalBytes:_.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(TT(l));let d=new $b(l,o.localStore,s.serializer),h=yield s.qa();for(;h;){let g=yield d._a(h);g&&a._updateProgress(g),h=yield s.qa()}let f=yield d.complete();return yield Yn(o,f.ca,void 0),yield function(_,S){let O=Q(_);return O.persistence.runTransaction("Save bundle","readwrite",M=>O.$r.saveBundleMetadata(M,S))}(o.localStore,l),a._completeWith(f.progress),Promise.resolve(f.ua)}catch(l){return Vi("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})})(e,t,i).then(r=>{e.sharedClientState.notifyBundleLoaded(r)})}var Gl=class{constructor(){this.synchronizeTabs=!1}initialize(t){return R(this,null,function*(){this.serializer=td(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),yield this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)})}createGarbageCollectionScheduler(t,i){return null}createIndexBackfillerScheduler(t,i){return null}createLocalStore(t){return fT(this.persistence,new Zh,t.initialUser,this.serializer)}createPersistence(t){return new Yh(Xh.Hr,this.serializer)}createSharedClientState(t){return new im}terminate(){return R(this,null,function*(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var hm=class n extends Gl{constructor(t,i,e){super(),this.Qa=t,this.cacheSizeBytes=i,this.forceOwnership=e,this.synchronizeTabs=!1}initialize(t){return R(this,null,function*(){yield _f(n.prototype,this,"initialize").call(this,t),yield this.Qa.initialize(this,t),yield Lv(this.Qa.syncEngine),yield Pa(this.Qa.remoteStore),yield this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}createLocalStore(t){return fT(this.persistence,new Zh,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,i){let e=this.persistence.referenceDelegate.garbageCollector;return new ub(e,t.asyncQueue,i)}createIndexBackfillerScheduler(t,i){let e=new D_(i,this.persistence);return new S_(t.asyncQueue,e)}createPersistence(t){let i=Cv(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),e=this.cacheSizeBytes!==void 0?Li.withCacheSize(this.cacheSizeBytes):Li.DEFAULT;return new kb(this.synchronizeTabs,i,t.clientId,e,t.asyncQueue,wT(),Ih(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new im}},Qb=class n extends hm{constructor(t,i){super(t,i,!1),this.Qa=t,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(t){return R(this,null,function*(){yield _f(n.prototype,this,"initialize").call(this,t);let i=this.Qa.syncEngine;this.sharedClientState instanceof Tl&&(this.sharedClientState.syncEngine={Zs:V2.bind(null,i),Xs:z2.bind(null,i),eo:U2.bind(null,i),Bi:B2.bind(null,i),Ys:L2.bind(null,i)},yield this.sharedClientState.start()),yield this.persistence.fi(e=>R(this,null,function*(){yield j2(this.Qa.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))})}createSharedClientState(t){let i=wT();if(!Tl.D(i))throw new L(N.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let e=Cv(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Tl(i,t.asyncQueue,e,t.clientId,t.initialUser)}},Wl=class{initialize(t,i){return R(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>tC(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=O2.bind(null,this.syncEngine),yield Vb(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new zb}()}createDatastore(t){let i=td(t.databaseInfo.databaseId),e=function(o){return new Mb(o)}(t.databaseInfo);return function(o,s,a,l){return new Fb(o,s,a,l)}(t.authCredentials,t.appCheckCredentials,e,i)}createRemoteStore(t){return function(e,r,o,s,a){return new Lb(e,r,o,s,a)}(this.localStore,this.datastore,t.asyncQueue,i=>tC(this.syncEngine,i,0),function(){return nm.D()?new nm:new Ab}())}createSyncEngine(t,i){return function(r,o,s,a,l,d,h){let f=new Wb(r,o,s,a,l,d);return h&&(f.La=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}terminate(){return R(this,null,function*(){var t;yield function(e){return R(this,null,function*(){let r=Q(e);j("RemoteStore","RemoteStore shutting down."),r.M_.add(5),yield Ma(r),r.O_.shutdown(),r.N_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate()})}};function iC(n,t=10240){let i=0;return{read(){return R(this,null,function*(){if(i<n.byteLength){let r={value:n.slice(i,i+t),done:!1};return i+=t,r}return{done:!0}})},cancel(){return R(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}var Ta=class{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ka(this.observer.next,t)}error(t){this.observer.error?this.Ka(this.observer.error,t):fe("Uncaught Error in snapshot listener:",t.toString())}$a(){this.muted=!0}Ka(t,i){this.muted||setTimeout(()=>{this.muted||t(i)},0)}};var Yb=class{constructor(t,i){this.Ua=t,this.serializer=i,this.metadata=new xe,this.buffer=new Uint8Array,this.Wa=function(){return new TextDecoder("utf-8")}(),this.Ga().then(e=>{e&&e.sa()?this.metadata.resolve(e.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(e?.ia)}`))},e=>this.metadata.reject(e))}close(){return this.Ua.cancel()}getMetadata(){return R(this,null,function*(){return this.metadata.promise})}qa(){return R(this,null,function*(){return yield this.getMetadata(),this.Ga()})}Ga(){return R(this,null,function*(){let t=yield this.za();if(t===null)return null;let i=this.Wa.decode(t),e=Number(i);isNaN(e)&&this.ja(`length string (${i}) is not valid number`);let r=yield this.Ha(e);return new qb(JSON.parse(r),t.length+e)})}Ja(){return this.buffer.findIndex(t=>t===123)}za(){return R(this,null,function*(){for(;this.Ja()<0&&!(yield this.Ya()););if(this.buffer.length===0)return null;let t=this.Ja();t<0&&this.ja("Reached the end of bundle when a length string is expected.");let i=this.buffer.slice(0,t);return this.buffer=this.buffer.slice(t),i})}Ha(t){return R(this,null,function*(){for(;this.buffer.length<t;)(yield this.Ya())&&this.ja("Reached the end of bundle when more is expected.");let i=this.Wa.decode(this.buffer.slice(0,t));return this.buffer=this.buffer.slice(t),i})}ja(t){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${t}`)}Ya(){return R(this,null,function*(){let t=yield this.Ua.read();if(!t.done){let i=new Uint8Array(this.buffer.length+t.value.length);i.set(this.buffer),i.set(t.value,this.buffer.length),this.buffer=i}return t.done})}};var Xb=class{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(t){return R(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new L(N.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let i=yield function(r,o){return R(this,null,function*(){let s=Q(r),a={documents:o.map(f=>jl(s.serializer,f))},l=yield s.xo("BatchGetDocuments",s.serializer.databaseId,At.emptyPath(),a,o.length),d=new Map;l.forEach(f=>{let g=KN(s.serializer,f);d.set(g.key.toString(),g)});let h=[];return o.forEach(f=>{let g=d.get(f.toString());at(!!g),h.push(g)}),h})}(this.datastore,t);return i.forEach(e=>this.recordVersion(e)),i})}set(t,i){this.write(i.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,i){try{this.write(i.toMutation(t,this.preconditionForUpdate(t)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(t.toString())}delete(t){this.write(new $r(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){return R(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let t=this.readVersions;this.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,e)=>{let r=W.fromPath(e);this.mutations.push(new Ol(r,this.precondition(r)))}),yield function(e,r){return R(this,null,function*(){let o=Q(e),s={writes:r.map(a=>Bl(o.serializer,a))};yield o.Co("Commit",o.serializer.databaseId,At.emptyPath(),s)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(t){let i;if(t.isFoundDocument())i=t.version;else{if(!t.isNoDocument())throw et();i=ut.min()}let e=this.readVersions.get(t.key.toString());if(e){if(!i.isEqual(e))throw new L(N.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),i)}precondition(t){let i=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&i?i.isEqual(ut.min())?he.exists(!1):he.updateTime(i):he.none()}preconditionForUpdate(t){let i=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&i){if(i.isEqual(ut.min()))throw new L(N.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return he.updateTime(i)}return he.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}};var Zb=class{constructor(t,i,e,r,o){this.asyncQueue=t,this.datastore=i,this.options=e,this.updateFunction=r,this.deferred=o,this.Za=e.maxAttempts,this.Yo=new $l(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){this.Yo.$o(()=>R(this,null,function*(){let t=new Xb(this.datastore),i=this.tu(t);i&&i.then(e=>{this.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{this.deferred.resolve(e)}).catch(r=>{this.nu(r)}))}).catch(e=>{this.nu(e)})}))}tu(t){try{let i=this.updateFunction(t);return!Yl(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}nu(t){this.Za>0&&this.ru(t)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(t)}ru(t){if(t.name==="FirebaseError"){let i=t.code;return i==="aborted"||i==="failed-precondition"||i==="already-exists"||!GC(i)}return!1}};var Jb=class{constructor(t,i,e,r){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=e,this.databaseInfo=r,this.user=we.UNAUTHENTICATED,this.clientId=Th.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(e,o=>R(this,null,function*(){j("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(e,o=>(j("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let t=new xe;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>R(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){let e=Fa(i,"Failed to shutdown persistence");t.reject(e)}})),t.promise}};function kh(n,t){return R(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider");let i=n.configuration;yield t.initialize(i);let e=i.initialUser;n.setCredentialChangeListener(r=>R(this,null,function*(){e.isEqual(r)||(yield pT(t.localStore,r),e=r)})),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t})}function tv(n,t){return R(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let i=yield Vv(n);j("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(i,n.configuration),n.setCredentialChangeListener(e=>Zk(t.remoteStore,e)),n.setAppCheckTokenChangeListener((e,r)=>Zk(t.remoteStore,r)),n._onlineComponents=t})}function MT(n){return n.name==="FirebaseError"?n.code===N.FAILED_PRECONDITION||n.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}function Vv(n){return R(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){j("FirestoreClient","Using user provided OfflineComponentProvider");try{yield kh(n,n._uninitializedComponentsProvider._offline)}catch(t){let i=t;if(!MT(i))throw i;Vi("Error using user provided cache. Falling back to memory cache: "+i),yield kh(n,new Gl)}}else j("FirestoreClient","Using default OfflineComponentProvider"),yield kh(n,new Gl);return n._offlineComponents})}function km(n){return R(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(j("FirestoreClient","Using user provided OnlineComponentProvider"),yield tv(n,n._uninitializedComponentsProvider._online)):(j("FirestoreClient","Using default OnlineComponentProvider"),yield tv(n,new Wl))),n._onlineComponents})}function PT(n){return Vv(n).then(t=>t.persistence)}function jv(n){return Vv(n).then(t=>t.localStore)}function OT(n){return km(n).then(t=>t.remoteStore)}function Bv(n){return km(n).then(t=>t.syncEngine)}function $2(n){return km(n).then(t=>t.datastore)}function Sa(n){return R(this,null,function*(){let t=yield km(n),i=t.eventManager;return i.onListen=I2.bind(null,t.syncEngine),i.onUnlisten=C2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=k2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=T2.bind(null,t.syncEngine),i})}function H2(n){return n.asyncQueue.enqueue(()=>R(this,null,function*(){let t=yield PT(n),i=yield OT(n);return t.setNetworkEnabled(!0),function(r){let o=Q(r);return o.M_.delete(0),ed(o)}(i)}))}function G2(n){return n.asyncQueue.enqueue(()=>R(this,null,function*(){let t=yield PT(n),i=yield OT(n);return t.setNetworkEnabled(!1),function(r){return R(this,null,function*(){let o=Q(r);o.M_.add(0),yield Ma(o),o.N_.set("Offline")})}(i)}))}function W2(n,t){let i=new xe;return n.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return function(r,o,s){return R(this,null,function*(){try{let a=yield function(d,h){let f=Q(d);return f.persistence.runTransaction("read document","readonly",g=>f.localDocuments.getDocument(g,h))}(r,o);a.isFoundDocument()?s.resolve(a):a.isNoDocument()?s.resolve(null):s.reject(new L(N.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){let l=Fa(a,`Failed to get document '${o} from cache`);s.reject(l)}})}(yield jv(n),t,i)})),i.promise}function FT(n,t,i={}){let e=new xe;return n.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return function(o,s,a,l,d){let h=new Ta({next:g=>{s.enqueueAndForget(()=>Rv(o,f));let _=g.docs.has(a);!_&&g.fromCache?d.reject(new L(N.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&g.fromCache&&l&&l.source==="server"?d.reject(new L(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(g)},error:g=>d.reject(g)}),f=new Hl(Ra(a.path),h,{includeMetadataChanges:!0,ra:!0});return Av(o,f)}(yield Sa(n),n.asyncQueue,t,i,e)})),e.promise}function K2(n,t){let i=new xe;return n.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return function(r,o,s){return R(this,null,function*(){try{let a=yield Jh(r,o,!0),l=new um(o,a.hs),d=l.da(a.documents),h=l.applyChanges(d,!1);s.resolve(h.snapshot)}catch(a){let l=Fa(a,`Failed to execute query '${o} against cache`);s.reject(l)}})}(yield jv(n),t,i)})),i.promise}function NT(n,t,i={}){let e=new xe;return n.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return function(o,s,a,l,d){let h=new Ta({next:g=>{s.enqueueAndForget(()=>Rv(o,f)),g.fromCache&&l.source==="server"?d.reject(new L(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),f=new Hl(a,h,{includeMetadataChanges:!0,ra:!0});return Av(o,f)}(yield Sa(n),n.asyncQueue,t,i,e)})),e.promise}function Q2(n,t){let i=new Ta(t);return n.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return function(r,o){Q(r).z_.add(o),o.next()}(yield Sa(n),i)})),()=>{i.$a(),n.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return function(r,o){Q(r).z_.delete(o)}(yield Sa(n),i)}))}}function Y2(n,t,i,e){let r=function(s,a){let l;return l=typeof s=="string"?KC().encode(s):s,function(h,f){return new Yb(h,f)}(function(h,f){if(h instanceof Uint8Array)return iC(h,f);if(h instanceof ArrayBuffer)return iC(new Uint8Array(h),f);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(i,td(t));n.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){q2(yield Bv(n),r,e)}))}function X2(n,t){return n.asyncQueue.enqueue(()=>R(this,null,function*(){return function(e,r){let o=Q(e);return o.persistence.runTransaction("Get named query","readonly",s=>o.$r.getNamedQuery(s,r))}(yield jv(n),t)}))}function LT(n){let t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}var nC=new Map;function zv(n,t,i){if(!i)throw new L(N.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function Uv(n,t,i,e){if(t===!0&&e===!0)throw new L(N.INVALID_ARGUMENT,`${n} and ${i} cannot be used together.`)}function rC(n){if(!W.isDocumentKey(n))throw new L(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function oC(n){if(W.isDocumentKey(n))throw new L(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Cm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let t=function(e){return e.constructor?e.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":et()}function Rt(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new L(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let i=Cm(n);throw new L(N.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return n}function VT(n,t){if(t<=0)throw new L(N.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}var mm=class{constructor(t){var i,e;if(t.host===void 0){if(t.ssl!==void 0)throw new L(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(i=t.ssl)===null||i===void 0||i;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new L(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Uv("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LT((e=t.experimentalLongPollingOptions)!==null&&e!==void 0?e:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new L(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new L(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new L(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(e,r){return e.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}},Wo=class{constructor(t,i,e,r){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=e,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new L(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new L(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mm(t),t.credentials!==void 0&&(this._authCredentials=function(e){if(!e)return new b_;switch(e.type){case"firstParty":return new x_(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new L(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){let e=nC.get(i);e&&(j("ComponentProvider","Removing Datastore"),nC.delete(i),e.terminate())}(this),Promise.resolve()}};function jT(n,t,i,e={}){var r;let o=(n=Rt(n,Wo))._getSettings(),s=`${t}:${i}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Vi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),e.mockUserToken){let a,l;if(typeof e.mockUserToken=="string")a=e.mockUserToken,l=we.MOCK_USER;else{a=$d(e.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let d=e.mockUserToken.sub||e.mockUserToken.user_id;if(!d)throw new L(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new we(d)}n._authCredentials=new v_(new Ch(a,l))}}var Be=class n{constructor(t,i,e){this.converter=i,this._query=e,this.type="query",this.firestore=t}withConverter(t){return new n(this.firestore,t,this._query)}},Ht=class n{constructor(t,i,e){this.converter=i,this._key=e,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vn(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new n(this.firestore,t,this._key)}},vn=class n extends Be{constructor(t,i,e){super(t,i,Ra(e)),this._path=e,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let t=this._path.popLast();return t.isEmpty()?null:new Ht(this.firestore,null,new W(t))}withConverter(t){return new n(this.firestore,t,this._path)}};function qv(n,t,...i){if(n=Ft(n),zv("collection","path",t),n instanceof Wo){let e=At.fromString(t,...i);return oC(e),new vn(n,null,e)}{if(!(n instanceof Ht||n instanceof vn))throw new L(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let e=n._path.child(At.fromString(t,...i));return oC(e),new vn(n.firestore,null,e)}}function BT(n,t){if(n=Rt(n,Wo),zv("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new L(N.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Be(n,null,function(e){return new Xi(At.emptyPath(),e)}(t))}function id(n,t,...i){if(n=Ft(n),arguments.length===1&&(t=Th.newId()),zv("doc","path",t),n instanceof Wo){let e=At.fromString(t,...i);return rC(e),new Ht(n,null,new W(e))}{if(!(n instanceof Ht||n instanceof vn))throw new L(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let e=n._path.child(At.fromString(t,...i));return rC(e),new Ht(n.firestore,n instanceof vn?n.converter:null,new W(e))}}function $v(n,t){return n=Ft(n),t=Ft(t),(n instanceof Ht||n instanceof vn)&&(t instanceof Ht||t instanceof vn)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function Hv(n,t){return n=Ft(n),t=Ft(t),n instanceof Be&&t instanceof Be&&n.firestore===t.firestore&&Zl(n._query,t._query)&&n.converter===t.converter}var ev=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new $l(this,"async_queue_retry"),this.hu=()=>{let i=Ih();i&&j("AsyncQueue","Visibility state changed to "+i.visibilityState),this.Yo.Wo()};let t=Ih();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pu(),this.Iu(t)}enterRestrictedMode(t){if(!this.ou){this.ou=!0,this.cu=t||!1;let i=Ih();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.hu)}}enqueue(t){if(this.Pu(),this.ou)return new Promise(()=>{});let i=new xe;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.su.push(t),this.Tu()))}Tu(){return R(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(t){if(!Wr(t))throw t;j("AsyncQueue","Operation failed with retryable error: "+t)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(t){let i=this.iu.then(()=>(this.uu=!0,t().catch(e=>{this.au=e,this.uu=!1;let r=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(e);throw fe("INTERNAL UNHANDLED ERROR: ",r),e}).then(e=>(this.uu=!1,e))));return this.iu=i,i}enqueueAfterDelay(t,i,e){this.Pu(),this.lu.indexOf(t)>-1&&(i=0);let r=jb.createAndSchedule(this,t,i,e,o=>this.Eu(o));return this._u.push(r),r}Pu(){this.au&&et()}verifyOperationInProgress(){}du(){return R(this,null,function*(){let t;do t=this.iu,yield t;while(t!==this.iu)})}Au(t){for(let i of this._u)if(i.timerId===t)return!0;return!1}Ru(t){return this.du().then(()=>{this._u.sort((i,e)=>i.targetTimeMs-e.targetTimeMs);for(let i of this._u)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.du()})}Vu(t){this.lu.push(t)}Eu(t){let i=this._u.indexOf(t);this._u.splice(i,1)}};function iv(n){return function(i,e){if(typeof i!="object"||i===null)return!1;let r=i;for(let o of e)if(o in r&&typeof r[o]=="function")return!0;return!1}(n,["next","error","complete"])}var nv=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new xe,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,i,e){this._progressObserver={next:t,error:i,complete:e}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,i){return this._taskCompletionResolver.promise.then(t,i)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}};var zT=-1,Yt=class extends Wo{constructor(t,i,e,r){super(t,i,e,r),this.type="firestore",this._queue=function(){return new ev}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||UT(this),this._firestoreClient.terminate()}};function Te(n){return n._firestoreClient||UT(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function UT(n){var t,i,e;let r=n._freezeSettings(),o=function(a,l,d,h){return new A_(a,l,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,LT(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,r);n._firestoreClient=new Jb(n._authCredentials,n._appCheckCredentials,n._queue,o),!((i=r.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((e=r.localCache)===null||e===void 0)&&e._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function qT(n,t){ZT(n=Rt(n,Yt));let i=Te(n);if(i._uninitializedComponentsProvider)throw new L(N.FAILED_PRECONDITION,"SDK cache is already specified.");Vi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let e=n._freezeSettings(),r=new Wl;return HT(i,r,new hm(r,e.cacheSizeBytes,t?.forceOwnership))}function $T(n){ZT(n=Rt(n,Yt));let t=Te(n);if(t._uninitializedComponentsProvider)throw new L(N.FAILED_PRECONDITION,"SDK cache is already specified.");Vi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let i=n._freezeSettings(),e=new Wl;return HT(t,e,new Qb(e,i.cacheSizeBytes))}function HT(n,t,i){let e=new xe;return n.asyncQueue.enqueue(()=>R(this,null,function*(){try{yield kh(n,i),yield tv(n,t),e.resolve()}catch(r){let o=r;if(!MT(o))throw o;Vi("Error enabling indexeddb cache. Falling back to memory cache: "+o),e.reject(o)}})).then(()=>e.promise)}function GT(n){if(n._initialized&&!n._terminated)throw new L(N.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let t=new xe;return n._queue.enqueueAndForgetEvenWhileRestricted(()=>R(this,null,function*(){try{yield function(e){return R(this,null,function*(){if(!Lr.D())return Promise.resolve();let r=e+"main";yield Lr.delete(r)})}(Cv(n._databaseId,n._persistenceKey)),t.resolve()}catch(i){t.reject(i)}})),t.promise}function WT(n){return function(i){let e=new xe;return i.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return M2(yield Bv(i),e)})),e.promise}(Te(n=Rt(n,Yt)))}function KT(n){return H2(Te(n=Rt(n,Yt)))}function QT(n){return G2(Te(n=Rt(n,Yt)))}function YT(n,t){let i=Te(n=Rt(n,Yt)),e=new nv;return Y2(i,n._databaseId,t,e),e}function XT(n,t){return X2(Te(n=Rt(n,Yt)),t).then(i=>i?new Be(n,null,i.query):null)}function ZT(n){if(n._initialized||n._terminated)throw new L(N.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var En=class n{constructor(t){this._byteString=t}static fromBase64String(t){try{return new n(Pe.fromBase64String(t))}catch(i){throw new L(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new n(Pe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}};var Ji=class{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new L(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}};var Kn=class{constructor(t){this._methodName=t}};var Ko=class{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new L(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new L(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return vt(this._lat,t._lat)||vt(this._long,t._long)}};var Z2=/^__.*__$/,rv=class{constructor(t,i,e){this.data=t,this.fieldMask=i,this.fieldTransforms=e}toMutation(t,i){return this.fieldMask!==null?new Zi(t,this.data,this.fieldMask,i,this.fieldTransforms):new qr(t,this.data,i,this.fieldTransforms)}},fm=class{constructor(t,i,e){this.data=t,this.fieldMask=i,this.fieldTransforms=e}toMutation(t,i){return new Zi(t,this.data,this.fieldMask,i,this.fieldTransforms)}};function JT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw et()}}var pm=class n{constructor(t,i,e,r,o,s){this.settings=t,this.databaseId=i,this.serializer=e,this.ignoreUndefinedProperties=r,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(t){return new n(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(t){var i;let e=(i=this.path)===null||i===void 0?void 0:i.child(t),r=this.gu({path:e,yu:!1});return r.wu(t),r}Su(t){var i;let e=(i=this.path)===null||i===void 0?void 0:i.child(t),r=this.gu({path:e,yu:!1});return r.mu(),r}bu(t){return this.gu({path:void 0,yu:!0})}Du(t){return gm(t,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}mu(){if(this.path)for(let t=0;t<this.path.length;t++)this.wu(this.path.get(t))}wu(t){if(t.length===0)throw this.Du("Document fields must not be empty");if(JT(this.fu)&&Z2.test(t))throw this.Du('Document fields cannot begin and end with "__"')}},ov=class{constructor(t,i,e){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=e||td(t)}Fu(t,i,e,r=!1){return new pm({fu:t,methodName:i,vu:e,path:pe.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Zo(n){let t=n._freezeSettings(),i=td(n._databaseId);return new ov(n._databaseId,!!t.ignoreUndefinedProperties,i)}function Tm(n,t,i,e,r,o={}){let s=n.Fu(o.merge||o.mergeFields?2:0,t,i,r);Kv("Data must be an object, but it was:",s,e);let a=iS(e,s),l,d;if(o.merge)l=new Ti(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let f of o.mergeFields){let g=dv(t,f,i);if(!s.contains(g))throw new L(N.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);rS(h,g)||h.push(g)}l=new Ti(h),d=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,d=s.fieldTransforms;return new rv(new We(a),l,d)}var Kl=class n extends Kn{_toFieldTransform(t){if(t.fu!==2)throw t.fu===1?t.Du(`${this._methodName}() can only appear at the top level of your update data`):t.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof n}};function tS(n,t,i){return new pm({fu:3,vu:t.settings.vu,methodName:n._methodName,yu:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var sv=class n extends Kn{_toFieldTransform(t){return new $o(t.path,new zr)}isEqual(t){return t instanceof n}},av=class n extends Kn{constructor(t,i){super(t),this.Mu=i}_toFieldTransform(t){let i=tS(this,t,!0),e=this.Mu.map(o=>Jo(o,i)),r=new Gn(e);return new $o(t.path,r)}isEqual(t){return t instanceof n&&Lf(this.Mu,t.Mu)}},cv=class n extends Kn{constructor(t,i){super(t),this.Mu=i}_toFieldTransform(t){let i=tS(this,t,!0),e=this.Mu.map(o=>Jo(o,i)),r=new Wn(e);return new $o(t.path,r)}isEqual(t){return t instanceof n&&Lf(this.Mu,t.Mu)}},lv=class n extends Kn{constructor(t,i){super(t),this.xu=i}_toFieldTransform(t){let i=new Ur(t.serializer,jC(t.serializer,this.xu));return new $o(t.path,i)}isEqual(t){return t instanceof n&&this.xu===t.xu}};function Gv(n,t,i,e){let r=n.Fu(1,t,i);Kv("Data must be an object, but it was:",r,e);let o=[],s=We.empty();Xo(e,(l,d)=>{let h=Qv(t,l,i);d=Ft(d);let f=r.Su(h);if(d instanceof Kl)o.push(h);else{let g=Jo(d,f);g!=null&&(o.push(h),s.set(h,g))}});let a=new Ti(o);return new fm(s,a,r.fieldTransforms)}function Wv(n,t,i,e,r,o){let s=n.Fu(1,t,i),a=[dv(t,e,i)],l=[r];if(o.length%2!=0)throw new L(N.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(dv(t,o[g])),l.push(o[g+1]);let d=[],h=We.empty();for(let g=a.length-1;g>=0;--g)if(!rS(d,a[g])){let _=a[g],S=l[g];S=Ft(S);let O=s.Su(_);if(S instanceof Kl)d.push(_);else{let M=Jo(S,O);M!=null&&(d.push(_),h.set(_,M))}}let f=new Ti(d);return new fm(h,f,s.fieldTransforms)}function eS(n,t,i,e=!1){return Jo(i,n.Fu(e?4:3,t))}function Jo(n,t){if(nS(n=Ft(n)))return Kv("Unsupported field value:",t,n),iS(n,t);if(n instanceof Kn)return function(e,r){if(!JT(r.fu))throw r.Du(`${e._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Du(`${e._methodName}() is not currently supported inside arrays`);let o=e._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.yu&&t.fu!==4)throw t.Du("Nested arrays are not supported");return function(e,r){let o=[],s=0;for(let a of e){let l=Jo(a,r.bu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,t)}return function(e,r){if((e=Ft(e))===null)return{nullValue:"NULL_VALUE"};if(typeof e=="number")return jC(r.serializer,e);if(typeof e=="boolean")return{booleanValue:e};if(typeof e=="string")return{stringValue:e};if(e instanceof Date){let o=ne.fromDate(e);return{timestampValue:va(r.serializer,o)}}if(e instanceof ne){let o=new ne(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:va(r.serializer,o)}}if(e instanceof Ko)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof En)return{bytesValue:QC(r.serializer,e._byteString)};if(e instanceof Ht){let o=r.databaseId,s=e.firestore._databaseId;if(!s.isEqual(o))throw r.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ev(e.firestore._databaseId||r.databaseId,e._key.path)}}throw r.Du(`Unsupported field value: ${Cm(e)}`)}(n,t)}function iS(n,t){let i={};return wC(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Xo(n,(e,r)=>{let o=Jo(r,t.pu(e));o!=null&&(i[e]=o)}),{mapValue:{fields:i}}}function nS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ne||n instanceof Ko||n instanceof En||n instanceof Ht||n instanceof Kn)}function Kv(n,t,i){if(!nS(i)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(i)){let e=Cm(i);throw e==="an object"?t.Du(n+" a custom object"):t.Du(n+" "+e)}}function dv(n,t,i){if((t=Ft(t))instanceof Ji)return t._internalPath;if(typeof t=="string")return Qv(n,t);throw gm("Field path arguments must be of type string or ",n,!1,void 0,i)}var J2=new RegExp("[~\\*/\\[\\]]");function Qv(n,t,i){if(t.search(J2)>=0)throw gm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,i);try{return new Ji(...t.split("."))._internalPath}catch{throw gm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,i)}}function gm(n,t,i,e,r){let o=e&&!e.isEmpty(),s=r!==void 0,a=`Function ${t}() called with invalid data`;i&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${e}`),s&&(l+=` in document ${r}`),l+=")"),new L(N.INVALID_ARGUMENT,a+n+l)}function rS(n,t){return n.some(i=>i.isEqual(t))}var Qo=class{constructor(t,i,e,r,o){this._firestore=t,this._userDataWriter=i,this._key=e,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let t=new uv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){let i=this._document.data.field(Sm("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}},uv=class extends Qo{data(){return super.data()}};function Sm(n,t){return typeof t=="string"?Qv(n,t):t instanceof Ji?t._internalPath:t._delegate._internalPath}function oS(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new L(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ql=class{},Yo=class extends Ql{};function Xn(n,t,...i){let e=[];t instanceof Ql&&e.push(t),e=e.concat(i),function(o){let s=o.filter(l=>l instanceof hv).length,a=o.filter(l=>l instanceof _m).length;if(s>1||s>0&&a>0)throw new L(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(e);for(let r of e)n=r._apply(n);return n}var _m=class n extends Yo{constructor(t,i,e){super(),this._field=t,this._op=i,this._value=e,this.type="where"}static _create(t,i,e){return new n(t,i,e)}_apply(t){let i=this._parse(t);return pS(t._query,i),new Be(t.firestore,t.converter,q_(t._query,i))}_parse(t){let i=Zo(t.firestore);return function(o,s,a,l,d,h,f){let g;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new L(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){aC(f,h);let _=[];for(let S of f)_.push(sC(l,o,S));g={arrayValue:{values:_}}}else g=sC(l,o,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||aC(f,h),g=eS(a,s,f,h==="in"||h==="not-in");return kt.create(d,h,g)}(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}};function sS(n,t,i){let e=t,r=Sm("where",n);return _m._create(r,e,i)}var hv=class n extends Ql{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new n(t,i)}_parse(t){let i=this._queryConstraints.map(e=>e._parse(t)).filter(e=>e.getFilters().length>0);return i.length===1?i[0]:Bt.create(i,this._getOperator())}_apply(t){let i=this._parse(t);return i.getFilters().length===0?t:(function(r,o){let s=r,a=o.getFlattenedFilters();for(let l of a)pS(s,l),s=q_(s,l)}(t._query,i),new Be(t.firestore,t.converter,q_(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var mv=class n extends Yo{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new n(t,i)}_apply(t){let i=function(r,o,s){if(r.startAt!==null)throw new L(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new L(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Uo(o,s)}(t._query,this._field,this._direction);return new Be(t.firestore,t.converter,function(r,o){let s=r.explicitOrderBy.concat([o]);return new Xi(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}};function aS(n,t="asc"){let i=t,e=Sm("orderBy",n);return mv._create(e,i)}var bm=class n extends Yo{constructor(t,i,e){super(),this.type=t,this._limit=i,this._limitType=e}static _create(t,i,e){return new n(t,i,e)}_apply(t){return new Be(t.firestore,t.converter,Lh(t._query,this._limit,this._limitType))}};function cS(n){return VT("limit",n),bm._create("limit",n,"F")}function lS(n){return VT("limitToLast",n),bm._create("limitToLast",n,"L")}var vm=class n extends Yo{constructor(t,i,e){super(),this.type=t,this._docOrFields=i,this._inclusive=e}static _create(t,i,e){return new n(t,i,e)}_apply(t){let i=fS(t,this.type,this._docOrFields,this._inclusive);return new Be(t.firestore,t.converter,function(r,o){return new Xi(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)}(t._query,i))}};function dS(...n){return vm._create("startAt",n,!0)}function uS(...n){return vm._create("startAfter",n,!1)}var ym=class n extends Yo{constructor(t,i,e){super(),this.type=t,this._docOrFields=i,this._inclusive=e}static _create(t,i,e){return new n(t,i,e)}_apply(t){let i=fS(t,this.type,this._docOrFields,this._inclusive);return new Be(t.firestore,t.converter,function(r,o){return new Xi(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)}(t._query,i))}};function hS(...n){return ym._create("endBefore",n,!1)}function mS(...n){return ym._create("endAt",n,!0)}function fS(n,t,i,e){if(i[0]=Ft(i[0]),i[0]instanceof Qo)return function(o,s,a,l,d){if(!l)throw new L(N.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let h=[];for(let f of ua(o))if(f.field.isKeyField())h.push(zo(s,l.key));else{let g=l.data.field(f.field);if(xm(g))throw new L(N.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(g===null){let _=f.field.canonicalString();throw new L(N.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${_}' (used as the orderBy) does not exist.`)}h.push(g)}return new wn(h,d)}(n._query,n.firestore._databaseId,t,i[0]._document,e);{let r=Zo(n.firestore);return function(s,a,l,d,h,f){let g=s.explicitOrderBy;if(h.length>g.length)throw new L(N.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let _=[];for(let S=0;S<h.length;S++){let O=h[S];if(g[S].field.isKeyField()){if(typeof O!="string")throw new L(N.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof O}`);if(!wv(s)&&O.indexOf("/")!==-1)throw new L(N.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${O}' contains a slash.`);let M=s.path.child(At.fromString(O));if(!W.isDocumentKey(M))throw new L(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${M}' is not because it contains an odd number of segments.`);let K=new W(M);_.push(zo(a,K))}else{let M=eS(l,d,O);_.push(M)}}return new wn(_,f)}(n._query,n.firestore._databaseId,r,t,i,e)}}function sC(n,t,i){if(typeof(i=Ft(i))=="string"){if(i==="")throw new L(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wv(t)&&i.indexOf("/")!==-1)throw new L(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);let e=t.path.child(At.fromString(i));if(!W.isDocumentKey(e))throw new L(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${e}' is not because it has an odd number of segments (${e.length}).`);return zo(n,new W(e))}if(i instanceof Ht)return zo(n,i._key);throw new L(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cm(i)}.`)}function aC(n,t){if(!Array.isArray(n)||n.length===0)throw new L(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function pS(n,t){let i=function(r,o){for(let s of r)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(i!==null)throw i===t.op?new L(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new L(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}var Da=class{convertValue(t,i="none"){switch(Bo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ue(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Vr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 10:return this.convertObject(t.mapValue,i);default:throw et()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){let e={};return Xo(t,(r,o)=>{e[r]=this.convertValue(o,i)}),e}convertGeoPoint(t){return new Ko(ue(t.latitude),ue(t.longitude))}convertArray(t,i){return(t.values||[]).map(e=>this.convertValue(e,i))}convertServerTimestamp(t,i){switch(i){case"previous":let e=vv(t);return e==null?null:this.convertValue(e,i);case"estimate":return this.convertTimestamp(Rl(t));default:return null}}convertTimestamp(t){let i=Hn(t);return new ne(i.seconds,i.nanos)}convertDocumentKey(t,i){let e=At.fromString(t);at(sT(e));let r=new jr(e.get(1),e.get(3)),o=new W(e.popFirst(5));return r.isEqual(i)||fe(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),o}};function Dm(n,t,i){let e;return e=n?i&&(i.merge||i.mergeFields)?n.toFirestore(t,i):n.toFirestore(t):t,e}var fv=class extends Da{constructor(t){super(),this.firestore=t}convertBytes(t){return new En(t)}convertReference(t){let i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ht(this.firestore,null,i)}};var $n=class{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}},Bi=class extends Qo{constructor(t,i,e,r,o,s){super(t,i,e,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){let i=new Fr(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){let e=this._document.data.field(Sm("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e,i.serverTimestamps)}}},Fr=class extends Bi{data(t={}){return super.data(t)}},tn=class{constructor(t,i,e,r){this._firestore=t,this._userDataWriter=i,this._snapshot=r,this.metadata=new $n(r.hasPendingWrites,r.fromCache),this.query=e}get docs(){let t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(e=>{t.call(i,new Fr(this._firestore,this._userDataWriter,e.key,e,new $n(this._snapshot.mutatedKeys.has(e.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){let i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new L(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>{let l=new Fr(r._firestore,r._userDataWriter,a.doc.key,a.doc,new $n(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let l=new Fr(r._firestore,r._userDataWriter,a.doc.key,a.doc,new $n(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),d=-1,h=-1;return a.type!==0&&(d=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:tL(a.type),doc:l,oldIndex:d,newIndex:h}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}};function tL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return et()}}function Yv(n,t){return n instanceof Bi&&t instanceof Bi?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(n._document===null?t._document===null:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof tn&&t instanceof tn&&n._firestore===t._firestore&&Hv(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function gS(n){n=Rt(n,Ht);let t=Rt(n.firestore,Yt);return FT(Te(t),n._key).then(i=>t0(t,n,i))}var Qn=class extends Da{constructor(t){super(),this.firestore=t}convertBytes(t){return new En(t)}convertReference(t){let i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ht(this.firestore,null,i)}};function _S(n){n=Rt(n,Ht);let t=Rt(n.firestore,Yt),i=Te(t),e=new Qn(t);return W2(i,n._key).then(r=>new Bi(t,e,n._key,r,new $n(r!==null&&r.hasLocalMutations,!0),n.converter))}function bS(n){n=Rt(n,Ht);let t=Rt(n.firestore,Yt);return FT(Te(t),n._key,{source:"server"}).then(i=>t0(t,n,i))}function vS(n){n=Rt(n,Be);let t=Rt(n.firestore,Yt),i=Te(t),e=new Qn(t);return oS(n._query),NT(i,n._query).then(r=>new tn(t,e,n,r))}function yS(n){n=Rt(n,Be);let t=Rt(n.firestore,Yt),i=Te(t),e=new Qn(t);return K2(i,n._query).then(r=>new tn(t,e,n,r))}function wS(n){n=Rt(n,Be);let t=Rt(n.firestore,Yt),i=Te(t),e=new Qn(t);return NT(i,n._query,{source:"server"}).then(r=>new tn(t,e,n,r))}function Xv(n,t,i){n=Rt(n,Ht);let e=Rt(n.firestore,Yt),r=Dm(n.converter,t,i);return Na(e,[Tm(Zo(e),"setDoc",n._key,r,n.converter!==null,i).toMutation(n._key,he.none())])}function Zv(n,t,i,...e){n=Rt(n,Ht);let r=Rt(n.firestore,Yt),o=Zo(r),s;return s=typeof(t=Ft(t))=="string"||t instanceof Ji?Wv(o,"updateDoc",n._key,t,i,e):Gv(o,"updateDoc",n._key,t),Na(r,[s.toMutation(n._key,he.exists(!0))])}function xS(n){return Na(Rt(n.firestore,Yt),[new $r(n._key,he.none())])}function ES(n,t){let i=Rt(n.firestore,Yt),e=id(n),r=Dm(n.converter,t);return Na(i,[Tm(Zo(n.firestore),"addDoc",e._key,r,n.converter!==null,{}).toMutation(e._key,he.exists(!1))]).then(()=>e)}function Jv(n,...t){var i,e,r;n=Ft(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||iv(t[s])||(o=t[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(iv(t[s])){let f=t[s];t[s]=(i=f.next)===null||i===void 0?void 0:i.bind(f),t[s+1]=(e=f.error)===null||e===void 0?void 0:e.bind(f),t[s+2]=(r=f.complete)===null||r===void 0?void 0:r.bind(f)}let l,d,h;if(n instanceof Ht)d=Rt(n.firestore,Yt),h=Ra(n._key.path),l={next:f=>{t[s]&&t[s](t0(d,n,f))},error:t[s+1],complete:t[s+2]};else{let f=Rt(n,Be);d=Rt(f.firestore,Yt),h=f._query;let g=new Qn(d);l={next:_=>{t[s]&&t[s](new tn(d,g,f,_))},error:t[s+1],complete:t[s+2]},oS(n._query)}return function(g,_,S,O){let M=new Ta(O),K=new Hl(_,M,S);return g.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return Av(yield Sa(g),K)})),()=>{M.$a(),g.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return Rv(yield Sa(g),K)}))}}(Te(d),h,a,l)}function IS(n,t){return Q2(Te(n=Rt(n,Yt)),iv(t)?t:{next:t})}function Na(n,t){return function(e,r){let o=new xe;return e.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){return S2(yield Bv(e),r,o)})),o.promise}(Te(n),t)}function t0(n,t,i){let e=i.docs.get(t._key),r=new Qn(n);return new Bi(n,r,t._key,e,new $n(i.hasPendingWrites,i.fromCache),t.converter)}var eL={maxAttempts:5};var wm=class{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Zo(t)}set(t,i,e){this._verifyNotCommitted();let r=Pr(t,this._firestore),o=Dm(r.converter,i,e),s=Tm(this._dataReader,"WriteBatch.set",r._key,o,r.converter!==null,e);return this._mutations.push(s.toMutation(r._key,he.none())),this}update(t,i,e,...r){this._verifyNotCommitted();let o=Pr(t,this._firestore),s;return s=typeof(i=Ft(i))=="string"||i instanceof Ji?Wv(this._dataReader,"WriteBatch.update",o._key,i,e,r):Gv(this._dataReader,"WriteBatch.update",o._key,i),this._mutations.push(s.toMutation(o._key,he.exists(!0))),this}delete(t){this._verifyNotCommitted();let i=Pr(t,this._firestore);return this._mutations=this._mutations.concat(new $r(i._key,he.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new L(N.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Pr(n,t){if((n=Ft(n)).firestore!==t)throw new L(N.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}var pv=class extends class{constructor(i,e){this._firestore=i,this._transaction=e,this._dataReader=Zo(i)}get(i){let e=Pr(i,this._firestore),r=new fv(this._firestore);return this._transaction.lookup([e._key]).then(o=>{if(!o||o.length!==1)return et();let s=o[0];if(s.isFoundDocument())return new Qo(this._firestore,r,s.key,s,e.converter);if(s.isNoDocument())return new Qo(this._firestore,r,e._key,null,e.converter);throw et()})}set(i,e,r){let o=Pr(i,this._firestore),s=Dm(o.converter,e,r),a=Tm(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,r);return this._transaction.set(o._key,a),this}update(i,e,r,...o){let s=Pr(i,this._firestore),a;return a=typeof(e=Ft(e))=="string"||e instanceof Ji?Wv(this._dataReader,"Transaction.update",s._key,e,r,o):Gv(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,a),this}delete(i){let e=Pr(i,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,i){super(t,i),this._firestore=t}get(t){let i=Pr(t,this._firestore),e=new Qn(this._firestore);return super.get(t).then(r=>new Bi(this._firestore,e,i._key,r._document,new $n(!1,!1),i.converter))}};function kS(n,t,i){n=Rt(n,Yt);let e=Object.assign(Object.assign({},eL),i);return function(o){if(o.maxAttempts<1)throw new L(N.INVALID_ARGUMENT,"Max attempts must be at least 1")}(e),function(o,s,a){let l=new xe;return o.asyncQueue.enqueueAndForget(()=>R(this,null,function*(){let d=yield $2(o);new Zb(o.asyncQueue,d,a,s,l).Xa()})),l.promise}(Te(n),r=>t(new pv(n,r)),e)}function CS(){return new Kl("deleteField")}function TS(){return new sv("serverTimestamp")}function SS(...n){return new av("arrayUnion",n)}function DS(...n){return new cv("arrayRemove",n)}function AS(n){return new lv("increment",n)}(function(t,i=!0){(function(r){Aa=r})(Kd),fo(new Hi("firestore",(e,{instanceIdentifier:r,options:o})=>{let s=e.getProvider("app").getImmediate(),a=new Yt(new y_(e.getProvider("auth-internal")),new I_(e.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new L(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jr(d.options.projectId,h)}(s,r),s);return o=Object.assign({useFetchStreams:i},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Gi(ck,"4.6.3",t),Gi(ck,"4.6.3","esm2017")})();var iL="@firebase/firestore-compat",nL="0.3.32";function s0(n,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new L("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function RS(){if(typeof Uint8Array>"u")throw new L("unimplemented","Uint8Arrays are not available in this environment.")}function MS(){if(!xC())throw new L("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Am=class n{constructor(t){this._delegate=t}static fromBase64String(t){return MS(),new n(En.fromBase64String(t))}static fromUint8Array(t){return RS(),new n(En.fromUint8Array(t))}toBase64(){return MS(),this._delegate.toBase64()}toUint8Array(){return RS(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function e0(n){return rL(n,["next","error","complete"])}function rL(n,t){if(typeof n!="object"||n===null)return!1;let i=n;for(let e of t)if(e in i&&typeof i[e]=="function")return!0;return!1}var i0=class{enableIndexedDbPersistence(t,i){return qT(t._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(t){return $T(t._delegate)}clearIndexedDbPersistence(t){return GT(t._delegate)}},Rm=class{constructor(t,i,e){this._delegate=i,this._persistenceProvider=e,this.INTERNAL={delete:()=>this.terminate()},t instanceof jr||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){let i=this._delegate._getSettings();!t.merge&&i.host!==t.host&&Vi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&(t=Object.assign(Object.assign({},i),t),delete t.merge),this._delegate._setSettings(t)}useEmulator(t,i,e={}){jT(this._delegate,t,i,e)}enableNetwork(){return KT(this._delegate)}disableNetwork(){return QT(this._delegate)}enablePersistence(t){let i=!1,e=!1;return t&&(i=!!t.synchronizeTabs,e=!!t.experimentalForceOwningTab,Uv("synchronizeTabs",i,"experimentalForceOwningTab",e)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,e)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return WT(this._delegate)}onSnapshotsInSync(t){return IS(this._delegate,t)}get app(){if(!this._appCompat)throw new L("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new ja(this,qv(this._delegate,t))}catch(i){throw oi(i,"collection()","Firestore.collection()")}}doc(t){try{return new In(this,id(this._delegate,t))}catch(i){throw oi(i,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new ns(this,BT(this._delegate,t))}catch(i){throw oi(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return kS(this._delegate,i=>t(new Mm(this,i)))}batch(){return Te(this._delegate),new Pm(new wm(this._delegate,t=>Na(this._delegate,t)))}loadBundle(t){return YT(this._delegate,t)}namedQuery(t){return XT(this._delegate,t).then(i=>i?new ns(this,i):null)}},La=class extends Da{constructor(t){super(),this.firestore=t}convertBytes(t){return new Am(new En(t))}convertReference(t){let i=this.convertDocumentKey(t,this.firestore._databaseId);return In.forKey(i,this.firestore,null)}};function oL(n){cC(n)}var Mm=class{constructor(t,i){this._firestore=t,this._delegate=i,this._userDataWriter=new La(t)}get(t){let i=ts(t);return this._delegate.get(i).then(e=>new es(this._firestore,new Bi(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,i.converter)))}set(t,i,e){let r=ts(t);return e?(s0("Transaction.set",e),this._delegate.set(r,i,e)):this._delegate.set(r,i),this}update(t,i,e,...r){let o=ts(t);return arguments.length===2?this._delegate.update(o,i):this._delegate.update(o,i,e,...r),this}delete(t){let i=ts(t);return this._delegate.delete(i),this}},Pm=class{constructor(t){this._delegate=t}set(t,i,e){let r=ts(t);return e?(s0("WriteBatch.set",e),this._delegate.set(r,i,e)):this._delegate.set(r,i),this}update(t,i,e,...r){let o=ts(t);return arguments.length===2?this._delegate.update(o,i):this._delegate.update(o,i,e,...r),this}delete(t){let i=ts(t);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}},Va=class n{constructor(t,i,e){this._firestore=t,this._userDataWriter=i,this._delegate=e}fromFirestore(t,i){let e=new Fr(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new is(this._firestore,e),i??{})}toFirestore(t,i){return i?this._delegate.toFirestore(t,i):this._delegate.toFirestore(t)}static getInstance(t,i){let e=n.INSTANCES,r=e.get(t);r||(r=new WeakMap,e.set(t,r));let o=r.get(i);return o||(o=new n(t,new La(t),i),r.set(i,o)),o}};Va.INSTANCES=new WeakMap;var In=class n{constructor(t,i){this.firestore=t,this._delegate=i,this._userDataWriter=new La(t)}static forPath(t,i,e){if(t.length%2!==0)throw new L("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new n(i,new Ht(i._delegate,e,new W(t)))}static forKey(t,i,e){return new n(i,new Ht(i._delegate,e,t))}get id(){return this._delegate.id}get parent(){return new ja(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new ja(this.firestore,qv(this._delegate,t))}catch(i){throw oi(i,"collection()","DocumentReference.collection()")}}isEqual(t){return t=Ft(t),t instanceof Ht?$v(this._delegate,t):!1}set(t,i){i=s0("DocumentReference.set",i);try{return i?Xv(this._delegate,t,i):Xv(this._delegate,t)}catch(e){throw oi(e,"setDoc()","DocumentReference.set()")}}update(t,i,...e){try{return arguments.length===1?Zv(this._delegate,t):Zv(this._delegate,t,i,...e)}catch(r){throw oi(r,"updateDoc()","DocumentReference.update()")}}delete(){return xS(this._delegate)}onSnapshot(...t){let i=PS(t),e=OS(t,r=>new es(this.firestore,new Bi(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return Jv(this._delegate,i,e)}get(t){let i;return t?.source==="cache"?i=_S(this._delegate):t?.source==="server"?i=bS(this._delegate):i=gS(this._delegate),i.then(e=>new es(this.firestore,new Bi(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)))}withConverter(t){return new n(this.firestore,t?this._delegate.withConverter(Va.getInstance(this.firestore,t)):this._delegate.withConverter(null))}};function oi(n,t,i){return n.message=n.message.replace(t,i),n}function PS(n){for(let t of n)if(typeof t=="object"&&!e0(t))return t;return{}}function OS(n,t){var i,e;let r;return e0(n[0])?r=n[0]:e0(n[1])?r=n[1]:typeof n[0]=="function"?r={next:n[0],error:n[1],complete:n[2]}:r={next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:(i=r.error)===null||i===void 0?void 0:i.bind(r),complete:(e=r.complete)===null||e===void 0?void 0:e.bind(r)}}var es=class{constructor(t,i){this._firestore=t,this._delegate=i}get ref(){return new In(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,i){return this._delegate.get(t,i)}isEqual(t){return Yv(this._delegate,t._delegate)}},is=class extends es{data(t){let i=this._delegate.data(t);return this._delegate._converter||lC(i!==void 0,"Document in a QueryDocumentSnapshot should exist"),i}},ns=class n{constructor(t,i){this.firestore=t,this._delegate=i,this._userDataWriter=new La(t)}where(t,i,e){try{return new n(this.firestore,Xn(this._delegate,sS(t,i,e)))}catch(r){throw oi(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,i){try{return new n(this.firestore,Xn(this._delegate,aS(t,i)))}catch(e){throw oi(e,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new n(this.firestore,Xn(this._delegate,cS(t)))}catch(i){throw oi(i,"limit()","Query.limit()")}}limitToLast(t){try{return new n(this.firestore,Xn(this._delegate,lS(t)))}catch(i){throw oi(i,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new n(this.firestore,Xn(this._delegate,dS(...t)))}catch(i){throw oi(i,"startAt()","Query.startAt()")}}startAfter(...t){try{return new n(this.firestore,Xn(this._delegate,uS(...t)))}catch(i){throw oi(i,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new n(this.firestore,Xn(this._delegate,hS(...t)))}catch(i){throw oi(i,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new n(this.firestore,Xn(this._delegate,mS(...t)))}catch(i){throw oi(i,"endAt()","Query.endAt()")}}isEqual(t){return Hv(this._delegate,t._delegate)}get(t){let i;return t?.source==="cache"?i=yS(this._delegate):t?.source==="server"?i=wS(this._delegate):i=vS(this._delegate),i.then(e=>new nd(this.firestore,new tn(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)))}onSnapshot(...t){let i=PS(t),e=OS(t,r=>new nd(this.firestore,new tn(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return Jv(this._delegate,i,e)}withConverter(t){return new n(this.firestore,t?this._delegate.withConverter(Va.getInstance(this.firestore,t)):this._delegate.withConverter(null))}},n0=class{constructor(t,i){this._firestore=t,this._delegate=i}get type(){return this._delegate.type}get doc(){return new is(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},nd=class{constructor(t,i){this._firestore=t,this._delegate=i}get query(){return new ns(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new is(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(i=>new n0(this._firestore,i))}forEach(t,i){this._delegate.forEach(e=>{t.call(i,new is(this._firestore,e))})}isEqual(t){return Yv(this._delegate,t._delegate)}},ja=class n extends ns{constructor(t,i){super(t,i),this.firestore=t,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let t=this._delegate.parent;return t?new In(this.firestore,t):null}doc(t){try{return t===void 0?new In(this.firestore,id(this._delegate)):new In(this.firestore,id(this._delegate,t))}catch(i){throw oi(i,"doc()","CollectionReference.doc()")}}add(t){return ES(this._delegate,t).then(i=>new In(this.firestore,i))}isEqual(t){return $v(this._delegate,t._delegate)}withConverter(t){return new n(this.firestore,t?this._delegate.withConverter(Va.getInstance(this.firestore,t)):this._delegate.withConverter(null))}};function ts(n){return Rt(n,Ht)}var r0=class n{constructor(...t){this._delegate=new Ji(...t)}static documentId(){return new n(pe.keyField().canonicalString())}isEqual(t){return t=Ft(t),t instanceof Ji?this._delegate._internalPath.isEqual(t._internalPath):!1}};var o0=class n{constructor(t){this._delegate=t}static serverTimestamp(){let t=TS();return t._methodName="FieldValue.serverTimestamp",new n(t)}static delete(){let t=CS();return t._methodName="FieldValue.delete",new n(t)}static arrayUnion(...t){let i=SS(...t);return i._methodName="FieldValue.arrayUnion",new n(i)}static arrayRemove(...t){let i=DS(...t);return i._methodName="FieldValue.arrayRemove",new n(i)}static increment(t){let i=AS(t);return i._methodName="FieldValue.increment",new n(i)}isEqual(t){return this._delegate.isEqual(t._delegate)}};var sL={Firestore:Rm,GeoPoint:Ko,Timestamp:ne,Blob:Am,Transaction:Mm,WriteBatch:Pm,DocumentReference:In,DocumentSnapshot:es,Query:ns,QueryDocumentSnapshot:is,QuerySnapshot:nd,CollectionReference:ja,FieldPath:r0,FieldValue:o0,setLogLevel:oL,CACHE_SIZE_UNLIMITED:zT};function aL(n,t){n.INTERNAL.registerComponent(new Hi("firestore-compat",i=>{let e=i.getProvider("app-compat").getImmediate(),r=i.getProvider("firestore").getImmediate();return t(e,r)},"PUBLIC").setServiceProps(Object.assign({},sL)))}function cL(n){aL(n,(t,i)=>new Rm(t,i,new i0)),n.registerVersion(iL,nL)}cL(Re);function lL(n,t=Td){return new Se(i=>{let e;return t!=null?t.schedule(()=>{e=n.onSnapshot({includeMetadataChanges:!0},i)}):e=n.onSnapshot({includeMetadataChanges:!0},i),()=>{e?.()}})}function FS(n,t){return lL(n,t)}function dL(n,t){return FS(n,t).pipe(gi(void 0),mc(),tt(i=>{let[e,r]=i;return r.exists?e?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}function l0(n,t){return FS(n,t).pipe(tt(i=>({payload:i,type:"query"})))}var Om=class{ref;afs;constructor(t,i){this.ref=t,this.afs=i}set(t,i){return this.ref.set(t,i)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,i){let e=this.ref.collection(t),{ref:r,query:o}=VS(e,i);return new Nm(r,o,this.afs)}snapshotChanges(){return dL(this.ref,this.afs.schedulers.outsideAngular).pipe(Ve)}valueChanges(t={}){return this.snapshotChanges().pipe(tt(({payload:i})=>t.idField?Nt(B({},i.data()),{[t.idField]:i.id}):i.data()))}get(t){return jt(this.ref.get(t)).pipe(Ve)}};function Fm(n,t){return l0(n,t).pipe(gi(void 0),mc(),tt(i=>{let[e,r]=i,o=r.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,l)=>{let d=o.find(f=>f.doc.ref.isEqual(a.ref)),h=e?.payload.docs.find(f=>f.ref.isEqual(a.ref));d&&JSON.stringify(d.doc.metadata)===JSON.stringify(a.metadata)||!d&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),s}))}function NS(n,t,i){return Fm(n,i).pipe(ds((e,r)=>uL(e,r.map(o=>o.payload),t),[]),hc(),tt(e=>e.map(r=>({type:r.type,payload:r}))))}function uL(n,t,i){return t.forEach(e=>{i.indexOf(e.type)>-1&&(n=hL(n,e))}),n}function a0(n,t,i,...e){let r=n.slice();return r.splice(t,i,...e),r}function hL(n,t){switch(t.type){case"added":if(!(n[t.newIndex]&&n[t.newIndex].doc.ref.isEqual(t.doc.ref)))return a0(n,t.newIndex,0,t);break;case"modified":if(n[t.oldIndex]==null||n[t.oldIndex].doc.ref.isEqual(t.doc.ref))if(t.oldIndex!==t.newIndex){let i=n.slice();return i.splice(t.oldIndex,1),i.splice(t.newIndex,0,t),i}else return a0(n,t.newIndex,1,t);break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return a0(n,t.oldIndex,1);break}return n}function LS(n){return(!n||n.length===0)&&(n=["added","removed","modified"]),n}var Nm=class{ref;query;afs;constructor(t,i,e){this.ref=t,this.query=i,this.afs=e}stateChanges(t){let i=Fm(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(i=i.pipe(tt(e=>e.filter(r=>t.indexOf(r.type)>-1)))),i.pipe(gi(void 0),mc(),$t(([e,r])=>r.length>0||!e),tt(([,e])=>e),Ve)}auditTrail(t){return this.stateChanges(t).pipe(ds((i,e)=>[...i,...e],[]))}snapshotChanges(t){let i=LS(t);return NS(this.query,i,this.afs.schedulers.outsideAngular).pipe(Ve)}valueChanges(t={}){return l0(this.query,this.afs.schedulers.outsideAngular).pipe(tt(i=>i.payload.docs.map(e=>t.idField?Nt(B({},e.data()),{[t.idField]:e.id}):e.data())),Ve)}get(t){return jt(this.query.get(t)).pipe(Ve)}add(t){return this.ref.add(t)}doc(t){return new Om(this.ref.doc(t),this.afs)}},c0=class{query;afs;constructor(t,i){this.query=t,this.afs=i}stateChanges(t){return!t||t.length===0?Fm(this.query,this.afs.schedulers.outsideAngular).pipe(Ve):Fm(this.query,this.afs.schedulers.outsideAngular).pipe(tt(i=>i.filter(e=>t.indexOf(e.type)>-1)),$t(i=>i.length>0),Ve)}auditTrail(t){return this.stateChanges(t).pipe(ds((i,e)=>[...i,...e],[]))}snapshotChanges(t){let i=LS(t);return NS(this.query,i,this.afs.schedulers.outsideAngular).pipe(Ve)}valueChanges(t={}){return l0(this.query,this.afs.schedulers.outsideAngular).pipe(tt(e=>e.payload.docs.map(r=>t.idField?B({[t.idField]:r.id},r.data()):r.data())),Ve)}get(t){return jt(this.query.get(t)).pipe(Ve)}},mL=new $("angularfire2.enableFirestorePersistence"),fL=new $("angularfire2.firestore.persistenceSettings"),pL=new $("angularfire2.firestore.settings"),gL=new $("angularfire2.firestore.use-emulator");function VS(n,t=i=>i){return{query:t(n),ref:n}}var kn=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(i,e,r,o,s,a,l,d,h,f,g,_,S,O,M,K,it){this.schedulers=l;let U=Bn(i,a,e),nt=h;f&&Lg(U,a,g,S,O,M,_,K),[this.firestore,this.persistenceEnabled$]=Er(`${U.name}.firestore`,"AngularFirestore",U.name,()=>{let ft=a.runOutsideAngular(()=>U.firestore());if(o&&ft.settings(o),nt&&ft.useEmulator(...nt),r&&!mo(s)){let pt=()=>{try{return jt(ft.enablePersistence(d||void 0).then(()=>!0,()=>!1))}catch(x){return typeof console<"u"&&console.warn(x),Y(!1)}};return[ft,a.runOutsideAngular(pt)]}else return[ft,Y(!1)]},[o,nt,r])}collection(i,e){let r;typeof i=="string"?r=this.firestore.collection(i):r=i;let{ref:o,query:s}=VS(r,e),a=this.schedulers.ngZone.run(()=>o);return new Nm(a,s,this)}collectionGroup(i,e){let r=e||(s=>s),o=this.firestore.collectionGroup(i);return new c0(r(o),this)}doc(i){let e;typeof i=="string"?e=this.firestore.doc(i):e=i;let r=this.schedulers.ngZone.run(()=>e);return new Om(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(e){return new(e||n)(w(un),w(hn,8),w(mL,8),w(pL,8),w(Le),w(J),w(mr),w(fL,8),w(gL,8),w(Vu,8),w(Rg,8),w(Mg,8),w(Pg,8),w(Og,8),w(Fg,8),w(Ng,8),w(Nn,8))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();var Cn=(()=>{let t=class t{constructor(e,r,o){this.fireStorage=e,this.firestore=r,this.authService=o}setData(e){this.data=e}getData(){return this.data}setOrderData(e){this.orderData=e}getOrderData(){return this.orderData}setEditableData(e){this.editableData=e}getEditableData(){return this.editableData}getAllOrders(){return this.firestore.collection("orders").snapshotChanges().pipe(tt(e=>e.map(r=>{let o=r.payload.doc.data(),s=r.payload.doc.id;return B({id:s},o)})),tt(e=>{let r=[];return e.forEach(o=>{if(o.orders&&Array.isArray(o.orders)){let s=o.orders.map(a=>Nt(B({},a),{docId:o.id}));r=r.concat(s)}}),r}))}cancelOrder(e){console.log("orderId : ",e);let r=localStorage.getItem("uid"),o=new Date().toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0});if(!r){console.error("User is not authenticated");return}let s=this.firestore.collection("orders").doc(r);return console.log("cartDocRef : ",s),s.get().toPromise().then(a=>{if(console.log("doc : ",a),a.exists){console.log("doc exist");let d=a.data().orders||[],h=d.findIndex(f=>f.orderId===e);return h!==-1?(d[h].product.product.isOrderCancled=!0,d[h].product.product.dateOfOrderCancled=o,console.log("orders[orderIndex] : ",d[h]),console.log("Order cancelled:",e)):console.log("Order not found:",e),s.set({orders:d},{merge:!0})}else return console.log("doc does not exist"),null}).catch(a=>{console.error("Error adding product to cart:",a)})}deliveredOrder(e,r){console.log("orderId : ",e);let o=new Date().toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}),s=this.firestore.collection("orders").doc(r);return console.log("cartDocRef : ",s),s.get().toPromise().then(a=>{if(console.log("doc : ",a),a.exists){console.log("doc exist");let d=a.data().orders||[],h=d.findIndex(f=>f.orderId===e);return h!==-1?(d[h].product.product.dateOfOrderDelivered=o,console.log("orders[orderIndex] : ",d[h]),console.log("Order delivered:",e)):console.log("Order not found:",e),s.set({orders:d},{merge:!0})}else return console.log("doc does not exist"),null}).catch(a=>{console.error("Error adding product to cart:",a)})}};t.\u0275fac=function(r){return new(r||t)(w(Ii),w(kn),w(Mi))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function _L(n,t){if(n&1){let i=Ae();T(0,"div",1)(1,"button",2),dt("click",function(){oe(i);let r=bt();return se(r.action())}),V(2),A()()}if(n&2){let i=bt();z(2),de(" ",i.data.action," ")}}var bL=["label"];function vL(n,t){}var yL=Math.pow(2,31)-1,sd=class{constructor(t,i){this._overlayRef=i,this._afterDismissed=new _t,this._afterOpened=new _t,this._onAction=new _t,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,yL))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},jS=new $("MatSnackBarData"),Ba=class{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}},wL=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=rt({type:t,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0});let n=t;return n})(),xL=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=rt({type:t,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0});let n=t;return n})(),EL=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=rt({type:t,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0});let n=t;return n})(),IL=(()=>{let t=class t{constructor(e,r){this.snackBarRef=e,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}};t.\u0275fac=function(r){return new(r||t)(E(sd),E(jS))},t.\u0275cmp=st({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[St],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(r,o){r&1&&(T(0,"div",0),V(1),A(),Ct(2,_L,3,1,"div",1)),r&2&&(z(),de(" ",o.data.message,`
`),z(),co(2,o.hasAction?2:-1))},dependencies:[yr,wL,xL,EL],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0});let n=t;return n})(),kL={snackBarState:cw("state",[Bf("void, hidden",Qd({transform:"scale(0.8)",opacity:0})),Bf("visible",Qd({transform:"scale(1)",opacity:1})),zf("* => visible",jf("150ms cubic-bezier(0, 0, 0.2, 1)")),zf("* => void, * => hidden",jf("75ms cubic-bezier(0.4, 0.0, 1, 1)",Qd({opacity:0})))])},CL=0,TL=(()=>{let t=class t extends _r{constructor(e,r,o,s,a){super(),this._ngZone=e,this._elementRef=r,this._changeDetectorRef=o,this._platform=s,this.snackBarConfig=a,this._document=H(mt),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new _t,this._onExit=new _t,this._onEnter=new _t,this._animationState="void",this._liveElementId=`mat-snack-bar-container-live-${CL++}`,this.attachDomPortal=l=>{this._assertNotAttached();let d=this._portalOutlet.attachDomPortal(l);return this._afterPortalAttached(),d},a.politeness==="assertive"&&!a.announcementMessage?this._live="assertive":a.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();let r=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),r}attachTemplatePortal(e){this._assertNotAttached();let r=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),r}onAnimationEnd(e){let{fromState:r,toState:o}=e;if((o==="void"&&r!=="void"||o==="hidden")&&this._completeExit(),o==="visible"){let s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let e=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(a=>e.classList.add(a)):e.classList.add(r)),this._exposeToModals();let o=this._label.nativeElement,s="mdc-snackbar__label";o.classList.toggle(s,!o.querySelector(`.${s}`))}_exposeToModals(){let e=this._liveElementId,r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<r.length;o++){let s=r[o],a=s.getAttribute("aria-owns");this._trackedModals.add(s),a?a.indexOf(e)===-1&&s.setAttribute("aria-owns",a+" "+e):s.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{let r=e.getAttribute("aria-owns");if(r){let o=r.replace(this._liveElementId,"").trim();o.length>0?e.setAttribute("aria-owns",o):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{let e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&r){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(o=document.activeElement),e.removeAttribute("aria-hidden"),r.appendChild(e),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}};t.\u0275fac=function(r){return new(r||t)(E(J),E(gt),E(ti),E(Et),E(Ba))},t.\u0275cmp=st({type:t,selectors:[["mat-snack-bar-container"]],viewQuery:function(r,o){if(r&1&&(ci(br,7),ci(bL,7)),r&2){let s;ce(s=le())&&(o._portalOutlet=s.first),ce(s=le())&&(o._label=s.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(r,o){r&1&&Ly("@state.done",function(a){return o.onAnimationEnd(a)}),r&2&&Ny("@state",o._animationState)},standalone:!0,features:[Ot,St],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(r,o){r&1&&(T(0,"div",1)(1,"div",2,0)(3,"div",3),Ct(4,vL,0,0,"ng-template",4),A(),ot(5,"div"),A()()),r&2&&(z(5),Tt("aria-live",o._live)("role",o._role)("id",o._liveElementId))},dependencies:[br],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[kL.snackBarState]}});let n=t;return n})();function SL(){return new Ba}var DL=new $("mat-snack-bar-default-options",{providedIn:"root",factory:SL}),Qr=(()=>{let t=class t{get _openedSnackBarRef(){let e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,r,o,s,a,l){this._overlay=e,this._live=r,this._injector=o,this._breakpointObserver=s,this._parentSnackBar=a,this._defaultConfig=l,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=IL,this.snackBarContainerComponent=TL,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(e,r){return this._attach(e,r)}openFromTemplate(e,r){return this._attach(e,r)}open(e,r="",o){let s=B(B({},this._defaultConfig),o);return s.data={message:e,action:r},s.announcementMessage===e&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,r){let o=r&&r.viewContainerRef&&r.viewContainerRef.injector,s=_e.create({parent:o||this._injector,providers:[{provide:Ba,useValue:r}]}),a=new Ln(this.snackBarContainerComponent,r.viewContainerRef,s),l=e.attach(a);return l.instance.snackBarConfig=r,l.instance}_attach(e,r){let o=B(B(B({},new Ba),this._defaultConfig),r),s=this._createOverlay(o),a=this._attachSnackBarContainer(s,o),l=new sd(a,s);if(e instanceof ar){let d=new gr(e,null,{$implicit:o.data,snackBarRef:l});l.instance=a.attachTemplatePortal(d)}else{let d=this._createInjector(o,l),h=new Ln(e,void 0,d),f=a.attachComponentPortal(h);l.instance=f.instance}return this._breakpointObserver.observe(Iu.HandsetPortrait).pipe(qi(s.detachments())).subscribe(d=>{s.overlayElement.classList.toggle(this.handsetCssClass,d.matches)}),o.announcementMessage&&a._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(l,o),this._openedSnackBarRef=l,this._openedSnackBarRef}_animateSnackBar(e,r){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),r.duration&&r.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(r.duration))}_createOverlay(e){let r=new yo;r.direction=e.direction;let o=this._overlay.position().global(),s=e.direction==="rtl",a=e.horizontalPosition==="left"||e.horizontalPosition==="start"&&!s||e.horizontalPosition==="end"&&s,l=!a&&e.horizontalPosition!=="center";return a?o.left("0"):l?o.right("0"):o.centerHorizontally(),e.verticalPosition==="top"?o.top("0"):o.bottom("0"),r.positionStrategy=o,this._overlay.create(r)}_createInjector(e,r){let o=e&&e.viewContainerRef&&e.viewContainerRef.injector;return _e.create({parent:o||this._injector,providers:[{provide:sd,useValue:r},{provide:jS,useValue:e.data}]})}};t.\u0275fac=function(r){return new(r||t)(w(yi),w(zx),w(_e),w(Vs),w(t,12),w(DL))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var za=(()=>{let t=class t{constructor(){this.isLoading=!1}show(){return this.isLoading=!0,this.isLoading}hide(){return this.isLoading=!1,this.isLoading}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var AL=new $("angularfire2.messaging.vapid-key"),RL=new $("angularfire2.messaging.service-worker-registeration"),BS=(()=>{class n{requestPermission;getToken;tokenChanges;messages;requestToken;deleteToken;constructor(i,e,r,o,s,a,l){let d=l,h=Y(void 0).pipe(Ye(s.outsideAngular),Ne(s.insideAngular),Mt(lw),Mt(_=>_?import("./chunk-XDIDZKV2.js"):Si),tt(()=>Bn(i,o,e)),Mt(_=>Er(`${_.name}.messaging`,"AngularFireMessaging",_.name,()=>Y(_.messaging()),[])),us({bufferSize:1,refCount:!1}));this.requestPermission=h.pipe(Ye(s.outsideAngular),Ne(s.insideAngular),Mt(()=>Notification.requestPermission())),this.getToken=h.pipe(Ye(s.outsideAngular),Ne(s.insideAngular),Mt(_=>R(this,null,function*(){if(Notification.permission==="granted"){let S=d?yield d:null;return yield _.getToken({vapidKey:a,serviceWorkerRegistration:S})}else return null})));let f=new Se(_=>{navigator.permissions.query({name:"notifications"}).then(S=>{S.onchange=()=>_.next()})}),g=h.pipe(Ye(s.outsideAngular),Ne(s.insideAngular),hs(f),hs(this.getToken));return this.tokenChanges=h.pipe(Ye(s.outsideAngular),Ne(s.insideAngular),Mt(()=>ls(this.getToken,g))),this.messages=h.pipe(Ye(s.outsideAngular),Ne(s.insideAngular),Mt(_=>new Se(S=>_.onMessage(S)))),this.requestToken=h.pipe(Ye(s.outsideAngular),Ne(s.insideAngular),Mt(()=>this.requestPermission),en(()=>Y(null)),Xe(()=>this.tokenChanges)),this.deleteToken=()=>h.pipe(Ye(s.outsideAngular),Ne(s.insideAngular),Mt(_=>_.deleteToken()),uc(!1)),Lu(this,h,o)}static \u0275fac=function(e){return new(e||n)(w(un),w(hn,8),w(Le),w(J),w(mr),w(AL,8),w(RL,8))};static \u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();var Vm=(()=>{let t=class t{constructor(e){this.breakpointObserver=e,this.isMobile$=this.breakpointObserver.observe([Iu.Handset]).pipe(tt(r=>r.matches))}};t.\u0275fac=function(r){return new(r||t)(w(Vs))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var PL=["*",[["mat-toolbar-row"]]],OL=["*","mat-toolbar-row"],FL=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=rt({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0});let n=t;return n})(),Tn=(()=>{let t=class t{constructor(e,r,o){this._elementRef=e,this._platform=r,this._document=o}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}};t.\u0275fac=function(r){return new(r||t)(E(gt),E(Et),E(mt))},t.\u0275cmp=st({type:t,selectors:[["mat-toolbar"]],contentQueries:function(r,o,s){if(r&1&&$i(s,FL,5),r&2){let a;ce(a=le())&&(o._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(r,o){r&2&&(rn(o.color?"mat-"+o.color:""),xt("mat-toolbar-multiple-rows",o._toolbarRows.length>0)("mat-toolbar-single-row",o._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[St],ngContentSelectors:OL,decls:2,vars:0,template:function(r,o){r&1&&(ke(PL),Lt(0),Lt(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0});let n=t;return n})();var US=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=X({imports:[It,It]});let n=t;return n})();var NL=["*"];var LL=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],VL=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],jL=new $("MAT_CARD_CONFIG"),Ua=(()=>{let t=class t{constructor(e){this.appearance=e?.appearance||"raised"}};t.\u0275fac=function(r){return new(r||t)(E(jL,8))},t.\u0275cmp=st({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(r,o){r&2&&xt("mat-mdc-card-outlined",o.appearance==="outlined")("mdc-card--outlined",o.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[St],ngContentSelectors:NL,decls:1,vars:0,template:function(r,o){r&1&&(ke(),Lt(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0});let n=t;return n})(),qa=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=rt({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0});let n=t;return n})();var $a=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=rt({type:t,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0});let n=t;return n})(),Ha=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=rt({type:t,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"],standalone:!0});let n=t;return n})(),jm=(()=>{let t=class t{constructor(){this.align="start"}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=rt({type:t,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(r,o){r&2&&xt("mat-mdc-card-actions-align-end",o.align==="end")},inputs:{align:"align"},exportAs:["matCardActions"],standalone:!0});let n=t;return n})(),Yr=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=st({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[St],ngContentSelectors:VL,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(r,o){r&1&&(ke(LL),Lt(0),T(1,"div",0),Lt(2,1),A(),Lt(3,2))},encapsulation:2,changeDetection:0});let n=t;return n})();var Bm=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=rt({type:t,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"],standalone:!0});let n=t;return n})();var qS=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=rt({type:t,selectors:[["","mat-card-md-image",""],["","matCardImageMedium",""]],hostAttrs:[1,"mat-mdc-card-md-image","mdc-card__media"],standalone:!0});let n=t;return n})(),zm=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=rt({type:t,selectors:[["","mat-card-lg-image",""],["","matCardImageLarge",""]],hostAttrs:[1,"mat-mdc-card-lg-image","mdc-card__media"],standalone:!0});let n=t;return n})();var $S=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=X({imports:[It,on,It]});let n=t;return n})();var HS=fr({passive:!0}),GS=(()=>{let t=class t{constructor(e,r){this._platform=e,this._ngZone=r,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Si;let r=hi(e),o=this._monitoredElements.get(r);if(o)return o.subject;let s=new _t,a="cdk-text-field-autofilled",l=d=>{d.animationName==="cdk-text-field-autofill-start"&&!r.classList.contains(a)?(r.classList.add(a),this._ngZone.run(()=>s.next({target:d.target,isAutofilled:!0}))):d.animationName==="cdk-text-field-autofill-end"&&r.classList.contains(a)&&(r.classList.remove(a),this._ngZone.run(()=>s.next({target:d.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",l,HS),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:s,unlisten:()=>{r.removeEventListener("animationstart",l,HS)}}),s}stopMonitoring(e){let r=hi(e),o=this._monitoredElements.get(r);o&&(o.unlisten(),o.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((e,r)=>this.stopMonitoring(r))}};t.\u0275fac=function(r){return new(r||t)(w(Et),w(J))},t.\u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var WS=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=X({});let n=t;return n})();var qm=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=rt({type:t,selectors:[["mat-label"]],standalone:!0});let n=t;return n})();var zL=new $("MatPrefix"),KS=(()=>{let t=class t{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=rt({type:t,selectors:[["","matPrefix",""],["","matIconPrefix",""],["","matTextPrefix",""]],inputs:{_isTextSelector:[ht.None,"matTextPrefix","_isTextSelector"]},standalone:!0,features:[Ce([{provide:zL,useExisting:t}])]});let n=t;return n})();var QS=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=rt({type:t});let n=t;return n})();var YS=new $("MatFormField");var cd=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=X({imports:[It,on,Ls,It]});let n=t;return n})();var UL=new $("MAT_INPUT_VALUE_ACCESSOR"),qL=["button","checkbox","file","hidden","image","radio","range","reset","submit"],$L=0,XS=(()=>{let t=class t{get disabled(){return this._disabled}set disabled(e){this._disabled=ui(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Yu.required)??!1}set required(e){this._required=ui(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&Kp().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=ui(e)}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,r,o,s,a,l,d,h,f,g){this._elementRef=e,this._platform=r,this.ngControl=o,this._autofillMonitor=h,this._formField=g,this._uid=`mat-input-${$L++}`,this.focused=!1,this.stateChanges=new _t,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(O=>Kp().has(O)),this._iOSKeyupListener=O=>{let M=O.target;!M.value&&M.selectionStart===0&&M.selectionEnd===0&&(M.setSelectionRange(1,1),M.setSelectionRange(0,0))};let _=this._elementRef.nativeElement,S=_.nodeName.toLowerCase();this._inputValueAccessor=d||_,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&f.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Mu(l,o,a,s,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=S==="select",this._isTextarea=S==="textarea",this._isInFormField=!!g,this._isNativeSelect&&(this.controlType=_.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){let e=this._getPlaceholder();if(e!==this._previousPlaceholder){let r=this._elementRef.nativeElement;this._previousPlaceholder=e,e?r.setAttribute("placeholder",e):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){qL.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let e=this._elementRef.nativeElement,r=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&r&&r.label)}else return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}};t.\u0275fac=function(r){return new(r||t)(E(gt),E(Et),E(Ro,10),E(ii,8),E(s_,8),E(Xx),E(UL,10),E(GS),E(J),E(YS,8))},t.\u0275dir=rt({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(r,o){r&1&&dt("focus",function(){return o._focusChanged(!0)})("blur",function(){return o._focusChanged(!1)})("input",function(){return o._onInput()}),r&2&&(vs("id",o.id)("disabled",o.disabled)("required",o.required),Tt("name",o.name||null)("readonly",o.readonly&&!o._isNativeSelect||null)("aria-invalid",o.empty&&o.required?null:o.errorState)("aria-required",o.required)("id",o.id),xt("mat-input-server",o._isServer)("mat-mdc-form-field-textarea-control",o._isInFormField&&o._isTextarea)("mat-mdc-form-field-input-control",o._isInFormField)("mdc-text-field__input",o._isInFormField)("mat-mdc-native-select-inline",o._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[ht.None,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[Ce([{provide:QS,useExisting:t}]),Ze]});let n=t;return n})(),ZS=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=X({imports:[It,cd,cd,WS,It]});let n=t;return n})();var GL=0,JS="mat-badge-content",$m=new Set,WL=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=st({type:t,selectors:[["ng-component"]],standalone:!0,features:[St],decls:0,vars:0,template:function(r,o){},styles:[".mat-badge{position:relative}.mat-badge.mat-badge{overflow:visible}.mat-badge-content{position:absolute;text-align:center;display:inline-block;transition:transform 200ms ease-in-out;transform:scale(0.6);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;pointer-events:none;background-color:var(--mat-badge-background-color);color:var(--mat-badge-text-color);font-family:var(--mat-badge-text-font);font-weight:var(--mat-badge-text-weight);border-radius:var(--mat-badge-container-shape)}.cdk-high-contrast-active .mat-badge-content{outline:solid 1px;border-radius:0}.mat-badge-above .mat-badge-content{bottom:100%}.mat-badge-below .mat-badge-content{top:100%}.mat-badge-before .mat-badge-content{right:100%}[dir=rtl] .mat-badge-before .mat-badge-content{right:auto;left:100%}.mat-badge-after .mat-badge-content{left:100%}[dir=rtl] .mat-badge-after .mat-badge-content{left:auto;right:100%}.mat-badge-disabled .mat-badge-content{background-color:var(--mat-badge-disabled-state-background-color);color:var(--mat-badge-disabled-state-text-color)}.mat-badge-hidden .mat-badge-content{display:none}.ng-animate-disabled .mat-badge-content,.mat-badge-content._mat-animation-noopable{transition:none}.mat-badge-content.mat-badge-active{transform:none}.mat-badge-small .mat-badge-content{width:var(--mat-badge-legacy-small-size-container-size, unset);height:var(--mat-badge-legacy-small-size-container-size, unset);min-width:var(--mat-badge-small-size-container-size, unset);min-height:var(--mat-badge-small-size-container-size, unset);line-height:var(--mat-badge-legacy-small-size-container-size, var(--mat-badge-small-size-container-size));padding:var(--mat-badge-small-size-container-padding);font-size:var(--mat-badge-small-size-text-size);margin:var(--mat-badge-small-size-container-offset)}.mat-badge-small.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-small-size-container-overlap-offset)}.mat-badge-medium .mat-badge-content{width:var(--mat-badge-legacy-container-size, unset);height:var(--mat-badge-legacy-container-size, unset);min-width:var(--mat-badge-container-size, unset);min-height:var(--mat-badge-container-size, unset);line-height:var(--mat-badge-legacy-container-size, var(--mat-badge-container-size));padding:var(--mat-badge-container-padding);font-size:var(--mat-badge-text-size);margin:var(--mat-badge-container-offset)}.mat-badge-medium.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-container-overlap-offset)}.mat-badge-large .mat-badge-content{width:var(--mat-badge-legacy-large-size-container-size, unset);height:var(--mat-badge-legacy-large-size-container-size, unset);min-width:var(--mat-badge-large-size-container-size, unset);min-height:var(--mat-badge-large-size-container-size, unset);line-height:var(--mat-badge-legacy-large-size-container-size, var(--mat-badge-large-size-container-size));padding:var(--mat-badge-large-size-container-padding);font-size:var(--mat-badge-large-size-text-size);margin:var(--mat-badge-large-size-container-offset)}.mat-badge-large.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-large-size-container-overlap-offset)}"],encapsulation:2,changeDetection:0});let n=t;return n})(),t1=(()=>{let t=class t{get color(){return this._color}set color(e){this._setColor(e),this._color=e}get content(){return this._content}set content(e){this._updateRenderedContent(e)}get description(){return this._description}set description(e){this._updateDescription(e)}constructor(e,r,o,s,a){this._ngZone=e,this._elementRef=r,this._ariaDescriber=o,this._renderer=s,this._animationMode=a,this._color="primary",this.overlap=!0,this.position="above after",this.size="medium",this._id=GL++,this._isInitialized=!1,this._interactivityChecker=H(Io),this._document=H(mt);let l=H(uo);if(!$m.has(l)){$m.add(l);let d=Hy(WL,{environmentInjector:H(Mn)});l.onDestroy(()=>{$m.delete(l),$m.size===0&&d.destroy()})}}isAbove(){return this.position.indexOf("below")===-1}isAfter(){return this.position.indexOf("before")===-1}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&(this._renderer.destroyNode(this._badgeElement),this._inlineBadgeDescription?.remove()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_isHostInteractive(){return this._interactivityChecker.isFocusable(this._elementRef.nativeElement,{ignoreVisibility:!0})}_createBadgeElement(){let e=this._renderer.createElement("span"),r="mat-badge-active";return e.setAttribute("id",`mat-badge-content-${this._id}`),e.setAttribute("aria-hidden","true"),e.classList.add(JS),this._animationMode==="NoopAnimations"&&e.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(e),typeof requestAnimationFrame=="function"&&this._animationMode!=="NoopAnimations"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{e.classList.add(r)})}):e.classList.add(r),e}_updateRenderedContent(e){let r=`${e??""}`.trim();this._isInitialized&&r&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=r),this._content=r}_updateDescription(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),(!e||this._isHostInteractive())&&this._removeInlineDescription(),this._description=e,this._isHostInteractive()?this._ariaDescriber.describe(this._elementRef.nativeElement,e):this._updateInlineDescription()}_updateInlineDescription(){this._inlineBadgeDescription||(this._inlineBadgeDescription=this._document.createElement("span"),this._inlineBadgeDescription.classList.add("cdk-visually-hidden")),this._inlineBadgeDescription.textContent=this.description,this._badgeElement?.appendChild(this._inlineBadgeDescription)}_removeInlineDescription(){this._inlineBadgeDescription?.remove(),this._inlineBadgeDescription=void 0}_setColor(e){let r=this._elementRef.nativeElement.classList;r.remove(`mat-badge-${this._color}`),e&&r.add(`mat-badge-${e}`)}_clearExistingBadges(){let e=this._elementRef.nativeElement.querySelectorAll(`:scope > .${JS}`);for(let r of Array.from(e))r!==this._badgeElement&&r.remove()}};t.\u0275fac=function(r){return new(r||t)(E(J),E(gt),E(Vx),E(_s),E(ae,8))},t.\u0275dir=rt({type:t,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(r,o){r&2&&xt("mat-badge-overlap",o.overlap)("mat-badge-above",o.isAbove())("mat-badge-below",!o.isAbove())("mat-badge-before",!o.isAfter())("mat-badge-after",o.isAfter())("mat-badge-small",o.size==="small")("mat-badge-medium",o.size==="medium")("mat-badge-large",o.size==="large")("mat-badge-hidden",o.hidden||!o.content)("mat-badge-disabled",o.disabled)},inputs:{color:[ht.None,"matBadgeColor","color"],overlap:[ht.HasDecoratorInputTransform,"matBadgeOverlap","overlap",be],disabled:[ht.HasDecoratorInputTransform,"matBadgeDisabled","disabled",be],position:[ht.None,"matBadgePosition","position"],content:[ht.None,"matBadge","content"],description:[ht.None,"matBadgeDescription","description"],size:[ht.None,"matBadgeSize","size"],hidden:[ht.HasDecoratorInputTransform,"matBadgeHidden","hidden",be]},standalone:!0,features:[Ie]});let n=t;return n})(),e1=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=X({imports:[Au,It,It]});let n=t;return n})();var QL=["determinateSpinner"];function YL(n,t){if(n&1&&(Rd(),T(0,"svg",11),ot(1,"circle",12),A()),n&2){let i=bt();Tt("viewBox",i._viewBox()),z(),ao("stroke-dasharray",i._strokeCircumference(),"px")("stroke-dashoffset",i._strokeCircumference()/2,"px")("stroke-width",i._circleStrokeWidth(),"%"),Tt("r",i._circleRadius())}}var XL=new $("mat-progress-spinner-default-options",{providedIn:"root",factory:ZL});function ZL(){return{diameter:i1}}var i1=100,JL=10,n1=(()=>{let t=class t{get color(){return this._color||this._defaultColor}set color(e){this._color=e}constructor(e,r,o){this._elementRef=e,this._defaultColor="primary",this._value=0,this._diameter=i1,this._noopAnimations=r==="NoopAnimations"&&!!o&&!o._forceAnimations,this.mode=e.nativeElement.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",o&&(o.color&&(this.color=this._defaultColor=o.color),o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth))}get value(){return this.mode==="determinate"?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,e||0))}get diameter(){return this._diameter}set diameter(e){this._diameter=e||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=e||0}_circleRadius(){return(this.diameter-JL)/2}_viewBox(){let e=this._circleRadius()*2+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}};t.\u0275fac=function(r){return new(r||t)(E(gt),E(ae,8),E(XL))},t.\u0275cmp=st({type:t,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(r,o){if(r&1&&ci(QL,5),r&2){let s;ce(s=le())&&(o._determinateCircle=s.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(r,o){r&2&&(Tt("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",o.mode==="determinate"?o.value:null)("mode",o.mode),rn("mat-"+o.color),ao("width",o.diameter,"px")("height",o.diameter,"px")("--mdc-circular-progress-size",o.diameter+"px")("--mdc-circular-progress-active-indicator-width",o.diameter+"px"),xt("_mat-animation-noopable",o._noopAnimations)("mdc-circular-progress--indeterminate",o.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[ht.HasDecoratorInputTransform,"value","value",xs],diameter:[ht.HasDecoratorInputTransform,"diameter","diameter",xs],strokeWidth:[ht.HasDecoratorInputTransform,"strokeWidth","strokeWidth",xs]},exportAs:["matProgressSpinner"],standalone:!0,features:[Ie,St],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(r,o){if(r&1&&(Ct(0,YL,2,8,"ng-template",null,0,Nd),T(2,"div",2,1),Rd(),T(4,"svg",3),ot(5,"circle",4),A()(),Sf(),T(6,"div",5)(7,"div",6)(8,"div",7),bs(9,8),A(),T(10,"div",9),bs(11,8),A(),T(12,"div",10),bs(13,8),A()()()),r&2){let s=Od(1);z(4),Tt("viewBox",o._viewBox()),z(),ao("stroke-dasharray",o._strokeCircumference(),"px")("stroke-dashoffset",o._strokeDashOffset(),"px")("stroke-width",o._circleStrokeWidth(),"%"),Tt("r",o._circleRadius()),z(4),ct("ngTemplateOutlet",s),z(2),ct("ngTemplateOutlet",s),z(2),ct("ngTemplateOutlet",s)}},dependencies:[qd],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0});let n=t;return n})();var r1=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=X({imports:[on,It]});let n=t;return n})();var o1=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=st({type:t,selectors:[["app-loader"]],decls:2,vars:0,consts:[[1,"overlay"],["mode","indeterminate",1,"custom-spinner"]],template:function(r,o){r&1&&(T(0,"div",0),ot(1,"mat-progress-spinner",1),A())},dependencies:[n1],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center}"]});let n=t;return n})();function iV(n,t){n&1&&ot(0,"app-loader")}function nV(n,t){if(n&1){let i=Ae();T(0,"div",9)(1,"mat-icon",10),V(2," search "),A(),T(3,"input",11),te("ngModelChange",function(r){oe(i);let o=bt();return Jt(o.searchQuery,r)||(o.searchQuery=r),se(r)}),dt("input",function(){oe(i);let r=bt();return se(r.searchProducts())}),A()()}if(n&2){let i=bt();z(3),Zt("ngModel",i.searchQuery)}}function rV(n,t){if(n&1){let i=Ae();T(0,"div",12)(1,"mat-icon",10),V(2," search "),A(),T(3,"input",11),te("ngModelChange",function(r){oe(i);let o=bt();return Jt(o.searchQuery,r)||(o.searchQuery=r),se(r)}),dt("input",function(){oe(i);let r=bt();return se(r.searchProducts())}),A()()}if(n&2){let i=bt();z(3),Zt("ngModel",i.searchQuery)}}function oV(n,t){if(n&1){let i=Ae();T(0,"mat-card",13)(1,"img",14),dt("click",function(){let r=oe(i).$implicit,o=bt();return se(o.openProduct(r))}),A(),T(2,"div",15)(3,"mat-card-header")(4,"mat-card-subtitle"),V(5),A(),T(6,"mat-card-subtitle"),V(7),A()(),T(8,"mat-card-actions")(9,"button",3),dt("click",function(){let r=oe(i).$implicit,o=bt();return se(o.editProduct(r))}),T(10,"mat-icon"),V(11,"edit"),A()(),T(12,"button",3),dt("click",function(){let r=oe(i).$implicit,o=bt();return se(o.deleteProduct(r.id,r.imageUrl))}),T(13,"mat-icon"),V(14,"delete"),A()()()(),ot(15,"mat-card-content"),A()}if(n&2){let i=t.$implicit;z(),ct("src",i.imageUrl,ai)("alt",i.name),z(4),li(i.name),z(2),de("\u20B9 ",i.price,"")}}var s1=(()=>{let t=class t{constructor(e,r,o,s,a,l,d,h,f,g){this.dialog=e,this.dataService=r,this.auth=o,this.fireStorage=s,this.firestore=a,this.router=l,this._snackBar=d,this.loaderService=h,this.messaging=f,this.mediaQueryService=g,this.searchQuery="",this.filteredProducts=[],this.productId="",this.productName="",this.productDesc="",this.imageUrl=null,this.products=[],this.selectedFile=null,this.cartLength=0,this.orderLength=0,this.isLoading=!1,this.fetchOrders(),this.email=localStorage.getItem("email"),console.log("user : ",this.email)}ngOnInit(){this.email=localStorage.getItem("email"),this.password=localStorage.getItem("password"),console.log("email : ",this.email),console.log("password : ",this.password),this.isLoading=this.loaderService.show(),this.firestore.collection("products").valueChanges().subscribe(e=>{this.products=e,this.filteredProducts=[...e],this.isLoading=this.loaderService.hide()}),this.mediaQueryService.isMobile$.subscribe(e=>{this.isMobile=e})}playAudio(){new Audio("/assets/notification.mp3").play(),console.log("audio played")}openProduct(e){this.dataService.setData(e),this.router.navigate(["product"])}logout(){this.auth.logout()}addProduct(){this.router.navigate(["add-product"])}editProduct(e){let r=new wi;r.position={top:"250px"},r.data={message:"Are you sure you want to update this product?"},this.dialog.open(To,r).afterClosed().subscribe(s=>{s&&(this.dataService.setEditableData(e),this.router.navigate(["edit-product"]))})}deleteProduct(e,r){console.log("productId : ",e);let o=new wi;o.position={top:"250px"},o.data={message:"Are you sure you want to delete this product?"},this.dialog.open(To,o).afterClosed().subscribe(a=>{a&&(console.log(this.firestore.collection("products").doc(e)),this.firestore.collection("products").doc(e).delete().then(()=>{console.log("Product deleted successfully"),this.openSnackBar("Product Deleted Successfully ","Close")}).catch(l=>{console.error("Error deleting product:",l),this.openSnackBar("Error deleting product: "+l,"Close")}),this.fireStorage.refFromURL(r).delete().pipe(Rn(()=>console.log("Image deleted successfully"))).subscribe({next:()=>console.log("Image deletion completed"),error:l=>console.error("Error deleting image:",l)}))})}openSnackBar(e,r){this._snackBar.open(e,r,{duration:2e3})}searchProducts(){this.filteredProducts=this.products.filter(e=>this.matchesSearchCriteria(e))}matchesSearchCriteria(e){let r=this.searchQuery.toLowerCase();return Object.values(e).some(o=>o.toString().toLowerCase().includes(r))}openProfile(){let e=new wi;e.position={top:"50px",right:"50px"};let r=this.dialog.open(ok,e)}fetchOrders(){this.dataService.getAllOrders().subscribe(e=>{let r=e.length;console.log("Orders:",e),console.log("all orders length : ",e.length);for(let o of e)o.product.product.isOrderCancled&&r--,o.product.product.dateOfOrderDelivered&&r--;this.orderLength=r,console.log("pending orders length : ",r),this.playAudio()},e=>{console.error("Error fetching orders:",e)})}myOrders(){this.router.navigate(["orders"])}};t.\u0275fac=function(r){return new(r||t)(E(xi),E(Cn),E(Mi),E(Ii),E(kn),E(ee),E(Qr),E(za),E(BS),E(Vm))},t.\u0275cmp=st({type:t,selectors:[["app-home"]],decls:21,vars:5,consts:[[4,"ngIf"],[1,"example-spacer"],["class","search-box",4,"ngIf"],["mat-icon-button","",3,"click"],["matBadgeSize","small","matBadgeOverlap","true","matBadgePosition","after",3,"matBadge"],[1,"scrollablePart"],["class","search-box1",4,"ngIf"],[1,"productCard"],["class","example-card",4,"ngFor","ngForOf"],[1,"search-box"],["matPrefix","",1,"searchIcon"],["matInput","","type","text","placeholder","Search products...",3,"ngModelChange","input","ngModel"],[1,"search-box1"],[1,"example-card"],["mat-card-image","","height","300px",3,"click","src","alt"],[2,"display","flex","flex-direction","row","justify-content","space-between"]],template:function(r,o){r&1&&(Ct(0,iV,1,0,"app-loader",0),T(1,"mat-toolbar")(2,"span"),V(3,"The Kala Mart"),A(),ot(4,"span",1),T(5,"div"),Ct(6,nV,4,1,"div",2),T(7,"button",3),dt("click",function(){return o.myOrders()}),T(8,"mat-icon",4),V(9," shopping_bag "),A()(),T(10,"button",3),dt("click",function(){return o.addProduct()}),T(11,"mat-icon"),V(12,"library_add"),A()(),T(13,"button",3),dt("click",function(){return o.openProfile()}),T(14,"mat-icon"),V(15,"account_circle"),A()()()(),T(16,"div",5),Ct(17,rV,4,1,"div",6),T(18,"div",7),Ct(19,oV,16,4,"mat-card",8),A()(),ot(20,"router-outlet")),r&2&&(ct("ngIf",o.isLoading),z(6),ct("ngIf",o.filteredProducts&&!o.isMobile),z(2),lo("matBadge",o.orderLength),z(9),ct("ngIf",o.filteredProducts&&o.isMobile),z(2),ct("ngForOf",o.filteredProducts))},dependencies:[Ud,Di,Bc,Tn,dn,Ua,jm,$a,Yr,Bm,Ha,Ni,XS,KS,mi,Pi,ki,t1,o1],styles:[".example-card[_ngcontent-%COMP%]{width:calc(100% - 25px);margin:10px;border:1px solid #ccc}.productCard[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start}.scrollablePart[_ngcontent-%COMP%]{margin-top:80px;overflow-y:auto}.mat-toolbar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:1000;background-color:#fff;border-bottom:1px solid #ccc;padding:10px}[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#888;border-radius:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#eee}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.search-box[_ngcontent-%COMP%]{height:35px;bottom:10px;display:inline-flex;background:#fff 0% 0% no-repeat padding-box;box-shadow:2px 2px 9px #430bd938;border-radius:10px;opacity:1;margin:10px 20px 10px 10px}.search-box1[_ngcontent-%COMP%]{width:94%;height:35px;bottom:10px;display:inline-flex;background:#fff 0% 0% no-repeat padding-box;border-radius:7px;opacity:1;border:1px solid rgba(128,128,128,.301);margin-left:3%;margin-right:3%;margin-bottom:5px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .search-box1[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:transparent;outline:transparent}.searchIcon[_ngcontent-%COMP%]{padding-top:5px;padding-left:5px;color:#62606c;margin-right:5px}.addProduct[_ngcontent-%COMP%]{margin:10px 20px 10px 10px}.edit[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{width:47%}@media (min-width: 330px){.example-card[_ngcontent-%COMP%]{width:calc(100% - 25px)}.img[_ngcontent-%COMP%]{height:330px}}@media (min-width: 400px){.example-card[_ngcontent-%COMP%]{width:calc(50% - 20px)}.img[_ngcontent-%COMP%]{height:250px}}@media (min-width: 600px){.example-card[_ngcontent-%COMP%]{width:calc(33.33% - 20px)}.img[_ngcontent-%COMP%]{height:270px}}@media (min-width: 800px){.example-card[_ngcontent-%COMP%]{width:calc(33.33% - 20px)}.img[_ngcontent-%COMP%]{height:300px}}@media (min-width: 900px){.example-card[_ngcontent-%COMP%]{width:calc(25% - 20px)}.img[_ngcontent-%COMP%]{height:270px}}@media (min-width: 1000px){.example-card[_ngcontent-%COMP%]{width:calc(25% - 20px)}.img[_ngcontent-%COMP%]{height:300px}}@media (min-width: 1200px){.example-card[_ngcontent-%COMP%]{width:calc(20% - 25px)}.img[_ngcontent-%COMP%]{height:300px}}"]});let n=t;return n})();var ld=()=>({standalone:!0});function sV(n,t){if(n&1){let i=Ae();T(0,"div",5),ot(1,"img",14),T(2,"button",15),dt("click",function(){oe(i);let r=bt();return se(r.deleteImage())}),T(3,"mat-icon"),V(4,"delete_outline"),A()()()}if(n&2){let i=bt();z(),ct("src",i.imagePreview,ai)}}var a1=(()=>{let t=class t{constructor(e,r,o,s,a,l){this.fireStorage=e,this.firestore=r,this._snackBar=o,this.router=s,this.loaderService=a,this.dialog=l,this.productName="",this.productDesc="",this.imageUrl=null,this.imagePreview="",this.selectedFile=null,this.productVideoLink="",this.isLoading=!1}ngOnInit(){}submitForm(){return R(this,null,function*(){try{let e=this.imageUrl,r=`productImages/${e?.name}`,o=yield this.fireStorage.upload(r,e);this.fireStorage.ref(r).getDownloadURL().subscribe(a=>R(this,null,function*(){let l=a.toString(),d=yield this.firestore.collection("products").add({name:this.productName,price:this.price,imageUrl:l,desc:this.productDesc,productVideoLink:this.productVideoLink}),h=d.id;yield d.update({id:h}),this.openSnackBar("Product Added Successfully ","Close"),this.resetForm()}))}catch(e){console.error("Error submitting form:",e),this.openSnackBar("Error submitting form: "+e,"Close")}this.routeToHome()})}onFileSelected(e){let r=e.target.files[0];if(r){this.imageUrl=r;let o=new FileReader;o.onload=s=>{this.imagePreview=s.target.result},o.readAsDataURL(r)}}deleteImage(){this.imageUrl=null,this.imagePreview=null}openSnackBar(e,r){this._snackBar.open(e,r,{duration:2e3})}routeToHome(){this.router.navigate(["dashboard"])}isValid(){return!!(this.productName&&this.productDesc&&this.price&&this.imageUrl)}resetForm(){this.productName="",this.productDesc="",this.price=void 0,this.imageUrl=null,this.imagePreview=null,this.productVideoLink=""}};t.\u0275fac=function(r){return new(r||t)(E(Ii),E(kn),E(Qr),E(ee),E(za),E(xi))},t.\u0275cmp=st({type:t,selectors:[["app-add"]],decls:27,vars:17,consts:[[1,"example-spacer"],["mat-icon-button","",2,"color","black",3,"click"],[1,"card","shadow","scrollablePart"],[1,"card-body"],[3,"ngSubmit"],[1,"mb-3"],["type","text","placeholder","Product Name","required","",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],["type","number","placeholder","Price","required","",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],["type","file","placeholder","Image","required","",1,"form-control",3,"ngModelChange","change","ngModel","ngModelOptions"],["class","mb-3",4,"ngIf"],["placeholder","Product description","required","",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],["type","text","placeholder","Product video link",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],[1,"text-center"],["type","submit",1,"btn","btn-info",3,"disabled"],["alt","Image Preview",2,"max-width","200px","max-height","200px",3,"src"],["mat-icon-button","",3,"click"]],template:function(r,o){r&1&&(T(0,"mat-toolbar")(1,"span"),V(2,"Add Product"),A(),ot(3,"span",0),T(4,"button",1),dt("click",function(){return o.routeToHome()}),T(5,"mat-icon"),V(6,"home"),A()()(),ot(7,"mat-divider"),T(8,"div",2)(9,"div",3)(10,"form",4),dt("ngSubmit",function(){return o.submitForm()}),T(11,"div",5)(12,"input",6),te("ngModelChange",function(a){return Jt(o.productName,a)||(o.productName=a),a}),A()(),T(13,"div",5)(14,"input",7),te("ngModelChange",function(a){return Jt(o.price,a)||(o.price=a),a}),A()(),T(15,"div",5)(16,"mat-label"),V(17,"Upload Image"),A(),T(18,"input",8),te("ngModelChange",function(a){return Jt(o.imageUrl,a)||(o.imageUrl=a),a}),dt("change",function(a){return o.onFileSelected(a)}),A()(),Ct(19,sV,5,1,"div",9),T(20,"div",5)(21,"textarea",10),te("ngModelChange",function(a){return Jt(o.productDesc,a)||(o.productDesc=a),a}),A()(),T(22,"div",5)(23,"input",11),te("ngModelChange",function(a){return Jt(o.productVideoLink,a)||(o.productVideoLink=a),a}),A()(),T(24,"div",12)(25,"button",13),V(26,"Submit"),A()()()()()),r&2&&(z(12),Zt("ngModel",o.productName),ct("ngModelOptions",di(12,ld)),z(2),Zt("ngModel",o.price),ct("ngModelOptions",di(13,ld)),z(4),Zt("ngModel",o.imageUrl),ct("ngModelOptions",di(14,ld)),z(),ct("ngIf",o.imageUrl),z(2),Zt("ngModel",o.productDesc),ct("ngModelOptions",di(15,ld)),z(2),Zt("ngModel",o.productVideoLink),ct("ngModelOptions",di(16,ld)),z(2),ct("disabled",!o.isValid()))},dependencies:[Di,Tn,dn,Ni,qm,Fi,mi,ml,Pi,Oi,fl,ki,ii,Sr],styles:[".example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-divider[_ngcontent-%COMP%]{margin:10px}.scrollablePart[_ngcontent-%COMP%]{overflow-y:auto;width:60%;margin:80px auto}@media (max-width: 768px){.scrollablePart[_ngcontent-%COMP%]{width:90%;margin:80px auto}}.mat-toolbar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:1000;background-color:#fff;border-bottom:1px solid #ccc;padding:10px}.text-center[_ngcontent-%COMP%]{display:flex;justify-content:center}"]});let n=t;return n})();var c1=()=>({standalone:!0});function aV(n,t){if(n&1){let i=Ae();T(0,"div"),ot(1,"img",14),T(2,"button",15),dt("click",function(){oe(i);let r=bt();return se(r.deleteImage())}),T(3,"mat-icon"),V(4,"delete_outline"),A()()()}if(n&2){let i=bt();z(),ct("src",i.urlString,ai)}}var l1=(()=>{let t=class t{constructor(e,r,o,s,a,l){this.fireStorage=e,this.firestore=r,this._snackBar=o,this.dataService=s,this.router=a,this.loaderService=l,this.productName="",this.productDesc="",this.urlString="",this.imageUrl=null,this.productVideoLink="",this.imageUpdated=!1,this.isLoading=!1,this.data=this.dataService.getEditableData(),console.log("data : ",this.data),this.productName=this.data.name,this.productDesc=this.data.desc,this.price=this.data.price,this.urlString=this.data.imageUrl,this.id=this.data.id,this.productVideoLink=this.data.productVideoLink}submitForm(){return R(this,null,function*(){try{if(!this.imageUpdated)yield this.firestore.collection("products").doc(this.id).update({name:this.productName,desc:this.productDesc,price:this.price,imageUrl:this.urlString,id:this.id,productVideoLink:this.productVideoLink}),this.openSnackBar("Product Updated Successfully","Close"),this.resetForm();else if(this.imageUrl){let e=this.imageUrl,r=`productImages/${e.name}`,o=yield this.fireStorage.upload(r,e);this.fireStorage.ref(r).getDownloadURL().subscribe(a=>R(this,null,function*(){let l=a.toString();yield this.firestore.collection("products").doc(this.id).update({name:this.productName,desc:this.productDesc,price:this.price,imageUrl:l,id:this.id,productVideoLink:this.productVideoLink}),this.openSnackBar("Product Updated Successfully","Close"),this.resetForm(),this.imageUpdated=!1}))}}catch(e){console.error("Error submitting form:",e),this.openSnackBar("Error submitting form: "+e,"Close")}this.routeToHome()})}onFileSelected(e){this.imageUrl=e.target.files[0],this.imageUpdated=!0;let r=new FileReader;r.onload=o=>{this.urlString=o.target.result},r.readAsDataURL(this.imageUrl)}deleteImage(){this.imageUrl=null,this.urlString="",this.imageUpdated=!0}openSnackBar(e,r){this._snackBar.open(e,r,{duration:2e3})}routeToHome(){this.router.navigate(["dashboard"])}isValid(){return!!(this.productName&&this.productDesc&&this.price&&this.urlString)}resetForm(){this.productName="",this.productDesc="",this.price=void 0,this.imageUrl=null,this.urlString="",this.productVideoLink=""}};t.\u0275fac=function(r){return new(r||t)(E(Ii),E(kn),E(Qr),E(Cn),E(ee),E(za))},t.\u0275cmp=st({type:t,selectors:[["app-edit"]],decls:25,vars:11,consts:[[1,"example-spacer"],["mat-icon-button","",2,"color","black",3,"click"],[1,"card","shadow","scrollablePart"],[1,"card-body"],[3,"ngSubmit"],[1,"mb-3"],["type","text","placeholder","Product Name","name","productName","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","number","placeholder","Price","name","price","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","file","placeholder","File","required","",1,"form-control",3,"ngModelChange","change","ngModel","ngModelOptions"],[4,"ngIf"],["placeholder","Product description","name","productDesc","required","",1,"form-control",3,"ngModelChange","ngModel","ngModelOptions"],["type","text","placeholder","Product video link","name","productVideoLink","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-center"],["type","submit",1,"btn","btn-info",3,"disabled"],["alt","Product Image",1,"img-thumbnail",2,"max-width","200px","max-height","200px",3,"src"],["mat-icon-button","",3,"click"]],template:function(r,o){r&1&&(T(0,"mat-toolbar")(1,"span"),V(2,"Edit Product"),A(),ot(3,"span",0),T(4,"button",1),dt("click",function(){return o.routeToHome()}),T(5,"mat-icon"),V(6,"home"),A()()(),ot(7,"mat-divider"),T(8,"div",2)(9,"div",3)(10,"form",4),dt("ngSubmit",function(){return o.submitForm()}),T(11,"div",5)(12,"input",6),te("ngModelChange",function(a){return Jt(o.productName,a)||(o.productName=a),a}),A()(),T(13,"div",5)(14,"input",7),te("ngModelChange",function(a){return Jt(o.price,a)||(o.price=a),a}),A()(),T(15,"div",5)(16,"input",8),te("ngModelChange",function(a){return Jt(o.imageUrl,a)||(o.imageUrl=a),a}),dt("change",function(a){return o.onFileSelected(a)}),A()(),Ct(17,aV,5,1,"div",9),T(18,"div",5)(19,"textarea",10),te("ngModelChange",function(a){return Jt(o.productDesc,a)||(o.productDesc=a),a}),A()(),T(20,"div",5)(21,"input",11),te("ngModelChange",function(a){return Jt(o.productVideoLink,a)||(o.productVideoLink=a),a}),A()(),T(22,"div",12)(23,"button",13),V(24,"Submit"),A()()()()()),r&2&&(z(12),Zt("ngModel",o.productName),z(2),Zt("ngModel",o.price),z(2),Zt("ngModel",o.imageUrl),ct("ngModelOptions",di(9,c1)),z(),ct("ngIf",o.urlString),z(2),Zt("ngModel",o.productDesc),ct("ngModelOptions",di(10,c1)),z(2),Zt("ngModel",o.productVideoLink),z(2),ct("disabled",!o.isValid()))},dependencies:[Di,Tn,dn,Ni,Fi,mi,ml,Pi,Oi,fl,ki,ii,Sr],styles:[".example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-divider[_ngcontent-%COMP%]{margin:10px}.scrollablePart[_ngcontent-%COMP%]{margin-top:80px;overflow-y:auto;width:60%;margin-left:20%;margin-right:20%}@media (max-width: 768px){.scrollablePart[_ngcontent-%COMP%]{width:90%;margin-left:5%;margin-right:5%}}.mat-toolbar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:1000;background-color:#fff;border-bottom:1px solid #ccc;padding:10px}.text-center[_ngcontent-%COMP%]{display:flex;justify-content:center}"]});let n=t;return n})();var d1=(()=>{let t=class t{transform(e){return e&&e.replace(/\n/g,"<br>")}};t.\u0275fac=function(r){return new(r||t)},t.\u0275pipe=Tf({name:"newlineToBr",type:t,pure:!0});let n=t;return n})();function lV(n,t){n&1&&(T(0,"p",9),V(1,"Product video link : "),A())}function dV(n,t){if(n&1&&(T(0,"div",11)(1,"mat-card-content")(2,"mat-card-title",12),V(3,"Product Details"),A(),ot(4,"p",13),ys(5,"newlineToBr"),Ct(6,lV,2,0,"p",14),T(7,"a",15),V(8),A()()()),n&2){let i=bt();z(4),ct("innerHTML",Vy(5,5,i.data.desc),Ry),z(2),ct("ngIf",i.data.productVideoLink),z(),ct("href",i.data.productVideoLink,ai),Tt("target","_blank"),z(),li(i.data.productVideoLink)}}var u1=(()=>{let t=class t{constructor(e,r,o,s,a){this.dataService=e,this.fireStorage=r,this.firestore=o,this._snackBar=s,this.router=a,this.data=this.dataService.getData()}openSnackBar(e,r){this._snackBar.open(e,r,{duration:2e3})}isYouTubeLink(e){return e.includes("youtube.com")||e.includes("youtu.be")}getYouTubeLink(e){if(this.isYouTubeLink(e)){if(e.includes("youtube.com"))return e.replace("https://www.youtube.com","vnd.youtube");if(e.includes("youtu.be"))return e.replace("https://youtu.be","vnd.youtube")}return e}getLinkTarget(e){return this.isYouTubeLink(e)?"_self":"_blank"}};t.\u0275fac=function(r){return new(r||t)(E(Cn),E(Ii),E(kn),E(Qr),E(ee))},t.\u0275cmp=st({type:t,selectors:[["app-product"]],decls:16,vars:4,consts:[[1,"parent"],[1,"container"],[1,"example-card1","col-12","col-md-6"],["mat-card-image","","alt","data.name",1,"img",3,"src"],[2,"margin-top","10px"],[1,"example-card2","col-12","col-md-6"],[1,"title"],[1,"name"],[1,"price"],[1,"desc"],["class","details",4,"ngIf"],[1,"details"],[1,"detailTitle"],[1,"desc",3,"innerHTML"],["class","desc",4,"ngIf"],[3,"href"]],template:function(r,o){r&1&&(T(0,"div",0)(1,"div",1)(2,"div",2),ot(3,"img",3)(4,"br")(5,"div",4),A(),T(6,"div",5)(7,"div",6)(8,"mat-card-header")(9,"mat-card-title",7),V(10),A(),T(11,"p",8),V(12),A(),T(13,"p",9),V(14," shipping charges will be added "),A()()(),Ct(15,dV,9,7,"div",10),A()()()),r&2&&(z(3),ct("src",o.data.imageUrl,ai),z(7),de("",o.data.name," "),z(2),de("\u20B9 ",o.data.price," "),z(3),ct("ngIf",o.data.desc))},dependencies:[Di,$a,Yr,Bm,qa,d1],styles:[".example-card1[_ngcontent-%COMP%], .example-card2[_ngcontent-%COMP%]{max-width:100%;margin:10px;flex:1 1 50%}.container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin-top:20px;box-sizing:border-box}.parent[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;scrollbar-width:thin;width:100%}.img[_ngcontent-%COMP%]{width:100%;height:auto}.addTocart[_ngcontent-%COMP%]{width:46%;color:purple;border-color:purple;background-color:#fff;white-space:nowrap;margin-left:2%;margin-right:2%}.buy[_ngcontent-%COMP%]{width:46%;background-color:purple;color:#fff;margin-left:2%;margin-right:2%}.actions[_ngcontent-%COMP%]{margin-top:10px}.act[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;flex-wrap:wrap}.title[_ngcontent-%COMP%], .details[_ngcontent-%COMP%]{border:2px solid rgba(128,128,128,.064);border-radius:5px;padding:5px;margin:5px}.name[_ngcontent-%COMP%]{color:gray;font-size:18px;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}.price[_ngcontent-%COMP%]{font-size:19px;color:#464141}.detailTitle[_ngcontent-%COMP%]{font-size:20px}.desc[_ngcontent-%COMP%]{color:gray;font-size:18px;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif}@media (min-width: 576px) and (max-width: 767px){.example-card1[_ngcontent-%COMP%], .example-card2[_ngcontent-%COMP%]{flex:1 1 100%}.container[_ngcontent-%COMP%]{margin:20px}}@media (min-width: 768px) and (max-width: 1024px){.example-card1[_ngcontent-%COMP%], .example-card2[_ngcontent-%COMP%]{flex:1 1 48%}.container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin:20px;width:70%}.parent[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}}@media (min-width: 1025px){.example-card1[_ngcontent-%COMP%], .example-card2[_ngcontent-%COMP%]{flex:1 1 30%}.container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;margin:20px;width:70%}.parent[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}}"]});let n=t;return n})();function uV(n,t){if(n&1&&(T(0,"div",9)(1,"mat-label",12),V(2,"Order Cancelled"),A(),T(3,"mat-card-subtitle"),V(4),ys(5,"date"),A()()),n&2){let i=bt();z(4),li(Fd(5,1,i.data.product.product.dateOfOrderCancled,"medium"))}}function hV(n,t){if(n&1&&(T(0,"div",9)(1,"mat-label",13),V(2,"Order Delivered"),A(),T(3,"mat-card-subtitle"),V(4),ys(5,"date"),A()()),n&2){let i=bt();z(4),li(Fd(5,1,i.data.product.product.dateOfOrderDelivered,"medium"))}}var h1=(()=>{let t=class t{constructor(e,r){this.dataService=e,this.router=r,this.displayedColumns=["name","price","quantity","totalPrice"],this.priceData=[],this.data=this.dataService.getOrderData(),console.log("data : ",this.data),this.priceData.push(this.data.product.product),console.log("priceData : ",this.priceData)}openProduct(e){this.dataService.setData(e),this.router.navigate(["product"])}routeToHome(){this.router.navigate(["dashboard"])}};t.\u0275fac=function(r){return new(r||t)(E(Cn),E(ee))},t.\u0275cmp=st({type:t,selectors:[["app-order-details"]],decls:55,vars:15,consts:[[1,"example-spacer"],["mat-icon-button","",1,"home",3,"click"],[1,"scrollablePart"],["appearance","outlined",1,"example-card"],[1,"desc1"],[1,"img"],["mat-card-lg-image","",3,"click","src","alt"],[1,"desc2"],[1,"divider1"],[1,"margin"],[1,"divider2"],["class","margin",4,"ngIf"],[1,"Cancelled"],[1,"Delivered"]],template:function(r,o){r&1&&(T(0,"mat-toolbar")(1,"span"),V(2,"Order Details"),A(),ot(3,"span",0),T(4,"button",1),dt("click",function(){return o.routeToHome()}),T(5,"mat-icon"),V(6,"home"),A()()(),T(7,"div",2)(8,"mat-card",3)(9,"mat-card-header")(10,"div",4)(11,"div",5)(12,"img",6),dt("click",function(){return o.openProduct(o.data.product.product)}),A()(),T(13,"div",7)(14,"mat-card-title"),V(15),A(),T(16,"mat-card-subtitle"),V(17),A()()()(),ot(18,"mat-divider",8),T(19,"mat-card-content")(20,"div")(21,"div",9)(22,"mat-card-subtitle"),V(23),A()(),T(24,"div",9)(25,"mat-card-subtitle"),V(26),A()()(),ot(27,"mat-divider",10),T(28,"div")(29,"mat-card-title"),V(30,"Order Tracking"),A(),T(31,"div",9)(32,"mat-label"),V(33,"Order Placed"),A(),T(34,"mat-card-subtitle"),V(35),ys(36,"date"),A()(),Ct(37,uV,6,4,"div",11)(38,hV,6,4,"div",11),A(),ot(39,"mat-divider",10),T(40,"div",9)(41,"mat-card-title"),V(42,"Order Details"),A(),T(43,"mat-label"),V(44),A(),ot(45,"br"),T(46,"mat-label"),V(47),A()(),ot(48,"mat-divider",10),T(49,"div",9)(50,"mat-card-title"),V(51,"Delivery Address"),A(),T(52,"mat-label"),V(53),A(),ot(54,"br"),A()()()()),r&2&&(z(12),lo("alt",o.data.product.product.name),ct("src",o.data.product.product.imageUrl,ai),z(3),li(o.data.product.product.name),z(2),de("\u20B9",o.data.product.product.price,""),z(6),de("Order Id : ",o.data.orderId,""),z(3),de("User Id : ",o.data.docId,""),z(9),li(Fd(36,12,o.data.dateOfOrdered,"medium")),z(2),ct("ngIf",o.data.product.product.isOrderCancled),z(),ct("ngIf",o.data.product.product.dateOfOrderDelivered),z(6),de("Price Details (Qty : ",o.data.product.quantity,")"),z(3),de("Order Total : \u20B9",o.data.product.orderTotal,""),z(6),de(" ",o.data.shippingAddress,""))},dependencies:[Di,Tn,dn,Ua,$a,Yr,zm,Ha,qa,Ni,qm,Sr,tw],styles:[".example-card[_ngcontent-%COMP%]{margin-bottom:8px;width:60%;margin-left:20%;margin-right:20%;border:transparent}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.scrollablePart[_ngcontent-%COMP%]{margin-top:80px;overflow-y:auto;overflow-x:hidden}.mat-toolbar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:1000;background-color:#fff;border-bottom:1px solid #ccc;padding:10px}.home[_ngcontent-%COMP%]{color:#000}.desc1[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.img[_ngcontent-%COMP%], .desc2[_ngcontent-%COMP%], .divider1[_ngcontent-%COMP%]{margin:10px}.divider2[_ngcontent-%COMP%]{margin:10px 0}.margin[_ngcontent-%COMP%]{margin:10px}.Cancelled[_ngcontent-%COMP%]{color:red}.Delivered[_ngcontent-%COMP%]{color:green}@media (min-width: 300px) and (max-width: 600px){.example-card[_ngcontent-%COMP%]{margin-bottom:8px;width:98%;margin-left:1%;margin-right:1%;border:transparent}}"]});let n=t;return n})();var m1=()=>({color:"red","background-color":"transparent"}),f1=()=>({color:"green","background-color":"transparent"});function mV(n,t){n&1&&(T(0,"div",5)(1,"h1"),V(2,"No orders found "),A()())}function fV(n,t){if(n&1&&ot(0,"img",13),n&2){let i=bt().$implicit;lo("alt",i.product.product.name),ct("src",i.product.product.imageUrl,ai)}}function pV(n,t){if(n&1&&ot(0,"img",14),n&2){let i=bt().$implicit;lo("alt",i.product.product.name),ct("src",i.product.product.imageUrl,ai)}}function gV(n,t){if(n&1){let i=Ae();T(0,"button",17),dt("click",function(){oe(i);let r=bt(2).$implicit,o=bt();return se(o.deliverOrder(r.orderId,r.docId))}),V(1,"Deliver Order"),A()}}function _V(n,t){n&1&&(T(0,"button",18),V(1,"Order Cancelled "),A()),n&2&&ct("ngStyle",di(1,m1))}function bV(n,t){n&1&&(T(0,"button",18),V(1,"Order Delivered"),A()),n&2&&ct("ngStyle",di(1,f1))}function vV(n,t){if(n&1){let i=Ae();T(0,"mat-card-actions"),Ct(1,gV,2,0,"button",15)(2,_V,2,2,"button",16)(3,bV,2,2,"button",16),T(4,"button",17),dt("click",function(){oe(i);let r=bt().$implicit,o=bt();return se(o.viewOrder(r))}),V(5,"View Order Details"),A()()}if(n&2){let i=bt().$implicit;z(),ct("ngIf",!i.product.product.dateOfOrderDelivered&&!i.product.product.isOrderCancled),z(),ct("ngIf",i.product.product.isOrderCancled),z(),ct("ngIf",i.product.product.dateOfOrderDelivered)}}function yV(n,t){if(n&1){let i=Ae();T(0,"button",17),dt("click",function(){oe(i);let r=bt(2).$implicit,o=bt();return se(o.deliverOrder(r.orderId,r.docId))}),V(1,"Deliver Order"),A()}}function wV(n,t){n&1&&(T(0,"button",18),V(1,"Order Cancelled "),A()),n&2&&ct("ngStyle",di(1,m1))}function xV(n,t){n&1&&(T(0,"button",18),V(1,"Order Delivered"),A()),n&2&&ct("ngStyle",di(1,f1))}function EV(n,t){if(n&1){let i=Ae();T(0,"mat-card-actions"),Ct(1,yV,2,0,"button",15)(2,wV,2,2,"button",16)(3,xV,2,2,"button",16),T(4,"button",17),dt("click",function(){oe(i);let r=bt().$implicit,o=bt();return se(o.viewOrder(r))}),V(5,"View Order Details"),A()()}if(n&2){let i=bt().$implicit;z(),ct("ngIf",!i.product.product.dateOfOrderDelivered&&!i.product.product.isOrderCancled),z(),ct("ngIf",i.product.product.isOrderCancled),z(),ct("ngIf",i.product.product.dateOfOrderDelivered)}}function IV(n,t){if(n&1&&(T(0,"mat-card",6)(1,"mat-card-header")(2,"div",7)(3,"div",8),Ct(4,fV,1,2,"img",9)(5,pV,1,2,"img",10),A(),T(6,"div",11)(7,"mat-card-title"),V(8),A(),T(9,"mat-card-subtitle"),V(10),A(),Ct(11,vV,6,3,"mat-card-actions",12),A()()(),Ct(12,EV,6,3,"mat-card-actions",12),A()),n&2){let i=t.$implicit,e=bt();z(4),ct("ngIf",!e.isMobile),z(),ct("ngIf",e.isMobile),z(3),li(i.product.product.name),z(2),de("Order Id : ",i.orderId,""),z(),ct("ngIf",!e.isMobile),z(),ct("ngIf",e.isMobile)}}var p1=(()=>{let t=class t{constructor(e,r,o,s){this.dataService=e,this.router=r,this.mediaQueryService=o,this.dialog=s,this.orders=[],this.searchQuery="",this.filteredOrders=[]}ngOnInit(){this.fetchOrders(),this.mediaQueryService.isMobile$.subscribe(e=>{this.isMobile=e})}fetchOrders(){this.dataService.getAllOrders().subscribe(e=>{this.orders=e,this.filteredOrders=[...e],console.log("Orders:",this.orders)},e=>{console.error("Error fetching orders:",e)})}deliverOrder(e,r){let o=new wi;o.position={top:"250px"},o.data={message:"Are you sure you want to deliver this order?"},this.dialog.open(To,o).afterClosed().subscribe(a=>{a&&this.dataService.deliveredOrder(e,r)?.then(l=>{console.log("Order delivered:")}).catch(l=>{console.error("Error delivering orders:",l)})})}viewOrder(e){this.dataService.setOrderData(e),this.router.navigate(["order-details"])}routeToHome(){this.router.navigate(["dashboard"])}searchOrders(){this.filteredOrders=this.orders.filter(e=>this.matchesSearchCriteria(e)),console.log("filteredOrders : ",this.filteredOrders)}matchesSearchCriteria(e){let r=this.searchQuery.toLowerCase();return Object.values(e).some(o=>o.toString().toLowerCase().includes(r))}};t.\u0275fac=function(r){return new(r||t)(E(Cn),E(ee),E(Vm),E(xi))},t.\u0275cmp=st({type:t,selectors:[["app-view-orders"]],decls:10,vars:2,consts:[[1,"example-spacer"],["mat-icon-button","",1,"home",3,"click"],[1,"scrollablePart"],["class","onEmptyOrder",4,"ngIf"],["class","example-card","appearance","outlined",4,"ngFor","ngForOf"],[1,"onEmptyOrder"],["appearance","outlined",1,"example-card"],[1,"products"],[1,"img"],["mat-card-lg-image","",3,"src","alt",4,"ngIf"],["mat-card-md-image","",3,"src","alt",4,"ngIf"],[1,"desc"],[4,"ngIf"],["mat-card-lg-image","",3,"src","alt"],["mat-card-md-image","",3,"src","alt"],["mat-flat-button","",3,"click",4,"ngIf"],["mat-flat-button","","disabled","true",3,"ngStyle",4,"ngIf"],["mat-flat-button","",3,"click"],["mat-flat-button","","disabled","true",3,"ngStyle"]],template:function(r,o){r&1&&(T(0,"mat-toolbar")(1,"span"),V(2,"My Orders"),A(),ot(3,"span",0),T(4,"button",1),dt("click",function(){return o.routeToHome()}),T(5,"mat-icon"),V(6,"home"),A()()(),T(7,"div",2),Ct(8,mV,3,0,"div",3)(9,IV,13,6,"mat-card",4),A()),r&2&&(z(8),ct("ngIf",o.orders.length===0),z(),ct("ngForOf",o.filteredOrders.reverse()))},dependencies:[Ud,Di,Jy,Tn,yr,dn,Ua,jm,Yr,zm,qS,Ha,qa,Ni],styles:[".example-card[_ngcontent-%COMP%]{margin-bottom:8px;width:60%;margin-left:20%;margin-right:20%}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.scrollablePart[_ngcontent-%COMP%]{margin-top:80px;overflow-y:auto}.mat-toolbar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:1000;background-color:#fff;border-bottom:1px solid #ccc;padding:10px}.home[_ngcontent-%COMP%]{color:#000}.onEmptyOrder[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:20px}.products[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.img[_ngcontent-%COMP%]{margin:10px;align-items:center}.desc[_ngcontent-%COMP%]{margin:10px}@media (max-width: 1024px){.example-card[_ngcontent-%COMP%]{width:80%;margin-left:10%;margin-right:10%}}@media (max-width: 768px){.example-card[_ngcontent-%COMP%]{width:80%;margin-left:10%;margin-right:10%}}@media (max-width: 480px){.desc1[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center}.img[_ngcontent-%COMP%]{margin:0 auto 10px}.desc2[_ngcontent-%COMP%]{margin:0}.example-card[_ngcontent-%COMP%]{width:90%;margin-left:5%;margin-right:5%}}"]});let n=t;return n})();var kV=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:GI},{path:"dashboard",component:s1},{path:"register",component:WI},{path:"varify-email",component:KI},{path:"forgot-password",component:HI},{path:"product",component:u1},{path:"orders",component:p1},{path:"order-details",component:h1},{path:"add-product",component:a1},{path:"edit-product",component:l1}],g1=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=X({imports:[Up.forRoot(kV),Up]});let n=t;return n})();var _1=(()=>{let t=class t{constructor(){this.title="admin"}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=st({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(r,o){r&1&&ot(0,"router-outlet")},dependencies:[Bc]});let n=t;return n})();var CV="@",TV=(()=>{let t=class t{constructor(e,r,o,s,a){this.doc=e,this.delegate=r,this.zone=o,this.animationType=s,this.moduleImpl=a,this._rendererFactoryPromise=null,this.scheduler=H(My,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-Z5YE7JJ7.js")).catch(r=>{throw new zt(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:o})=>{this._engine=r(this.animationType,this.doc,this.scheduler);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(e,r){let o=this.delegate.createRenderer(e,r);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let s=new h0(o);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let l=a.createRenderer(e,r);s.use(l)}).catch(a=>{s.use(o)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};t.\u0275fac=function(r){oo()},t.\u0275prov=q({token:t,factory:t.\u0275fac});let n=t;return n})(),h0=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let i of this.replay)i(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,i){return this.delegate.createElement(t,i)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,i){this.delegate.appendChild(t,i)}insertBefore(t,i,e,r){this.delegate.insertBefore(t,i,e,r)}removeChild(t,i,e){this.delegate.removeChild(t,i,e)}selectRootElement(t,i){return this.delegate.selectRootElement(t,i)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,i,e,r){this.delegate.setAttribute(t,i,e,r)}removeAttribute(t,i,e){this.delegate.removeAttribute(t,i,e)}addClass(t,i){this.delegate.addClass(t,i)}removeClass(t,i){this.delegate.removeClass(t,i)}setStyle(t,i,e,r){this.delegate.setStyle(t,i,e,r)}removeStyle(t,i,e){this.delegate.removeStyle(t,i,e)}setProperty(t,i,e){this.shouldReplay(i)&&this.replay.push(r=>r.setProperty(t,i,e)),this.delegate.setProperty(t,i,e)}setValue(t,i){this.delegate.setValue(t,i)}listen(t,i,e){return this.shouldReplay(i)&&this.replay.push(r=>r.listen(t,i,e)),this.delegate.listen(t,i,e)}shouldReplay(t){return this.replay!==null&&t.startsWith(CV)}};function b1(n="animations"){return Py("NgAsyncAnimations"),Ad([{provide:Pd,useFactory:(t,i,e)=>new TV(t,i,e,n),deps:[mt,Zd,J]},{provide:ae,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var v1={production:!1,firebase:{apiKey:"AIzaSyBc7dCqC2t-HJB5PTcbyFxph50CyEb36LA",authDomain:"thekalamart-7d5f6.firebaseapp.com",projectId:"thekalamart-7d5f6",storageBucket:"thekalamart-7d5f6.appspot.com",messagingSenderId:"372317958729",appId:"1:372317958729:web:648ce8673e9ccdb4ed4598"}};var y1=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=X({imports:[Qc]});let n=t;return n})();var w1=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t}),t.\u0275inj=X({imports:[It,y1,It]});let n=t;return n})();var x1=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=Z({type:t,bootstrap:[_1]}),t.\u0275inj=X({providers:[b1()],imports:[Iw,g1,DE.initializeApp(v1.firebase),pI,US,Eg,$S,lE,tk,ZS,qI,cd,$I,uh,rk,w1,e1,r1]});let n=t;return n})();Ew().bootstrapModule(x1).catch(n=>console.error(n));
